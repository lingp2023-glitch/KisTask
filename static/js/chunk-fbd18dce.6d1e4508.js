(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fbd18dce"],{"58bd":function(t,a,e){"use strict";e.r(a);var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("el-popover",{attrs:{placement:"right",width:"400",trigger:"click"},model:{value:t.ShowAdd,callback:function(a){t.ShowAdd=a},expression:"ShowAdd"}},[e("div",{staticClass:"addAttrWrap"},[e("el-input",{attrs:{size:"mini",width:"100px",placeholder:"请输入规格名称"},model:{value:t.attr_item.attr_name,callback:function(a){t.$set(t.attr_item,"attr_name",a)},expression:"attr_item.attr_name"}}),e("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",size:"mini"},on:{click:t.addAttrItem}},[t._v("添加")])],1),e("el-button",{attrs:{slot:"reference",type:"primary",size:"mini"},slot:"reference"},[t._v("添加认证")])],1),e("el-table",{staticStyle:{"margin-top":"10px"},attrs:{data:t.attr,border:""}},[e("el-table-column",{attrs:{prop:"attr_name",label:"规格名称",width:"200"}}),e("el-table-column",{attrs:{prop:"attr_value",label:"规格值"},scopedSlots:t._u([{key:"default",fn:function(a){return t._l(a.row.values,function(r,i){return e("el-tag",{key:r.attr_value,staticClass:"tag",attrs:{name:r.attr_value,"disable-transitions":!0,closable:""},on:{click:function(e){return t.editAttrValue(r,a.$index,i)},close:function(e){return t.delAttrValue(a.$index,i)}}},[t._v("\n          "+t._s(r.attr_value)+"\n        ")])})}}])}),e("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-link",{staticClass:"attr_link",attrs:{underline:!1},on:{click:function(e){return t.addAttrDialog(a.$index)}}},[t._v("增加")]),e("el-link",{staticClass:"attr_link",attrs:{underline:!1},on:{click:function(e){return t.delAttr(a.$index)}}},[t._v("删除")])]}}])})],1),e("el-dialog",{attrs:{"append-to-body":"",title:"属性值",visible:t.addAttrValueShow,width:"30%"},on:{"update:visible":function(a){t.addAttrValueShow=a},closed:t.closed}},[e("el-form",{ref:"addAttrValueData",attrs:{"label-width":"auto",model:t.attr_value,rules:t.rules}},[e("el-form-item",{attrs:{label:"规格值",prop:"attr_value"}},[e("el-input",{model:{value:t.attr_value.attr_value,callback:function(a){t.$set(t.attr_value,"attr_value",a)},expression:"attr_value.attr_value"}})],1),e("el-form-item",{attrs:{label:"图片",prop:"attr_img"}},[e("div",{staticClass:"avatar-uploader",on:{click:t.selectPic}},[t.attr_value.min_img||t.attr_value.attr_img?e("BaseElImage",{attrs:{custom_class:"avatar",custom_src:t.attr_value.min_img||t.attr_value.attr_img,fit:"cover"}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})],1)])],1),e("picture-library",{ref:"pic",attrs:{appendToBody:!0},on:{getData:t.getPic}}),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(a){t.addAttrValueShow=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.setAttrValue}},[t._v("确 定")])],1)],1)],1)},i=[],l=(e("ac6a"),e("cebc")),n=e("0bba"),s={components:{PictureLibrary:n["a"]},props:{attr:{type:[Array,String],required:!0,default:function(){return[]}}},data:function(){return{ShowAdd:!1,addAttrValueShow:!1,data:[],rowIndex:"",rowIdx:"",attr_item:{attr_name:"",values:[]},attr_value:{attr_value:"",attr_img:"",min_img:""},rules:{attr_value:[{required:!0,message:"请输入规格值",trigger:"blur"}]}}},methods:{closed:function(){this.rowIndex="",this.rowIdx="",this.attr_value.min_img="",this.attr_value.attr_img="",this.attr_value.attr_value=""},addAttrItem:function(){this.attr_item.attr_name&&(this.attr.push(Object(l["a"])({},this.attr_item)),this.attr_item={attr_name:"",values:[]},this.ShowAdd=!1,this.updateAttr())},addAttrDialog:function(t){this.rowIndex=t,this.addAttrValueShow=!0},editAttrValue:function(t,a,e){this.attr_value=Object(l["a"])({},t),this.rowIndex=a,this.rowIdx=e,this.addAttrValueShow=!0},selectPic:function(){this.$refs.pic.open()},getPic:function(t){this.attr_value.attr_img=t.src_file,this.attr_value.min_img=t.min_file},setAttrValue:function(){var t=!1;if(this.$refs["addAttrValueData"].validate(function(a){t=a}),t){var a=this.attr_value,e=a.attr_value,r=a.attr_img;"string"==typeof this.rowIdx?this.attr[this.rowIndex].values.push({attr_value:e,attr_img:r}):this.$set(this.attr[this.rowIndex].values,this.rowIdx,{attr_value:e,attr_img:r}),this.updateAttr(),this.addAttrValueShow=!1}},delAttr:function(t){this.attr.splice(t,1),this.updateAttr()},delAttrValue:function(t,a){this.attr[t].values.splice(a,1),this.updateAttr()},updateAttr:function(){this.$emit("update:attr",this.attr)}}},u=s,o=(e("c386"),e("2877")),c=Object(o["a"])(u,r,i,!1,null,"6433474a",null);a["default"]=c.exports},c386:function(t,a,e){"use strict";var r=e("cf11"),i=e.n(r);i.a},cf11:function(t,a,e){}}]);