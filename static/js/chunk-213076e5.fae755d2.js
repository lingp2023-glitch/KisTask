(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-213076e5","chunk-f4ab512a"],{"0719":function(t,e,a){"use strict";a.r(e);var o=a("97a1");e["default"]=o["default"]},"1e08":function(t,e,a){"use strict";var o=a("6b33"),s=a.n(o);s.a},"6b33":function(t,e,a){},"97a1":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:t.title,visible:t.show,width:"30%"},on:{"update:visible":function(e){t.show=e},close:t.closed}},[a("div",[a("el-form",{ref:"form",staticClass:"form",attrs:{rules:t.rules,model:t.data,"label-width":"auto"}},[a("el-form-item",{attrs:{label:"应用名称",prop:"app_name"}},[a("el-input",{model:{value:t.data.app_name,callback:function(e){t.$set(t.data,"app_name",e)},expression:"data.app_name"}})],1),a("el-form-item",{attrs:{label:"应用简介",prop:"intro"}},[a("el-input",{model:{value:t.data.intro,callback:function(e){t.$set(t.data,"intro",e)},expression:"data.intro"}})],1),a("el-form-item",{attrs:{label:"应用logo"}},[a("div",{staticClass:"form-logo",on:{click:t.openPic}},[t.data.min_logo||t.data.logo?a("base-img",{attrs:{custom_style:{width:"100px",height:"100px"},custom_src:t.data.logo,fit:"cover"}}):a("i",{staticClass:"el-icon-plus"})],1)])],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.show=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1)])},s=[],n=a("86d8"),i=a("365c"),r={appList:"list",appAdd:"add",appMod:"mod",appDel:"del"};function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].post(r.appAdd,t,"gm/app")}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].post(r.appMod,t,"gm/app")}var c={components:{baseImg:n["a"]},props:{data:{type:Object,required:!0},title:{type:String,default:function(){return"新增"}},type:{type:String,default:function(){return"add"}}},data:function(){return{show:!1,rules:{app_name:[{required:!0,message:"请输入应用名称",trigger:"blur"}],intro:[{required:!0,message:"请输入应用简介",trigger:"blur"}],logo:[{required:!0,message:"请选择应用logo",trigger:"blur"}]}}},methods:{closed:function(){this.$emit("update:data",{})},openPic:function(){this.$parent.openPic()},open:function(){this.show=!0},submit:function(){var t=!1;if(this.$refs["form"].validate(function(e){return t=e,e}),t)switch(this.type){case"add":this.appAdd();break;case"edit":this.appMod();break}},appAdd:function(){var t=this,e=this.data,a=e.app_name,o=e.logo,s=e.intro;p({app_name:a,logo:o,intro:s}).then(function(e){0==e.code?(t.$message({message:"新增成功",type:"success"}),t.$parent.appList()):t.$message({message:e.msg||"新增失败",type:"error"})}).finally(function(){t.show=!1})},appMod:function(){var t=this,e=this.data,a=e.app_name,o=e.logo,s=e.intro,n=e.app_code;l({app_name:a,logo:o,intro:s,app_code:n}).then(function(e){0==e.code?(t.$message({message:"修改成功",type:"success"}),t.$parent.appList()):t.$message({message:e.msg||"新增失败",type:"error"})}).finally(function(){t.show=!1})}}},u=c,d=(a("1e08"),a("2877")),m=Object(d["a"])(u,o,s,!1,null,"5059b344",null);e["default"]=m.exports}}]);