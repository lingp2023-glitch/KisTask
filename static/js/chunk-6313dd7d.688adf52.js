(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6313dd7d"],{5132:function(e,t,s){"use strict";s.d(t,"b",(function(){return l})),s.d(t,"d",(function(){return r})),s.d(t,"a",(function(){return n})),s.d(t,"c",(function(){return o}));var a=s("365c"),i={addIssue:"add",issueList:"list",queryWorker:"queryWorker",issueInfo:"info"};function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a["a"].post(i.issueInfo,e,"api/issue")}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a["a"].post(i.queryWorker,e,"api/issue")}function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a["a"].post(i.addIssue,e,"api/issue")}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a["a"].post(i.issueList,e,"api/issue")}},"566c":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"className"},[s("el-card",{staticClass:"anoCard"},[s("div",{attrs:{slot:"header"},slot:"header"},[s("span",[e._v("我的工作")])]),s("div",{staticClass:"searchDiv"},[s("div",{staticClass:"search-name"},[s("el-input",{attrs:{placeholder:"查询字符"},model:{value:e.searchData.query_str,callback:function(t){e.$set(e.searchData,"query_str",t)},expression:"searchData.query_str"}})],1),s("div",{staticClass:"search-btn"},[s("el-button",{attrs:{type:"success"},on:{click:e.getIssueList}},[e._v("搜索")])],1)]),s("div",[s("el-tabs",{on:{"tab-click":e.handleTabsClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"待办",name:"work"}}),s("el-tab-pane",{attrs:{label:"已办",name:"finish"}}),s("el-tab-pane",{attrs:{label:"已创建",name:"create"}})],1)],1),s("div",{staticClass:"box"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.issuesData.list,border:"","header-cell-style":{background:"#f5f7fa",color:"#606266"}},on:{"cell-click":e.showIssuesDetail}},[s("el-table-column",{attrs:{prop:"title",label:"标题"}}),s("el-table-column",{attrs:{prop:"priority_name",width:"100",label:"优先级"}}),s("el-table-column",{attrs:{prop:"severity_name",width:"100",label:"严重程度"}}),s("el-table-column",{attrs:{prop:"status",width:"100",label:"状态"}}),s("el-table-column",{attrs:{prop:"workers",width:"150",label:"处理人"}}),s("el-table-column",{attrs:{prop:"creater",width:"150",label:"创建人"}}),s("el-table-column",{attrs:{prop:"create_time",width:"200",label:"创建时间"}})],1)],1),s("pagination",{attrs:{data:e.issuesData},on:{change:e.getIssueList}})],1),s("el-drawer",{attrs:{visible:e.showDetail,direction:"rtl",size:"50%","before-close":e.handleClose},on:{"update:visible":function(t){e.showDetail=t}}},[s("div",{staticClass:"issuesBox"},[s("div",{staticClass:"boxLeft"},[s("div",{staticClass:"boxTitle"},[e._v("\n          "+e._s(e.issuesDetail.title)+"\n        ")]),s("div",{staticClass:"boxContent",domProps:{innerHTML:e._s(e.issuesDetail.content)}}),s("div",{staticClass:"subTitle"},[e._v("\n          工作流\n        ")]),s("el-radio-group",{model:{value:e.issuesType,callback:function(t){e.issuesType=t},expression:"issuesType"}},[s("el-radio-button",{attrs:{label:"实现中"}}),s("el-radio-button",{attrs:{label:"已实现"}}),s("el-radio-button",{attrs:{label:"已拒绝"}})],1),s("div",{staticClass:"flowContent"},[s("el-form",{ref:"form",attrs:{model:e.form,"status-icon":"",rules:e.rules,"label-width":"auto"}},[s("el-form-item",{attrs:{label:"处理人",prop:"workers"}},[s("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"处理人"},on:{change:e.changWorker},model:{value:e.form.workers,callback:function(t){e.$set(e.form,"workers",t)},expression:"form.workers"}},e._l(e.severityList,(function(e){return s("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1)],1),s("u-e",{ref:"quill",staticClass:"introClass",on:{senHtml:e.getHtml}})],1)],1),s("div",{staticClass:"boxRight"},[s("el-descriptions",{attrs:{column:1}},[s("el-descriptions-item",{attrs:{label:"优先级"}},[e._v(e._s(e.issuesDetail.priority_name))]),s("el-descriptions-item",{attrs:{label:"严重程度"}},[e._v(e._s(e.issuesDetail.severity_name))]),s("el-descriptions-item",{attrs:{label:"状态"}},[e._v(e._s(e.issuesDetail.status))]),s("el-descriptions-item",{attrs:{label:"处理人"}},[e._v(e._s(e.issuesDetail.workers))]),s("el-descriptions-item",{attrs:{label:"创建人"}},[e._v(e._s(e.issuesDetail.creater))]),s("el-descriptions-item",{attrs:{label:"创建时间"}},[e._v(e._s(e.issuesDetail.create_time))])],1)],1)])])],1)},i=[],l=(s("7f7f"),s("5132")),r=s("4632"),n=s("cf2d"),o={name:"user",components:{pagination:r["a"],UE:n["a"]},data:function(){return{activeName:"work",searchData:{query_str:""},issuesData:{},showDetail:!1,issuesDetail:{},issuesType:"实现中",form:{workers:""},rules:{workers:[{required:!0,message:"搜索选择处理人",trigger:"blur"}]},severityList:[{name:"致命",value:0},{name:"严重",value:1},{name:"一般",value:2},{name:"提示",value:3},{name:"建议",value:4}]}},filters:{},computed:{page:function(){return this.issuesData.page}},created:function(){this.getIssueList()},methods:{showIssuesDetail:function(e){var t=this;console.log(e),Object(l["b"])({issue_id:e.id}).then((function(e){t.issuesDetail=e.data,t.showDetail=!0}))},handleClose:function(){this.showDetail=!1},handleTabsClick:function(e){console.log(e.name),this.activeName=e.name,this.getIssueList()},getIssueList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,s=this.searchData.query_str;Object(l["c"])({page:t,query_str:s,query_code:this.activeName}).then((function(t){0==t.code&&(e.issuesData=t.data)}))},changWorker:function(){this.$refs["form"].validateField("workers")}}},c=o,u=(s("ccac"),s("2877")),d=Object(u["a"])(c,a,i,!1,null,null,null);t["default"]=d.exports},"58c6":function(e,t,s){},ccac:function(e,t,s){"use strict";var a=s("58c6"),i=s.n(a);i.a}}]);