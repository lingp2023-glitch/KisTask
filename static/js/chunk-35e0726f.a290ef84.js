(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-35e0726f","chunk-7e2be1ce"],{"10ac":function(t,e,n){"use strict";var a=n("555e"),r=n.n(a);r.a},"2fad":function(t,e,n){"use strict";n.r(e);var a=n("73da");e["default"]=a["default"]},4632:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pagination"},[n("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next",total:t.data.total_count,"page-count":t.data.page_count,"page-size":t.data.page_size},on:{"current-change":t.change}})],1)},r=[],s={props:{data:{type:Object,default:function(){return{}}}},computed:{},methods:{change:function(t){this.$emit("change",t)}}},o=s,i=(n("10ac"),n("2877")),d=Object(i["a"])(o,a,r,!1,null,null,null),u=d.exports;e["a"]=u},"555e":function(t,e,n){},"73da":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"className"},[n("el-card",{staticClass:"anoCard"},[n("div",{attrs:{slot:"header"},slot:"header"},[n("span",[t._v("系统用户列表")])]),n("div",{staticClass:"searchDiv"},[n("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.modal=!0,t.dialog_title="添加系统用户"}}},[t._v("添加")])],1),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.userList,border:"",stripe:""}},[n("el-table-column",{attrs:{prop:"userid",label:"ID",width:"120"}}),n("el-table-column",{attrs:{prop:"name",label:"用户名"}}),n("el-table-column",{attrs:{prop:"role_name",label:"角色名"}}),n("el-table-column",{attrs:{prop:"phone",label:"账号"}}),n("el-table-column",{attrs:{prop:"status",label:"操作",width:"250px",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(n){return t.edit(e.row)}}},[t._v("编辑")]),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(n){return t.pwdEdit(e.row)}}},[t._v("修改密码")]),"0"==e.row.is_delete?n("el-popconfirm",{attrs:{title:"你确定要删除吗？",confirmButtonType:"danger"},on:{confirm:function(n){return t.del(e.row)}}},[n("el-button",{staticStyle:{"margin-left":"8px"},attrs:{slot:"reference",type:"danger",size:"mini"},slot:"reference"},[t._v("删除")])],1):n("el-popconfirm",{attrs:{title:"你确定要恢复吗？",confirmButtonType:"danger"},on:{confirm:function(n){return t.resumSysUser(e.row)}}},[n("el-button",{staticStyle:{"margin-left":"8px"},attrs:{slot:"reference",type:"success",size:"mini"},slot:"reference"},[t._v("恢复")])],1)]}}])})],1)],1),n("el-dialog",{attrs:{title:t.dialog_title,visible:t.modal,width:"400px","before-close":t.handleClose,"close-on-click-modal":!1},on:{"update:visible":function(e){t.modal=e}}},[n("el-form",{attrs:{"label-width":"auto",model:t.userData}},[n("el-form-item",{attrs:{label:"用户"}},[n("el-input",{model:{value:t.userData.name,callback:function(e){t.$set(t.userData,"name",e)},expression:"userData.name"}})],1),n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"添加系统用户"==t.dialog_title,expression:"dialog_title == '添加系统用户'"}],attrs:{label:"密码"}},[n("el-input",{model:{value:t.userData.password,callback:function(e){t.$set(t.userData,"password",e)},expression:"userData.password"}})],1),n("el-form-item",{attrs:{label:"手机"}},[n("el-input",{model:{value:t.userData.phone,callback:function(e){t.$set(t.userData,"phone",e)},expression:"userData.phone"}})],1),n("el-form-item",{attrs:{label:"角色"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择角色"},model:{value:t.userData.roleid,callback:function(e){t.$set(t.userData,"roleid",e)},expression:"userData.roleid"}},t._l(t.roleList,function(t){return n("el-option",{key:t.roleid,attrs:{label:t.role_name,value:t.roleid}})}),1)],1),n("el-form-item",{attrs:{label:"品牌"}},[n("el-button",{on:{click:t.showBrandSelect}},[t._v(t._s(t.userData.brand_name?t.userData.brand_name:"请选择品牌"))])],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.modal=!1}}},[t._v("取 消")]),n("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.userData.userid,expression:"!userData.userid"}],attrs:{type:"primary"},on:{click:t.addSysUser}},[t._v("确 定")]),n("el-button",{directives:[{name:"show",rawName:"v-show",value:t.userData.userid,expression:"userData.userid"}],attrs:{type:"primary"},on:{click:t.modSysUser}},[t._v("确 定")])],1)],1),n("el-dialog",{attrs:{title:"品牌选择",visible:t.brandSelect},on:{"update:visible":function(e){t.brandSelect=e}}},[n("div",{},[n("el-row",{attrs:{gutter:20}},t._l(t.brandData.list,function(e,a){return n("el-col",{key:a,attrs:{span:6}},[n("el-button",{on:{click:function(n){return t.selectBrand(e)}}},[t._v(t._s(e.name))])],1)}),1)],1),n("pagination",{attrs:{data:t.brandData},on:{change:t.getBrandList}})],1),n("el-dialog",{attrs:{title:"修改密码",visible:t.pwd_modal,width:"30%","before-close":t.handleClose,"close-on-click-modal":!1},on:{"update:visible":function(e){t.pwd_modal=e}}},[n("el-form",{ref:"editPwd",attrs:{model:t.pwdData,"status-icon":"",rules:t.editPwdRules,"label-width":"auto"}},[n("el-form-item",{attrs:{label:"新密码",prop:"user_pass"}},[n("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:t.pwdData.user_pass,callback:function(e){t.$set(t.pwdData,"user_pass",e)},expression:"pwdData.user_pass"}})],1),n("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[n("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:t.pwdData.checkPass,callback:function(e){t.$set(t.pwdData,"checkPass",e)},expression:"pwdData.checkPass"}})],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.pwd_modal=!1}}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.modSysUserPwd}},[t._v("确 定")])],1)],1)],1)},r=[],s=n("cebc"),o=(n("7f7f"),n("96cf"),n("3b8d")),i=n("9add"),d=n("90e7"),u=(n("7ded"),n("4632")),l={name:"setting.user",data:function(){var t=this,e=function(e,n,a){""===n?a(new Error("请再次输入密码")):n!==t.pwdData.user_pass?a(new Error("两次输入密码不一致!")):a()};return{loadingList:!1,brandData:{},brandSelect:!1,userList:[],modal:!1,pwd_modal:!1,gradeList:[],roleList:[],userData:{name:"",phone:"",roleid:"",password:"",brand_id:"",brand_name:""},pwdData:{userid:"",user_pass:"",checkPass:""},editPwdRules:{user_pass:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:6,max:11,message:"长度在 6 到 11 个字符之间",trigger:"blur"}],checkPass:[{validator:e,trigger:"blur"},{required:!0,trigger:"blur"}]},dialog_title:"添加系统用户"}},created:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getSysUserList();case 2:this.getSysRoleList(),this.getBrandList();case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),components:{pagination:u["a"]},filters:{},methods:{selectBrand:function(t){this.userData.brand_id=t.brand_id,this.userData.brand_name=t.name,this.brandSelect=!1},getBrandList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.loadingList=!0,Object(i["d"])({page:e}).then(function(e){0==e.code&&(console.log(e.data),t.brandData=e.data)}).finally(function(){t.loadingList=!1})},showBrandSelect:function(){this.brandSelect=!0},handleClose:function(t){this.userData={name:"",phone:"",roleid:"",brand_name:"",brand_id:""},this.pwdData={userid:"",user_pass:"",checkPass:""},console.log(this.$refs),this.$refs["editPwd"]&&this.$refs["editPwd"].resetFields(),t()},edit:function(t){this.dialog_title="编辑";var e=this.userData;e.roleid=t.roleid,e.name=t.name,e.phone=t.phone,e.userid=t.userid,e.brand_id=t.brand_id,e.brand_name=t.brand_name,this.userData=e,this.modal=!0},pwdEdit:function(t){this.pwdData.userid=t.userid,this.pwd_modal=!0},modSysUserPwd:function(){var t=this;this.$refs.editPwd.validate(function(e){if(!e)return!1;var n=t.pwdData,a=n.user_pass,r=n.userid;Object(d["i"])({user_pass:a,userid:r}).then(function(e){0==e.code&&(t.pwd_modal=!1,t.$message({message:"修改成功",type:"success"}))})})},del:function(t){var e=this,n=t.userid;Object(d["d"])({userid:n}).then(function(t){0==t.code&&(e.getSysUserList(),e.$message({message:"删除成功",type:"success"}))})},resumSysUser:function(t){var e=this,n=t.userid;Object(d["j"])({userid:n}).then(function(t){0==t.code&&(e.getSysUserList(),e.$message({message:"恢复成功",type:"success"}))})},modSysUser:function(){var t=this;Object(d["h"])(Object(s["a"])({},this.userData)).then(function(e){0==e.code&&(t.modal=!1,t.getSysUserList(),t.$message({message:"编辑成功",type:"success"}))})},addSysUser:function(){var t=this;Object(d["b"])(Object(s["a"])({},this.userData)).then(function(e){console.log(e),0==e.code&&(t.modal=!1,t.getSysUserList(),t.$message({message:"添加成功",type:"success"}))})},getSysUserList:function(){var t=this;Object(d["f"])().then(function(e){t.userList=e.data.list})},getSysRoleList:function(){var t=this;Object(d["e"])().then(function(e){t.roleList=e.data})}}},c=l,f=(n("bcee"),n("2877")),p=Object(f["a"])(c,a,r,!1,null,"0922c1a6",null);e["default"]=p.exports},"90e7":function(t,e,n){"use strict";n.d(e,"e",function(){return s}),n.d(e,"a",function(){return o}),n.d(e,"g",function(){return i}),n.d(e,"c",function(){return d}),n.d(e,"f",function(){return u}),n.d(e,"b",function(){return l}),n.d(e,"h",function(){return c}),n.d(e,"d",function(){return f}),n.d(e,"i",function(){return p}),n.d(e,"j",function(){return m});var a=n("365c"),r={getSysRoleList:"roleList",addSysRole:"roleAdd",modSysRole:"roleMod",delSysRole:"roleDel",getSysUserList:"list",addSysUser:"add",modSysUser:"mod",delSysUser:"del",modSysUserPwd:"modPwd",resumSysUser:"resumSysUser"};function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a["a"].post(r.getSysRoleList,t,"gm/account")}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a["a"].post(r.addSysRole,t,"gm/account")}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a["a"].post(r.modSysRole,t,"gm/account")}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a["a"].post(r.delSysRole,t,"gm/account")}function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a["a"].post(r.getSysUserList,t,"gm/account")}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a["a"].post(r.addSysUser,t,"gm/account")}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a["a"].post(r.modSysUser,t,"gm/account")}function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a["a"].post(r.delSysUser,t,"gm/account")}function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a["a"].post(r.modSysUserPwd,t,"gm/account")}function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a["a"].post(r.resumSysUser,t)}},"9add":function(t,e,n){"use strict";n.d(e,"d",function(){return s}),n.d(e,"a",function(){return o}),n.d(e,"n",function(){return i}),n.d(e,"p",function(){return d}),n.d(e,"b",function(){return u}),n.d(e,"c",function(){return l}),n.d(e,"e",function(){return c}),n.d(e,"o",function(){return f}),n.d(e,"g",function(){return p}),n.d(e,"f",function(){return m}),n.d(e,"h",function(){return g}),n.d(e,"j",function(){return h}),n.d(e,"l",function(){return b}),n.d(e,"k",function(){return v}),n.d(e,"m",function(){return w}),n.d(e,"i",function(){return y});var a=n("365c"),r={brandList:"list",addBrand:"add",runBrand:"run",stopBrand:"stop",editBrand:"mod",getAppBindUrl:"getAppBindUrl",getGhMes:"getAppBindInfo",setBookConfig:"bookConfig",brandMod:"mod",getBookConfig:"getBookConfig",getWorkData:"workData",getReport:"report",setTemplate:"setTemplate",mchInfoAdd:"mchInfoAdd",mchInfoMod:"mchInfoMod",mchInfoStepGet:"mchInfoStepGet",mchInfoSave:"mchInfoSave",mchInfoSubmit:"mchInfoSubmit",mchInfoGet:"mchInfoGet"};function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a["a"].post(r.brandList,t,"gm/brand")}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a["a"].post(r.addBrand,t,"gm/brand")}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a["a"].post(r.runBrand,t,"gm/brand")}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a["a"].post(r.stopBrand,t,"gm/brand")}function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a["a"].post(r.editBrand,t,"gm/brand")}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a["a"].post(r.getAppBindUrl,t,"gm/brand")}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a["a"].post(r.getGhMes,t,"gm/brand")}function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a["a"].post(r.setBookConfig,t,"gm/brand")}function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a["a"].post(r.getWorkData,t,"gm/brand")}function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a["a"].post(r.getReport,t,"gm/brand")}function g(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a["a"].post(r.mchInfoAdd,t,"gm/brand")}function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a["a"].post(r.mchInfoMod,t,"gm/brand")}function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a["a"].post(r.mchInfoStepGet,t,"gm/brand")}function v(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a["a"].post(r.mchInfoSave,t,"gm/brand")}function w(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a["a"].post(r.mchInfoSubmit,t,"gm/brand")}function y(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a["a"].post(r.mchInfoGet,t,"gm/brand")}},bcee:function(t,e,n){"use strict";var a=n("f1f4"),r=n.n(a);r.a},f1f4:function(t,e,n){}}]);