(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c9ad71a"],{"022e":function(t,e,n){"use strict";var i=n("9a69"),o=n.n(i);o.a},5118:function(t,e,n){(function(t){var i="undefined"!==typeof t&&t||"undefined"!==typeof self&&self||window,o=Function.prototype.apply;function a(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new a(o.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new a(o.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n("6017"),e.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n("c8ba"))},6017:function(t,e,n){(function(t,e){(function(t,n){"use strict";if(!t.setImmediate){var i,o=1,a={},s=!1,r=t.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(t);c=c&&c.setTimeout?c:t,"[object process]"==={}.toString.call(t.process)?h():m()?p():t.MessageChannel?g():r&&"onreadystatechange"in r.createElement("script")?v():b(),c.setImmediate=l,c.clearImmediate=d}function l(t){"function"!==typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var s={callback:t,args:e};return a[o]=s,i(o),o++}function d(t){delete a[t]}function f(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(n,i);break}}function u(t){if(s)setTimeout(u,0,t);else{var e=a[t];if(e){s=!0;try{f(e)}finally{d(t),s=!1}}}}function h(){i=function(t){e.nextTick((function(){u(t)}))}}function m(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}function p(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"===typeof n.data&&0===n.data.indexOf(e)&&u(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),i=function(n){t.postMessage(e+n,"*")}}function g(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;u(e)},i=function(e){t.port2.postMessage(e)}}function v(){var t=r.documentElement;i=function(e){var n=r.createElement("script");n.onreadystatechange=function(){u(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}function b(){i=function(t){setTimeout(u,0,t)}}})("undefined"===typeof self?"undefined"===typeof t?this:t:self)}).call(this,n("c8ba"),n("f28c"))},"9a69":function(t,e,n){},ca1b:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:t.title,visible:t.show,width:"90%",top:"20px","close-on-click-modal":!1},on:{"update:visible":function(e){t.show=e},closed:t.closed}},[n("div",{staticClass:"formBox"},[n("div",{staticClass:"boxLeft"},[n("div",{ref:"container",staticClass:"x6-graph"})]),n("div",{staticClass:"boxRight"},[n("button",{on:{click:t.addRect}},[t._v("添加矩形")]),n("button",{on:{click:t.addCircle}},[t._v("添加圆形")]),n("button",{on:{click:t.addEdge}},[t._v("连接节点")]),n("button",{on:{click:t.clear}},[t._v("清空")])])]),n("div",{staticClass:"dialog-footer"},[n("el-button",{on:{click:function(e){t.show=!1}}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1)])},o=[],a=n("5728"),s=n("5118"),r={data:function(){return{title:"流程图",show:!1,nodes:[],edges:[],graph:null}},components:{},filters:{},onLoad:function(t){},onShow:function(){},mounted:function(){},computed:{},methods:{closed:function(){this.graph&&this.graph.dispose()},submit:function(){this.show=!1,this.graph&&this.graph.dispose()},open:function(){var t=this;this.show=!0,Object(s["setTimeout"])((function(){t.initGraph()}),0)},initGraph:function(){this.graph=new a["b"]({container:this.$refs.container,width:800,height:600,grid:!0,mousewheel:{enabled:!0,zoomAtMousePosition:!0,modifiers:"ctrl",minScale:.5,maxScale:3},connecting:{router:"manhattan",connector:{name:"rounded",args:{radius:8}},anchor:"center",connectionPoint:"anchor",allowBlank:!1,snap:{radius:20},createEdge:function(){return new a["c"].Edge({attrs:{line:{stroke:"#A2B1C3",strokeWidth:2,targetMarker:{name:"block",width:12,height:8}}},zIndex:0})},validateConnection:function(t){var e=t.targetMagnet;return!!e}},highlighting:{magnetAdsorbed:{name:"stroke",args:{attrs:{fill:"#5F95FF",stroke:"#5F95FF"}}}}}),this.bindEvents()},bindEvents:function(){var t=this;this.graph.on("node:click",(function(e){var n=e.node;t.$emit("node-click",n)})),this.graph.on("edge:click",(function(e){var n=e.edge;t.$emit("edge-click",n)})),this.graph.on("blank:click",(function(){t.$emit("canvas-click")}))},addRect:function(){var t=this.graph.addNode({shape:"rect",x:100+400*Math.random(),y:100+300*Math.random(),width:80,height:40,attrs:{body:{fill:"#ffffff",stroke:"#9254de",strokeWidth:2,rx:4,ry:4},label:{text:"矩形节点",fill:"#9254de",fontSize:12}},ports:{groups:{top:{position:"top",attrs:{circle:{r:4,magnet:!0,stroke:"#9254de",strokeWidth:2,fill:"#fff",style:{visibility:"hidden"}}}},bottom:{position:"bottom",attrs:{circle:{r:4,magnet:!0,stroke:"#9254de",strokeWidth:2,fill:"#fff",style:{visibility:"hidden"}}}}},items:[{group:"top",id:"top-1"},{group:"bottom",id:"bottom-1"}]}});return this.nodes.push(t),t},addCircle:function(){var t=this.graph.addNode({shape:"circle",x:100+400*Math.random(),y:100+300*Math.random(),width:60,height:60,attrs:{body:{fill:"#ffffff",stroke:"#36cfc9",strokeWidth:2},label:{text:"圆形节点",fill:"#36cfc9",fontSize:12}},ports:{groups:{top:{position:"top",attrs:{circle:{r:4,magnet:!0,stroke:"#36cfc9",strokeWidth:2,fill:"#fff",style:{visibility:"hidden"}}}},bottom:{position:"bottom",attrs:{circle:{r:4,magnet:!0,stroke:"#36cfc9",strokeWidth:2,fill:"#fff",style:{visibility:"hidden"}}}}},items:[{group:"top",id:"top-1"},{group:"bottom",id:"bottom-1"}]}});return this.nodes.push(t),t},addEdge:function(){if(!(this.nodes.length<2)){var t=Math.floor(Math.random()*this.nodes.length),e=Math.floor(Math.random()*this.nodes.length);while(e===t)e=Math.floor(Math.random()*this.nodes.length);var n=this.nodes[t],i=this.nodes[e],o=this.graph.addEdge({source:{cell:n.id,port:"bottom-1"},target:{cell:i.id,port:"top-1"},attrs:{line:{stroke:"#A2B1C3",strokeWidth:2,targetMarker:{name:"block",width:12,height:8}}}});return this.edges.push(o),o}this.$message.warning("至少需要两个节点才能连接")},clear:function(){this.graph.clearCells(),this.nodes=[],this.edges=[]},exportData:function(){return this.graph.toJSON()},importData:function(t){this.graph.fromJSON(t)}}},c=r,l=(n("022e"),n("2877")),d=Object(l["a"])(c,i,o,!1,null,"610e37a5",null);e["default"]=d.exports}}]);