(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21b13e15","chunk-0a994dbe","chunk-b46a3630"],{"06bc":function(t,o,e){"use strict";e.r(o);var r=e("1756");o["default"]=r["default"]},1756:function(t,o,e){"use strict";e.r(o);var r=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("el-dialog",{attrs:{title:"编辑",visible:t.show,width:"70%","append-to-body":""},on:{"update:visible":function(o){t.show=o},closed:t.closed}},[e("el-form",{ref:"form",attrs:{model:t.data,"label-width":"auto",rules:t.rules}},[e("el-form-item",{attrs:{label:"成本价",prop:"cost_price"}},[e("el-input",{model:{value:t.data.cost_price,callback:function(o){t.$set(t.data,"cost_price",o)},expression:"data.cost_price"}})],1),e("el-form-item",{attrs:{label:"团购价",prop:"sale_price"}},[e("el-input",{model:{value:t.data.sale_price,callback:function(o){t.$set(t.data,"sale_price",o)},expression:"data.sale_price"}})],1),e("el-form-item",{attrs:{label:"市场价",prop:"market_price"}},[e("el-input",{model:{value:t.data.market_price,callback:function(o){t.$set(t.data,"market_price",o)},expression:"data.market_price"}})],1),e("el-form-item",{attrs:{label:"库存量",prop:"stock_num"}},[e("el-input",{model:{value:t.data.stock_num,callback:function(o){t.$set(t.data,"stock_num",o)},expression:"data.stock_num"}})],1),e("el-form-item",{attrs:{label:"销量",prop:"sales_num"}},[e("el-input",{model:{value:t.data.sales_num,callback:function(o){t.$set(t.data,"sales_num",o)},expression:"data.sales_num"}})],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(o){t.show=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1)],1)},n=[],a=e("901e"),s=e.n(a),i=e("c40e"),u={props:{data:{type:Object,required:!0}},data:function(){return{show:!1,rules:{cost_price:[{required:!0,message:"请输入成本价",trigger:"blur"}],sale_price:[{required:!0,message:"请输入团购价",trigger:"blur"}],market_price:[{required:!0,message:"请输入市场价",trigger:"blur"}],stock_num:[{required:!0,message:"请输入库存量",trigger:"blur"}],sales_num:[{required:!0,message:"请输入销量",trigger:"blur"}]}}},watch:{data:function(t){t.cost_price*=100,t.sale_price*=100,t.market_price*=100}},methods:{open:function(){this.show=!0},closed:function(){this.data.cost_price=this.data.cost_price/100,this.data.sale_price=this.data.sale_price/100,this.data.market_price=this.data.market_price/100,this.$emit("update:data",{})},submit:function(){var t=this,o=!1;if(this.$refs["form"].validate(function(t){o=t}),o){var e=this.data,r=e.sku_id,n=e.stock_num,a=e.sales_num,s=e.cost_price,u=e.sale_price,l=e.market_price;Object(i["t"])({sku_id:r,stock_num:n,sales_num:a,cost_price:s,sale_price:u,market_price:l}).then(function(o){0==o.code&&(t.$message({message:"编辑成功",type:"success"}),t.show=!1,t.$emit("refresh"))})}},formatPirce:function(t){return new s.a(t).multipliedBy(new s.a(100)).toNumber()}}},l=u,c=e("2877"),d=Object(c["a"])(l,r,n,!1,null,null,null);o["default"]=d.exports},c40e:function(t,o,e){"use strict";e.d(o,"p",function(){return a}),e.d(o,"m",function(){return s}),e.d(o,"k",function(){return i}),e.d(o,"n",function(){return u}),e.d(o,"l",function(){return l}),e.d(o,"h",function(){return c}),e.d(o,"o",function(){return d}),e.d(o,"q",function(){return p}),e.d(o,"j",function(){return f}),e.d(o,"i",function(){return g}),e.d(o,"t",function(){return m}),e.d(o,"s",function(){return _}),e.d(o,"r",function(){return v}),e.d(o,"u",function(){return h}),e.d(o,"g",function(){return k}),e.d(o,"v",function(){return b}),e.d(o,"w",function(){return w}),e.d(o,"d",function(){return y}),e.d(o,"e",function(){return S}),e.d(o,"a",function(){return G}),e.d(o,"b",function(){return P}),e.d(o,"c",function(){return x}),e.d(o,"f",function(){return L});var r=e("365c"),n={goodsGroupList:"groupList",goodsGroupAdd:"groupAdd",goodsGroupMod:"groupMod",goodsGroupDel:"groupDel",goodsGroupTree:"groupTree",goodsList:"list",goodsAdd:"add",goodsMod:"mod",goodsDel:"del",goodsAttrSet:"attrSet",goodsSkuSet:"skuSet",goodsSkuGet:"skuGet",goodsRun:"run",goodsStop:"stop",topList:"topList",setTop:"topSet",topCancel:"topCancel",applyList:"applyList",applyPool:"applyPool",applyCalc:"applyCalc",applyPut:"applyPut",fixPut:"fixPut",fixList:"fixList"};function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(n.goodsList,t,"gm/goods")}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(n.goodsGroupList,t,"gm/goods")}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(n.goodsGroupAdd,t,"gm/goods")}function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(n.goodsGroupMod,t,"gm/goods")}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(n.goodsGroupDel,t,"gm/goods")}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(n.goodsAdd,t,"gm/goods")}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(n.goodsGroupTree,t,"gm/goods")}function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(n.goodsMod,t,"gm/goods")}function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(n.goodsDel,t,"gm/goods")}function g(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(n.goodsAttrSet,t,"gm/goods")}function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(n.goodsSkuSet,t,"gm/goods")}function _(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(n.goodsSkuGet,t,"gm/goods")}function v(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(n.goodsRun,t,"gm/goods")}function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(n.goodsStop,t,"gm/goods")}function k(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].get(n.topList,t,"gm/goods")}function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].get(n.setTop,t,"gm/goods")}function w(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].get(n.topCancel,t,"gm/goods")}function y(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(n.applyList,t,"gm/goods")}function S(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(n.applyPool,t,"gm/goods")}function G(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(n.applyCalc,t,"gm/goods")}function P(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(n.applyPut,t,"gm/goods")}function x(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(n.fixPut,t,"gm/goods")}function L(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(n.fixList,t,"gm/goods")}},e876:function(t,o,e){"use strict";e.r(o);var r=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("el-dialog",{attrs:{title:"库存",visible:t.show,width:"70%"},on:{"update:visible":function(o){t.show=o},close:t.closed}},[e("el-table",{staticStyle:{"margin-top":"10px"},attrs:{data:t.skuData,border:""}},[e("el-table-column",{attrs:{prop:"goods_id",label:"商品标识"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("el-link",{staticClass:"attr_link",attrs:{underline:!1,type:"primary"},on:{click:function(e){return t.edit(o.row)}}},[t._v("\n          "+t._s(o.row.goods_id)+"\n        ")])]}}])}),e("el-table-column",{attrs:{prop:"attr_value_format",label:"库存名称"}}),e("el-table-column",{attrs:{prop:"cost_price",label:"成本价"}}),e("el-table-column",{attrs:{prop:"sale_price",label:"销售价"}}),e("el-table-column",{attrs:{prop:"market_price",label:"市场价"}}),e("el-table-column",{attrs:{prop:"stock_num",label:"库存"},scopedSlots:t._u([{key:"default",fn:function(o){return[t._v(" "+t._s(o.row.stock_num))]}}])}),e("el-table-column",{attrs:{prop:"sales_num",label:"销量"},scopedSlots:t._u([{key:"default",fn:function(o){return[t._v(t._s(o.row.sales_num))]}}])})],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:t.closePop}},[t._v("关闭")])],1),e("formSku",{ref:"sku",attrs:{data:t.formData},on:{refresh:t.goodsSkuGet,"update:data":function(o){t.formData=o}}})],1)},n=[],a=(e("ac6a"),e("901e")),s=e.n(a),i=e("06bc"),u=e("c40e"),l={components:{formSku:i["default"]},data:function(){return{show:!1,formData:{},skuData:[],goods_id:""}},methods:{formatPirce:function(t){return new s.a(t).dividedBy(new s.a(100)).toNumber()},closed:function(){this.$emit("update:data",[])},open:function(t){this.goods_id=t,this.show=!0,this.goodsSkuGet()},edit:function(t){this.formData=JSON.parse(JSON.stringify(t)),this.$refs.sku.open()},goodsSkuGet:function(){var t=this;Object(u["s"])({goods_id:this.goods_id}).then(function(o){0==o.code&&(o.data.forEach(function(o){o.cost_price=t.formatPirce(o.cost_price),o.sale_price=t.formatPirce(o.sale_price),o.market_price=t.formatPirce(o.market_price)}),t.skuData=o.data)})},closePop:function(){this.show=!1,location.reload()}}},c=l,d=e("2877"),p=Object(d["a"])(c,r,n,!1,null,"57abdfc6",null);o["default"]=p.exports}}]);