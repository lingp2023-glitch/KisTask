(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-78cfdc37","chunk-a8a6b998"],{1673:function(t,e,r){},"24d2":function(t,e,r){"use strict";r.d(e,"g",(function(){return n})),r.d(e,"m",(function(){return a})),r.d(e,"h",(function(){return s})),r.d(e,"f",(function(){return l})),r.d(e,"j",(function(){return c})),r.d(e,"i",(function(){return u})),r.d(e,"d",(function(){return f})),r.d(e,"e",(function(){return d})),r.d(e,"k",(function(){return m})),r.d(e,"l",(function(){return p})),r.d(e,"a",(function(){return v})),r.d(e,"c",(function(){return h})),r.d(e,"n",(function(){return g})),r.d(e,"b",(function(){return w}));var o=r("365c"),i={addProject:"add",editProject:"mod",getProjectList:"list",delProject:"del",flowStautsMod:"flowStautsMod",flowStatus:"flowStatus",flowActions:"flowActions",flowActionMod:"flowActionMod",flowInfo:"flowInfo",flowMod:"flowMod",flowAdd:"flowAdd",flowDel:"flowDel",flowList:"flowList",flowChartMod:"flowChartMod"};function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["a"].post(i.flowChartMod,t,"api/project")}function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["a"].post(i.flowList,t,"api/project")}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["a"].post(i.flowDel,t,"api/project")}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["a"].post(i.flowAdd,t,"api/project")}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["a"].post(i.flowMod,t,"api/project")}function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["a"].post(i.flowInfo,t,"api/project")}function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["a"].post(i.flowActionMod,t,"api/project")}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["a"].post(i.flowActions,t,"api/project")}function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["a"].post(i.flowStatus,t,"api/project")}function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["a"].post(i.flowStautsMod,t,"api/project")}function v(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["a"].post(i.addProject,t,"api/project")}function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["a"].post(i.editProject,t,"api/project")}function g(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["a"].post(i.getProjectList,t,"api/project")}function w(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["a"].post(i.delProject,t,"api/project")}},2760:function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"issuec_reate"},[r("div",{staticClass:"className"},[r("el-card",{staticClass:"anoCard"},[r("div",{attrs:{slot:"header"},slot:"header"},[r("span",[t._v("新建事务")])]),r("div",{staticClass:"formBox"},[r("div",[r("el-input",{attrs:{placeholder:"请输入标题"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}}),r("u-e",{ref:"quill",staticClass:"introClass",on:{senHtml:t.getHtml}})],1),r("div",{staticClass:"boxRight"},[r("el-form",{ref:"form",attrs:{model:t.form,"status-icon":"",rules:t.rules,"label-width":"auto"}},[r("el-form-item",{attrs:{label:"所属项目",prop:"project_id"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择所属项目"},on:{change:t.changProjectId},model:{value:t.form.project_id,callback:function(e){t.$set(t.form,"project_id",e)},expression:"form.project_id"}},t._l(t.projectList,(function(t){return r("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),r("el-form-item",{attrs:{label:"应用流程",prop:"flow_id"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{disabled:!t.form.project_id,placeholder:t.form.project_id?"搜索选择应用流程":"请先选择项目"},on:{change:t.changFlow},model:{value:t.form.flow_id,callback:function(e){t.$set(t.form,"flow_id",e)},expression:"form.flow_id"}},t._l(t.flowList,(function(t){return r("el-option",{key:t.flow_id,attrs:{label:t.name,value:t.flow_id}})})),1)],1),r("el-form-item",{attrs:{label:"优先级",prop:"priority"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择优先级"},on:{change:t.changPriority},model:{value:t.form.priority,callback:function(e){t.$set(t.form,"priority",e)},expression:"form.priority"}},t._l(t.priorityList,(function(t){return r("el-option",{key:t.value,attrs:{label:t.name,value:t.value}})})),1)],1),r("el-form-item",{attrs:{label:"严重程度",prop:"severity"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择严重程度"},on:{change:t.changSeverity},model:{value:t.form.severity,callback:function(e){t.$set(t.form,"severity",e)},expression:"form.severity"}},t._l(t.severityList,(function(t){return r("el-option",{key:t.value,attrs:{label:t.name,value:t.value}})})),1)],1),r("el-form-item",{attrs:{label:"处理人",prop:"workers"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",filterable:"",remote:"","reserve-keyword":"",disabled:!t.form.project_id,placeholder:t.form.project_id?"搜索选择处理人":"请先选择项目","remote-method":t.queryWorker,loading:t.loadingWorker},on:{change:t.changWorker},model:{value:t.form.workers,callback:function(e){t.$set(t.form,"workers",e)},expression:"form.workers"}},t._l(t.workersList,(function(t){return r("el-option",{key:t.userid,attrs:{label:t.name,value:t.userid}})})),1)],1),r("el-form-item",{attrs:{label:"预计开始",prop:"btime"}},[r("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择预计开始时间"},model:{value:t.form.btime,callback:function(e){t.$set(t.form,"btime",e)},expression:"form.btime"}})],1),r("el-form-item",{attrs:{label:"预计结束",prop:"etime"}},[r("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择预计结束时间"},model:{value:t.form.etime,callback:function(e){t.$set(t.form,"etime",e)},expression:"form.etime"}})],1)],1)],1)]),r("div",{staticClass:"controlBottom"},[r("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("提 交")])],1)])],1)])},i=[],n=r("cf2d"),a=r("5132"),s=r("24d2"),l={data:function(){return{form:{title:"",content:"",project_id:"",flow_id:"",severity:"",priority:"",workers:[],btime:"",etime:""},rules:{project_id:[{required:!0,message:"请选择所属项目",trigger:"blur"}],flow_id:[{required:!0,message:"请选择应用流程",trigger:"blur"}],severity:[{required:!0,message:"请选择优先级",trigger:"blur"}],priority:[{required:!0,message:"请选择严重程度",trigger:"blur"}],workers:[{required:!0,message:"搜索选择处理人",trigger:"blur"}],btime:[{required:!0,message:"选择开始日期时间",trigger:"blur"}],etime:[{required:!0,message:"选择结束日期时间",trigger:"blur"}]},severityList:[{name:"致命",value:0},{name:"严重",value:1},{name:"一般",value:2},{name:"提示",value:3},{name:"建议",value:4}],priorityList:[{name:"High",value:0},{name:"Middle",value:1},{name:"Low",value:2},{name:"NicetoHave",value:3}],projectList:[],loadingWorker:!1,workersList:[],flowList:[]}},components:{UE:n["a"]},filters:{},created:function(){this.getProjectList()},onShow:function(){},mounted:function(){},computed:{},methods:{getFlowList:function(){var t=this;Object(s["m"])({project_id:this.form.project_id}).then((function(e){0==e.code&&(t.flowList=e.data)}))},queryWorker:function(t){var e=this;this.loading=!0,Object(a["d"])({query_str:t,project_id:this.form.project_id}).then((function(t){0==t.code&&(e.workersList=t.data)}))},getProjectList:function(){var t=this;Object(s["n"])().then((function(e){0==e.code&&(t.projectList=e.data.list,console.log(t.projectList))}))},submit:function(){var t=this;this.form.title?this.form.content?this.$refs["form"].validate((function(e){if(e){var r=JSON.parse(JSON.stringify(t.form));r.workers=JSON.stringify(r.workers),Object(a["a"])(r).then((function(e){0==e.code&&(t.$message({message:"提交成功",duration:3e3,type:"success"}),t.form={title:"",content:"",severity:"",priority:"",flow_id:"",workers:[],btime:"",etime:""},t.$refs.quill.setContent(""),t.$refs["form"].clearValidate())}))}})):this.$message({message:"请输入内容",type:"error"}):this.$message({message:"请输入标题",type:"error"})},getHtml:function(t){this.form.content=t},changFlow:function(){this.$refs["form"].validateField("flow_id")},changPriority:function(){this.$refs["form"].validateField("priority")},changSeverity:function(){this.$refs["form"].validateField("severity")},changProjectId:function(){this.form.workers=[],this.queryWorker(),this.getFlowList(),this.$refs["form"].validateField("project_id")},changWorker:function(){this.$refs["form"].validateField("workers")}}},c=l,u=(r("c6f5"),r("2877")),f=Object(u["a"])(c,o,i,!1,null,"3f3de797",null);e["default"]=f.exports},5132:function(t,e,r){"use strict";r.d(e,"e",(function(){return n})),r.d(e,"b",(function(){return a})),r.d(e,"d",(function(){return s})),r.d(e,"a",(function(){return l})),r.d(e,"c",(function(){return c}));var o=r("365c"),i={addIssue:"add",issueList:"list",queryWorker:"queryWorker",issueInfo:"info",submitIssue:"submit"};function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["a"].post(i.submitIssue,t,"api/issue")}function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["a"].post(i.issueInfo,t,"api/issue")}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["a"].post(i.queryWorker,t,"api/issue")}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["a"].post(i.addIssue,t,"api/issue")}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["a"].post(i.issueList,t,"api/issue")}},a410:function(t,e,r){"use strict";r.r(e);var o=r("2760");e["default"]=o["default"]},c6f5:function(t,e,r){"use strict";var o=r("1673"),i=r.n(o);i.a}}]);