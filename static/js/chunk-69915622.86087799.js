(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-69915622","chunk-d680b1de"],{"10ac":function(t,e,s){"use strict";var a=s("555e"),i=s.n(a);i.a},4632:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pagination"},[s("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next",total:t.data.total_count,"page-count":t.data.page_count,"page-size":t.data.page_size},on:{"current-change":t.change}})],1)},i=[],n={props:{data:{type:Object,default:function(){return{}}}},computed:{},methods:{change:function(t){this.$emit("change",t)}}},l=n,r=(s("10ac"),s("2877")),c=Object(r["a"])(l,a,i,!1,null,null,null),o=c.exports;e["a"]=o},5132:function(t,e,s){"use strict";s.d(e,"b",(function(){return n})),s.d(e,"d",(function(){return l})),s.d(e,"a",(function(){return r})),s.d(e,"c",(function(){return c}));var a=s("365c"),i={addIssue:"add",issueList:"list",queryWorker:"queryWorker",issueInfo:"info"};function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a["a"].post(i.issueInfo,t,"api/issue")}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a["a"].post(i.queryWorker,t,"api/issue")}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a["a"].post(i.addIssue,t,"api/issue")}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a["a"].post(i.issueList,t,"api/issue")}},"555e":function(t,e,s){},"566c":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"className"},[s("el-card",{staticClass:"anoCard"},[s("div",{attrs:{slot:"header"},slot:"header"},[s("span",[t._v("我的工作")])]),s("div",{staticClass:"searchDiv"},[s("div",{staticClass:"search-name"},[s("el-input",{attrs:{placeholder:"查询字符"},model:{value:t.searchData.query_str,callback:function(e){t.$set(t.searchData,"query_str",e)},expression:"searchData.query_str"}})],1),s("div",{staticClass:"search-btn"},[s("el-button",{attrs:{type:"success"},on:{click:t.getIssueList}},[t._v("搜索")])],1)]),s("div",[s("el-tabs",{on:{"tab-click":t.handleTabsClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"待办",name:"work"}}),s("el-tab-pane",{attrs:{label:"已办",name:"finish"}}),s("el-tab-pane",{attrs:{label:"已创建",name:"create"}})],1)],1),s("div",{staticClass:"box"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.issuesData.list,border:"","header-cell-style":{background:"#f5f7fa",color:"#606266"}},on:{"cell-click":t.showIssuesDetail}},[s("el-table-column",{attrs:{prop:"title",label:"标题"}}),s("el-table-column",{attrs:{prop:"priority_name",width:"100",label:"优先级"}}),s("el-table-column",{attrs:{prop:"severity_name",width:"100",label:"严重程度"}}),s("el-table-column",{attrs:{prop:"status",width:"100",label:"状态"}}),s("el-table-column",{attrs:{prop:"workers",width:"150",label:"处理人"}}),s("el-table-column",{attrs:{prop:"creater",width:"150",label:"创建人"}}),s("el-table-column",{attrs:{prop:"create_time",width:"200",label:"创建时间"}})],1)],1),s("pagination",{attrs:{data:t.issuesData},on:{change:t.getIssueList}})],1),s("el-drawer",{attrs:{visible:t.showDetail,direction:"rtl",size:"50%","before-close":t.handleClose},on:{"update:visible":function(e){t.showDetail=e}}},[s("div",{staticClass:"issuesBox"},[s("div",{staticStyle:{flex:"1"}},[s("el-descriptions",{attrs:{title:t.issuesDetail.title,column:1}},[s("el-descriptions-item",{attrs:{label:"优先级"}},[t._v(t._s(t.issuesDetail.priority_name))]),s("el-descriptions-item",{attrs:{label:"严重程度"}},[t._v(t._s(t.issuesDetail.severity_name))]),s("el-descriptions-item",{attrs:{label:"状态"}},[t._v(t._s(t.issuesDetail.status))]),s("el-descriptions-item",{attrs:{label:"处理人"}},[t._v(t._s(t.issuesDetail.workers))]),s("el-descriptions-item",{attrs:{label:"创建人"}},[t._v(t._s(t.issuesDetail.creater))]),s("el-descriptions-item",{attrs:{label:"创建时间"}},[t._v(t._s(t.issuesDetail.create_time))]),s("el-descriptions-item",{attrs:{label:"内容"}},[s("div",{domProps:{innerHTML:t._s(t.issuesDetail.content)}})])],1)],1)])])],1)},i=[],n=(s("7f7f"),s("5132")),l=s("4632"),r={name:"user",components:{pagination:l["a"]},data:function(){return{activeName:"work",searchData:{query_str:""},issuesData:{},showDetail:!1,issuesDetail:{}}},filters:{},computed:{page:function(){return this.issuesData.page}},created:function(){this.getIssueList()},methods:{showIssuesDetail:function(t){var e=this;console.log(t),Object(n["b"])({issue_id:t.id}).then((function(t){e.issuesDetail=t.data,e.showDetail=!0}))},handleClose:function(){this.showDetail=!1},handleTabsClick:function(t){console.log(t.name),this.activeName=t.name,this.getIssueList()},getIssueList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,s=this.searchData.query_str;Object(n["c"])({page:e,query_str:s,query_code:this.activeName}).then((function(e){0==e.code&&(t.issuesData=e.data)}))}}},c=r,o=(s("ccac"),s("2877")),u=Object(o["a"])(c,a,i,!1,null,null,null);e["default"]=u.exports},"58c6":function(t,e,s){},b9c2:function(t,e,s){"use strict";s.r(e);var a=s("566c");e["default"]=a["default"]},ccac:function(t,e,s){"use strict";var a=s("58c6"),i=s.n(a);i.a}}]);