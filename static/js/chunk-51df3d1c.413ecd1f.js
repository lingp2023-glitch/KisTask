(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-51df3d1c","chunk-72730b22","chunk-9c756404","chunk-5ee0ad49","chunk-70fdfb9e","chunk-61be50b6","chunk-3a917444","chunk-0a994dbe","chunk-4ff69d88","chunk-34e19adc","chunk-002843e8","chunk-177812f8","chunk-fce13b24","chunk-fbd18dce","chunk-802f9688","chunk-115ccf83","chunk-21b13e15","chunk-b46a3630","chunk-2642832d"],{"018f":function(t,e,a){"use strict";var o=a("4367"),n=a.n(o);n.a},"06bc":function(t,e,a){"use strict";a.r(e);var o=a("1756");e["default"]=o["default"]},"10af":function(t,e,a){"use strict";var o=a("a0fd"),n=a.n(o);n.a},1224:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("aio-vdo-file-livrary",{ref:"aiovio",attrs:{appendToBody:!0,type:"视频"},on:{getData:t.getData}}),a("el-link",{attrs:{type:"primary",underline:!1},on:{click:function(e){return t.$refs.aiovio.open("video")}}},[t.video?a("span",[t._v(t._s(t.video))]):a("span",[t._v("选择视频")])])],1)},n=[],i=(a("c5f6"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"aiovio"},[a("el-dialog",{attrs:{title:t.type,visible:t.dialogVisible,width:"80vw","append-to-body":t.appendToBody,"before-close":t.handleClose,top:"20px"},on:{"update:visible":function(e){t.dialogVisible=e}}},["视频"==t.type?a("div",{staticClass:"pageContent"},t._l(t.pageData.list,function(e,o){return a("div",{key:o,staticClass:"box-card"},[a("div",{staticClass:"pic",on:{click:function(a){return t.toPre(e.file)}}},[a("el-image",{staticStyle:{width:"100%",height:"160px"},attrs:{src:t.base_img+e.cover,fit:"cover"}}),a("div",{staticClass:"name"},[t._v("\n            "+t._s(e.file_name)+"\n          ")])],1),a("div",{staticClass:"controlBtn iconStyel",on:{click:function(a){return t.select(e)}}},[a("i",{staticClass:"el-icon-check"}),t._v("选择\n        ")])])}),0):t._e(),""==t.type?a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.pageData.list}},[a("el-table-column",{attrs:{prop:"title",label:"标题",width:"150"}}),a("el-table-column",{attrs:{prop:"file_name",label:"文件名称"}}),a("el-table-column",{attrs:{prop:"file_size",label:"文件大小",width:"80"}}),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间",width:"150"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.select(e.row)}}},[t._v("选择")])]}}],null,!1,767485717)})],1):t._e(),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next",total:t.pageData.total_count,"page-count":t.pageData.page_count,"page-size":t.pageData.page_size},on:{"current-change":t.getPageData}})],1)],1)],1)}),r=[],s=a("cebc"),l=a("d1eb"),c=a("2f62"),u={getAudioList:l["l"],getVideoList:l["r"],getFileList:l["m"]},d={props:{type:{type:String,required:!0},appendToBody:{type:Boolean,default:function(){return!1}}},data:function(){return{dialogVisible:!1,pageData:{}}},computed:Object(s["a"])({},Object(c["b"])(["base_img"]),{mtd:function(){switch(this.type){case"音频":return"getAudioList";case"视频":return"getVideoList";default:return"getFileList"}}}),methods:{toPre:function(t){window.open(this.base_img+t,"_blank")},select:function(t){this.$emit("getData",t),this.dialogVisible=!1},open:function(){var t=this;this.dialogVisible=!0,this.$nextTick(function(){t.getPageData(1)})},handleClose:function(){this.dialogVisible=!1,this.pageData={}},getPageData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;u[this.mtd]({page:e}).then(function(e){0==e.code&&(t.pageData=e.data)},function(t){})}}},p=d,f=(a("10af"),a("2877")),m=Object(f["a"])(p,i,r,!1,null,"5d1cf1e6",null),g=m.exports,_={components:{AioVdoFileLivrary:g},props:{video:{type:[String,Number]}},data:function(){return{}},methods:{getData:function(t){console.log(t),this.$emit("update:video",t.file)}}},h=_,v=Object(f["a"])(h,o,n,!1,null,null,null);e["default"]=v.exports},1756:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"编辑",visible:t.show,width:"70%","append-to-body":""},on:{"update:visible":function(e){t.show=e},closed:t.closed}},[a("el-form",{ref:"form",attrs:{model:t.data,"label-width":"auto",rules:t.rules}},[a("el-form-item",{attrs:{label:"成本价",prop:"cost_price"}},[a("el-input",{model:{value:t.data.cost_price,callback:function(e){t.$set(t.data,"cost_price",e)},expression:"data.cost_price"}})],1),a("el-form-item",{attrs:{label:"团购价",prop:"sale_price"}},[a("el-input",{model:{value:t.data.sale_price,callback:function(e){t.$set(t.data,"sale_price",e)},expression:"data.sale_price"}})],1),a("el-form-item",{attrs:{label:"市场价",prop:"market_price"}},[a("el-input",{model:{value:t.data.market_price,callback:function(e){t.$set(t.data,"market_price",e)},expression:"data.market_price"}})],1),a("el-form-item",{attrs:{label:"库存量",prop:"stock_num"}},[a("el-input",{model:{value:t.data.stock_num,callback:function(e){t.$set(t.data,"stock_num",e)},expression:"data.stock_num"}})],1),a("el-form-item",{attrs:{label:"销量",prop:"sales_num"}},[a("el-input",{model:{value:t.data.sales_num,callback:function(e){t.$set(t.data,"sales_num",e)},expression:"data.sales_num"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.show=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1)],1)},n=[],i=a("901e"),r=a.n(i),s=a("c40e"),l={props:{data:{type:Object,required:!0}},data:function(){return{show:!1,rules:{cost_price:[{required:!0,message:"请输入成本价",trigger:"blur"}],sale_price:[{required:!0,message:"请输入团购价",trigger:"blur"}],market_price:[{required:!0,message:"请输入市场价",trigger:"blur"}],stock_num:[{required:!0,message:"请输入库存量",trigger:"blur"}],sales_num:[{required:!0,message:"请输入销量",trigger:"blur"}]}}},watch:{data:function(t){t.cost_price*=100,t.sale_price*=100,t.market_price*=100}},methods:{open:function(){this.show=!0},closed:function(){this.data.cost_price=this.data.cost_price/100,this.data.sale_price=this.data.sale_price/100,this.data.market_price=this.data.market_price/100,this.$emit("update:data",{})},submit:function(){var t=this,e=!1;if(this.$refs["form"].validate(function(t){e=t}),e){var a=this.data,o=a.sku_id,n=a.stock_num,i=a.sales_num,r=a.cost_price,l=a.sale_price,c=a.market_price;Object(s["t"])({sku_id:o,stock_num:n,sales_num:i,cost_price:r,sale_price:l,market_price:c}).then(function(e){0==e.code&&(t.$message({message:"编辑成功",type:"success"}),t.show=!1,t.$emit("refresh"))})}},formatPirce:function(t){return new r.a(t).multipliedBy(new r.a(100)).toNumber()}}},c=l,u=a("2877"),d=Object(u["a"])(c,o,n,!1,null,null,null);e["default"]=d.exports},"1b3d":function(t,e,a){"use strict";var o=a("aaf9"),n=a.n(o);n.a},"1cf0":function(t,e,a){},"27f2":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("picture-library",{ref:"pic",attrs:{appendToBody:!0},on:{getData:t.getData}}),a("div",{staticClass:"img-wrap"},[t._l(t.imgs,function(e,o){return a("div",{key:o,staticClass:"img-item"},[a("i",{staticClass:"el-icon-close img-close",on:{click:function(e){return t.del_imgs(o)}}}),a("BaseElImage",{attrs:{custom_src:e,previewList:t.imgs,fit:"cover"}})],1)}),a("div",{staticClass:"img-add",on:{click:function(e){return t.$refs.pic.open(!1)}}},[a("i",{staticClass:"el-icon-plus img-add-icon"})])],2)],1)},n=[],i=a("0bba"),r={components:{PictureLibrary:i["a"]},props:{imgs:{type:Array,default:function(){return[]}}},data:function(){return{}},methods:{getData:function(t){this.imgs.push(t.src_file),this.$emit("update:imgs",this.imgs)},del_imgs:function(t){this.imgs.splice(t,1),console.log(this.imgs,t),this.$emit("update:imgs",this.imgs)}}},s=r,l=(a("35a7"),a("2877")),c=Object(l["a"])(s,o,n,!1,null,"4383f18c",null);e["default"]=c.exports},"2e79":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"className"},[a("el-card",{staticClass:"anoCard"},[a("div",{staticClass:"anoCard-header",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("商品列表")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.add}},[t._v("\n        新增商品\n      ")])],1),a("div",{staticClass:"box"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.goodsData.list,border:""}},[a("el-table-column",{attrs:{prop:"goods_id",label:"标识"}}),a("el-table-column",{attrs:{prop:"goods_name",label:"商品名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("BaseElImage",{attrs:{custom_style:{width:"60px",height:"60px"},custom_src:e.row.cover,fit:"cover"}}),a("br"),t._v("\n            "+t._s(e.row.goods_name)+"\n          ")]}}])}),a("el-table-column",{attrs:{prop:"group_name",label:"分组"}}),a("el-table-column",{attrs:{prop:"sale_price",label:"销售价"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("￥"+t._s(t._f("formatMoney")(e.row.sale_price)))]}}])}),a("el-table-column",{attrs:{prop:"sales_num",label:"预购 / 优先购 / 库存"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.apply_num)+" / "+t._s(e.row.presale_num)+"  / "+t._s(e.row.stock_num))]}}])}),a("el-table-column",{attrs:{prop:"is_run",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return["0"==e.row.is_run?a("span",{staticStyle:{color:"#f56c6c"}},[t._v(t._s(t._f("format_isRun")(e.row.is_run)))]):a("span",{staticStyle:{color:"#67c23a"}},[t._v(t._s(t._f("format_isRun")(e.row.is_run)))])]}}])}),a("el-table-column",{attrs:{label:"上架时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.btime)+" "),a("br"),t._v("\n            "+t._s(e.row.etime)+"\n          ")]}}])}),a("el-table-column",{attrs:{prop:"create_time",label:"操作",width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-dropdown",{staticClass:"dropdown",attrs:{trigger:"click"}},[a("span",{staticClass:"el-dropdown-link"},[a("i",{staticClass:"el-icon-more"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[1==e.row.is_run?a("el-dropdown-item",{nativeOn:{click:function(a){return t.stop(e.row)}}},[t._v("下架")]):a("el-dropdown-item",{nativeOn:{click:function(a){return t.run(e.row)}}},[t._v("上架\n                ")]),a("el-dropdown-item",{nativeOn:{click:function(a){return t.edit(e.row)}}},[t._v("修改")]),a("el-dropdown-item",{nativeOn:{click:function(a){return t.resetAttr(e.row)}}},[t._v("重置认证")]),a("el-dropdown-item",{nativeOn:{click:function(a){return t.openApplyListDia(e.row)}}},[t._v("预购明细")]),a("el-dropdown-item",{nativeOn:{click:function(a){return t.openAirDropDia(e.row)}}},[t._v("空投明细")]),a("el-dropdown-item",{nativeOn:{click:function(a){return t.del(e.row)}}},[t._v("删除")])],1)],1)]}}])})],1)],1),a("pagination",{attrs:{data:t.goodsData},on:{change:t.getGoodsList}})],1),a("shopDialog",{ref:"add",attrs:{title:"新增商品",type:"add"}}),a("shopDialog",{ref:"edit",attrs:{title:"修改商品",type:"edit"}}),a("resetAttr",{ref:"resetAttr"}),a("dialogRun",{ref:"run"}),a("dialogStock",{ref:"sku"}),a("apply-list-dia",{ref:"applyListDia"}),a("air-drop-dia",{ref:"airDropDia"})],1)},n=[],i=a("cebc"),r=(a("ac6a"),a("c40e")),s=a("901e"),l=a.n(s),c=a("c616"),u=a("c6aa"),d=a("7a8d"),p=a("9fd1"),f=a("7b69"),m=a("a569"),g=a("0bba"),_=a("4632"),h={name:"goods.shop",components:{shopDialog:c["default"],resetAttr:u["default"],dialogStock:p["default"],dialogRun:d["default"],applyListDia:f["default"],airDropDia:m["default"],picLib:g["a"],pagination:_["a"]},data:function(){return{searchData:{nickname:"",phone:""},goodsData:{},stockData:[]}},computed:{page:function(){return this.goodsData.page}},created:function(){this.getGoodsList()},filters:{formatMoney:function(t){return new l.a(t).dividedBy(new l.a(100)).toNumber()},format_isRun:function(t){return"1"==t?"已上架":"未上架"}},methods:{openApplyListDia:function(t){this.$refs["applyListDia"].open(t.goods_id)},openAirDropDia:function(t){this.$refs["airDropDia"].open(t)},getGoodsList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;Object(r["p"])({page:e}).then(function(e){0==e.code&&(e.data.list.forEach(function(t){t.imgs=JSON.parse(t.imgs||"[]")}),t.goodsData=e.data)})},add:function(){this.$refs.add.open()},formatPirce:function(t){return new l.a(t).dividedBy(new l.a(100)).toNumber()},edit:function(t){t=JSON.parse(JSON.stringify(t)),t.cost_price=this.formatPirce(t.cost_price),t.sale_price=this.formatPirce(t.sale_price),t.market_price=this.formatPirce(t.market_price),t=JSON.parse(JSON.stringify(t)),this.$refs.edit.open(t)},resetAttr:function(t){t=JSON.parse(JSON.stringify(t)),this.$refs.resetAttr.open(Object(i["a"])({},t))},stop:function(t){var e=this,a=t.goods_id;this.$confirm("此操作将下架商品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(r["u"])({goods_id:a}).then(function(t){0==t.code&&(e.$message({message:"下架成功",type:"success"}),e.refresh())})})},run:function(t){this.$refs.run.open(t)},del:function(t){var e=this,a=t.goods_id;this.$confirm("此操作将删除该商品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(r["j"])({goods_id:a}).then(function(t){0==t.code&&(e.$message({message:"删除成功",type:"success"}),e.refresh())})})},refresh:function(){this.getGoodsList(this.page)},sku:function(t){this.$refs.sku.open(t.goods_id)}}},v=h,b=(a("4b84"),a("2877")),y=Object(b["a"])(v,o,n,!1,null,"03afd608",null);e["default"]=y.exports},"2f21":function(t,e,a){"use strict";var o=a("79e5");t.exports=function(t,e){return!!t&&o(function(){e?t.call(null,function(){},1):t.call(null)})}},3324:function(t,e,a){"use strict";var o=a("1cf0"),n=a.n(o);n.a},"356f":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("picture-library",{ref:"pic",attrs:{appendToBody:!0},on:{getData:t.getData}}),t.cover?a("div",{staticClass:"img-wrap"},[a("div",{staticClass:"img-item"},[a("i",{staticClass:"el-icon-close img-close",on:{click:t.del_cover}}),a("BaseElImage",{attrs:{custom_src:t.cover,previewList:[t.cover],fit:"cover"}})],1)]):a("div",{staticClass:"img-add",on:{click:function(e){return t.$refs.pic.open(!1)}}},[a("i",{staticClass:"el-icon-plus img-add-icon"})])],1)},n=[],i=a("0bba"),r={components:{PictureLibrary:i["a"]},props:{cover:{type:[Object,String],default:function(){return""}}},data:function(){return{}},methods:{getData:function(t){console.log(t),this.$emit("update:cover",t.src_file)},del_cover:function(){this.$emit("update:cover","")}}},s=r,l=(a("b156"),a("2877")),c=Object(l["a"])(s,o,n,!1,null,"331fd7c8",null);e["default"]=c.exports},"35a7":function(t,e,a){"use strict";var o=a("b0a6"),n=a.n(o);n.a},"35ea":function(t,e,a){"use strict";var o=a("fcba"),n=a.n(o);n.a},"3b2b":function(t,e,a){var o=a("7726"),n=a("5dbc"),i=a("86cc").f,r=a("9093").f,s=a("aae3"),l=a("0bfb"),c=o.RegExp,u=c,d=c.prototype,p=/a/g,f=/a/g,m=new c(p)!==p;if(a("9e1e")&&(!m||a("79e5")(function(){return f[a("2b4c")("match")]=!1,c(p)!=p||c(f)==f||"/a/i"!=c(p,"i")}))){c=function(t,e){var a=this instanceof c,o=s(t),i=void 0===e;return!a&&o&&t.constructor===c&&i?t:n(m?new u(o&&!i?t.source:t,e):u((o=t instanceof c)?t.source:t,o&&i?l.call(t):e),a?this:d,c)};for(var g=function(t){t in c||i(c,t,{configurable:!0,get:function(){return u[t]},set:function(e){u[t]=e}})},_=r(u),h=0;_.length>h;)g(_[h++]);d.constructor=c,c.prototype=d,a("2aba")(o,"RegExp",c)}a("7a56")("RegExp")},4367:function(t,e,a){},"4b84":function(t,e,a){"use strict";var o=a("b645"),n=a.n(o);n.a},"4f30":function(t,e,a){"use strict";a.r(e);var o=a("2e79");e["default"]=o["default"]},"55dd":function(t,e,a){"use strict";var o=a("5ca1"),n=a("d8e8"),i=a("4bf8"),r=a("79e5"),s=[].sort,l=[1,2,3];o(o.P+o.F*(r(function(){l.sort(void 0)})||!r(function(){l.sort(null)})||!a("2f21")(s)),"Array",{sort:function(t){return void 0===t?s.call(i(this)):s.call(i(this),n(t))}})},"58bd":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-popover",{attrs:{placement:"right",width:"400",trigger:"click"},model:{value:t.ShowAdd,callback:function(e){t.ShowAdd=e},expression:"ShowAdd"}},[a("div",{staticClass:"addAttrWrap"},[a("el-input",{attrs:{size:"mini",width:"100px",placeholder:"请输入规格名称"},model:{value:t.attr_item.attr_name,callback:function(e){t.$set(t.attr_item,"attr_name",e)},expression:"attr_item.attr_name"}}),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",size:"mini"},on:{click:t.addAttrItem}},[t._v("添加")])],1),a("el-button",{attrs:{slot:"reference",type:"primary",size:"mini"},slot:"reference"},[t._v("添加认证")])],1),a("el-table",{staticStyle:{"margin-top":"10px"},attrs:{data:t.attr,border:""}},[a("el-table-column",{attrs:{prop:"attr_name",label:"规格名称",width:"200"}}),a("el-table-column",{attrs:{prop:"attr_value",label:"规格值"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.values,function(o,n){return a("el-tag",{key:o.attr_value,staticClass:"tag",attrs:{name:o.attr_value,"disable-transitions":!0,closable:""},on:{click:function(a){return t.editAttrValue(o,e.$index,n)},close:function(a){return t.delAttrValue(e.$index,n)}}},[t._v("\n          "+t._s(o.attr_value)+"\n        ")])})}}])}),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-link",{staticClass:"attr_link",attrs:{underline:!1},on:{click:function(a){return t.addAttrDialog(e.$index)}}},[t._v("增加")]),a("el-link",{staticClass:"attr_link",attrs:{underline:!1},on:{click:function(a){return t.delAttr(e.$index)}}},[t._v("删除")])]}}])})],1),a("el-dialog",{attrs:{"append-to-body":"",title:"属性值",visible:t.addAttrValueShow,width:"30%"},on:{"update:visible":function(e){t.addAttrValueShow=e},closed:t.closed}},[a("el-form",{ref:"addAttrValueData",attrs:{"label-width":"auto",model:t.attr_value,rules:t.rules}},[a("el-form-item",{attrs:{label:"规格值",prop:"attr_value"}},[a("el-input",{model:{value:t.attr_value.attr_value,callback:function(e){t.$set(t.attr_value,"attr_value",e)},expression:"attr_value.attr_value"}})],1),a("el-form-item",{attrs:{label:"图片",prop:"attr_img"}},[a("div",{staticClass:"avatar-uploader",on:{click:t.selectPic}},[t.attr_value.min_img||t.attr_value.attr_img?a("BaseElImage",{attrs:{custom_class:"avatar",custom_src:t.attr_value.min_img||t.attr_value.attr_img,fit:"cover"}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})],1)])],1),a("picture-library",{ref:"pic",attrs:{appendToBody:!0},on:{getData:t.getPic}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.addAttrValueShow=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.setAttrValue}},[t._v("确 定")])],1)],1)],1)},n=[],i=(a("ac6a"),a("cebc")),r=a("0bba"),s={components:{PictureLibrary:r["a"]},props:{attr:{type:[Array,String],required:!0,default:function(){return[]}}},data:function(){return{ShowAdd:!1,addAttrValueShow:!1,data:[],rowIndex:"",rowIdx:"",attr_item:{attr_name:"",values:[]},attr_value:{attr_value:"",attr_img:"",min_img:""},rules:{attr_value:[{required:!0,message:"请输入规格值",trigger:"blur"}]}}},methods:{closed:function(){this.rowIndex="",this.rowIdx="",this.attr_value.min_img="",this.attr_value.attr_img="",this.attr_value.attr_value=""},addAttrItem:function(){this.attr_item.attr_name&&(this.attr.push(Object(i["a"])({},this.attr_item)),this.attr_item={attr_name:"",values:[]},this.ShowAdd=!1,this.updateAttr())},addAttrDialog:function(t){this.rowIndex=t,this.addAttrValueShow=!0},editAttrValue:function(t,e,a){this.attr_value=Object(i["a"])({},t),this.rowIndex=e,this.rowIdx=a,this.addAttrValueShow=!0},selectPic:function(){this.$refs.pic.open()},getPic:function(t){this.attr_value.attr_img=t.src_file,this.attr_value.min_img=t.min_file},setAttrValue:function(){var t=!1;if(this.$refs["addAttrValueData"].validate(function(e){t=e}),t){var e=this.attr_value,a=e.attr_value,o=e.attr_img;"string"==typeof this.rowIdx?this.attr[this.rowIndex].values.push({attr_value:a,attr_img:o}):this.$set(this.attr[this.rowIndex].values,this.rowIdx,{attr_value:a,attr_img:o}),this.updateAttr(),this.addAttrValueShow=!1}},delAttr:function(t){this.attr.splice(t,1),this.updateAttr()},delAttrValue:function(t,e){this.attr[t].values.splice(e,1),this.updateAttr()},updateAttr:function(){this.$emit("update:attr",this.attr)}}},l=s,c=(a("c386"),a("2877")),u=Object(c["a"])(l,o,n,!1,null,"6433474a",null);e["default"]=u.exports},"603e":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-cascader",{staticStyle:{width:"100%"},attrs:{props:{children:"childs",label:"group_name",value:"group_id"},emitPath:!1,value:t.group_id,options:t.group},on:{"update:value":function(e){t.group_id=e},change:t.change}})],1)},n=[],i=(a("c5f6"),a("c40e")),r={props:{group_id:{type:[String,Number],required:!0,default:function(){return""}}},data:function(){return{group:[]}},created:function(){this.goodsGroupTree()},methods:{goodsGroupTree:function(){var t=this;Object(i["o"])().then(function(e){0==e.code&&(t.group=e.data)})},change:function(t){this.$emit("update:group_id",t[t.length-1])}}},s=r,l=a("2877"),c=Object(l["a"])(s,o,n,!1,null,null,null);e["default"]=c.exports},"67a7":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"重置属性",visible:t.show,width:"70%"},on:{"update:visible":function(e){t.show=e}}},[a("div",[a("formAttr",{attrs:{attr:t.data.attrs},on:{"update:attr":function(e){return t.$set(t.data,"attrs",e)}}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.show=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1)])},n=[],i=(a("ac6a"),a("7f80")),r=a("c40e"),s={components:{formAttr:i["default"]},data:function(){return{data:{},show:!1}},methods:{open:function(t){this.data=t,this.show=!0},submit:function(){var t=this,e=this.data,a=e.attrs,o=e.goods_id;a.forEach(function(e){if(!e||0==e.values.length)throw t.$message({message:"规格名称 ".concat(e.attr_name," ，缺少规格值"),type:"warning"}),"规格名称 ".concat(e.attr_name," ，缺少规格值");delete e.attr_id,delete e.create_time,delete e.goods_id,e.values.forEach(function(t){delete t.attr_id,delete t.attr_value_id,delete t.create_time})}),a=JSON.stringify(a),Object(r["i"])({attrs:a,goods_id:o}).then(function(e){0==e.code&&(t.$message({message:"重置成功",type:"success"}),t.show=!1,t.$parent.refresh())})}}},l=s,c=a("2877"),u=Object(c["a"])(l,o,n,!1,null,"7c2ff093",null);e["default"]=u.exports},"71b2":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:t.title,visible:t.show,width:"70%",top:"10px","close-on-click-modal":!1},on:{"update:visible":function(e){t.show=e},closed:t.closed}},[a("div",[a("el-form",{ref:"form",attrs:{"label-width":"auto",model:t.data,rules:t.rules}},[a("el-form-item",{attrs:{label:"商品名称",prop:"goods_name"}},[a("el-input",{model:{value:t.data.goods_name,callback:function(e){t.$set(t.data,"goods_name",e)},expression:"data.goods_name"}})],1),a("el-form-item",{attrs:{label:"商品简介",prop:"intro"}},[a("el-input",{model:{value:t.data.intro,callback:function(e){t.$set(t.data,"intro",e)},expression:"data.intro"}})],1),a("el-form-item",{attrs:{label:"销售价",prop:"sale_price"}},[a("el-input",{attrs:{type:"number"},model:{value:t.data.sale_price,callback:function(e){t.$set(t.data,"sale_price",e)},expression:"data.sale_price"}})],1),a("el-form-item",{attrs:{label:"库存数量",prop:"stock_num"}},[a("el-input",{attrs:{type:"number"},model:{value:t.data.stock_num,callback:function(e){t.$set(t.data,"stock_num",e)},expression:"data.stock_num"}})],1),a("el-form-item",{attrs:{label:"预购数量",prop:"apply_num"}},[a("el-input",{attrs:{type:"number"},model:{value:t.data.apply_num,callback:function(e){t.$set(t.data,"apply_num",e)},expression:"data.apply_num"}})],1),a("el-form-item",{attrs:{label:"优先购数量",prop:"presale_num"}},[a("el-input",{attrs:{type:"number"},model:{value:t.data.presale_num,callback:function(e){t.$set(t.data,"presale_num",e)},expression:"data.presale_num"}})],1),a("el-form-item",{attrs:{label:"排序",prop:"sort"}},[a("el-input",{attrs:{type:"number"},model:{value:t.data.sort,callback:function(e){t.$set(t.data,"sort",e)},expression:"data.sort"}})],1),a("el-form-item",{attrs:{label:"商品分组",prop:"group_id"}},[a("formClass",{attrs:{group_id:t.data.group_id},on:{"update:group_id":function(e){return t.$set(t.data,"group_id",e)}}})],1),"add"==t.type?a("el-form-item",{attrs:{label:"商品认证",prop:"attrs"}},[a("formAttr",{attrs:{attr:t.data.attrs},on:{"update:attr":function(e){return t.$set(t.data,"attrs",e)}}})],1):t._e(),a("el-form-item",{attrs:{label:"商品封面",prop:"cover"}},[a("formCover",{attrs:{cover:t.data.cover},on:{"update:cover":function(e){return t.$set(t.data,"cover",e)}}})],1),a("el-form-item",{attrs:{label:"附加数据",prop:"append_data"}},[a("el-input",{model:{value:t.data.append_data,callback:function(e){t.$set(t.data,"append_data",e)},expression:"data.append_data"}})],1),a("div",{staticClass:"edit"},[a("el-form-item",{attrs:{label:"商品详情",prop:"description"}},[a("u-e",{ref:"quill",on:{senHtml:t.getHtml}})],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.show=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1)])},n=[],i=(a("55dd"),a("c5f6"),a("cebc")),r=(a("3b2b"),a("ac6a"),a("cf2d")),s=a("901e"),l=a.n(s),c=a("c40e"),u=a("0bba"),d=a("be80"),p=a("7f80"),f=a("8f70"),m=a("8037"),g=a("9eef"),_=a("86d8"),h={components:{baseImg:_["a"],formClass:d["default"],formAttr:p["default"],formVideo:f["default"],formCover:m["default"],formImgs:g["default"],PictureLibrary:u["a"],UE:r["a"]},props:{title:{type:String,default:function(){return"新增"}},type:{type:String,default:function(){return"add"}}},data:function(){var t=function(t,e,a){e&&0!=e.length?(e.map(function(t,e){t.values&&0!=t.values.length||a(new Error("规格名称 ".concat(t.attr_name," ，缺少规格值")))}),a()):a()},e=function(t,e,a){var o=new RegExp(/(^[1-9]{1}[0-9]*$)|(^[0-9]*\.[0-9]{2}$)/);""==e?a(new Error("请输入正确的金额")):o.test(e)?a():a(new Error("请输入正确的金额"))};return{show:!1,data:{attrs:[]},rules:{goods_name:[{required:!0,message:"请输入商品名称",trigger:"blur"}],intro:[{required:!0,message:"请输入商品简介",trigger:"blur"}],sale_price:[{validator:e,required:!0,trigger:"blur"}],stock_num:[{required:!0,message:"请输入库存数量",trigger:"blur"}],sort:[{required:!0,message:"请输入排序",trigger:"blur"}],group_id:[{required:!0,message:"请选择分组",trigger:"blur"}],cover:[{required:!0,message:"请选择封面",trigger:"blur"}],attrs:[{validator:t,trigger:"submit"}]}}},methods:{closed:function(){this.$refs["form"].resetFields(),this.$refs.quill.setContent("")},open:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{attrs:[]};this.data=e,this.show=!0,void 0!=e.goods_id&&(e.sale_price=100*e.sale_price),this.$nextTick(function(){t.data.description&&t.$refs.quill.setContent(t.data.description)})},submit:function(){var t=!1;if(this.$refs["form"].validate(function(e){t=e}),t){var e=Object(i["a"])({},this.data);switch(e.apply_num||(e.apply_num=0),e.presale_num||(e.presale_num=0),e.attrs=JSON.stringify(e.attrs),e.sale_price=Number(e.sale_price),this.type){case"add":this.goodsAdd(e);break;case"edit":this.goodsMod(e);break}}},goodsAdd:function(t){var e=this;Object(c["h"])(t).then(function(t){0==t.code?(e.$message({message:"新增成功",type:"success"}),e.$parent.getGoodsList()):e.$message({message:t.msg||"新增失败",type:"error"})}).finally(function(){e.show=!1})},goodsMod:function(t){var e=this,a=t.goods_name,o=t.intro,n=t.group_id,i=t.sale_price,r=t.cover,s=t.description,l=t.stock_num,u=t.apply_num,d=t.presale_num,p=t.sort,f=t.goods_id,m=t.append_data;Object(c["q"])({goods_id:f,goods_name:a,intro:o,group_id:n,sale_price:i,cover:r,description:s,stock_num:l,apply_num:u,presale_num:d,sort:p,append_data:m}).then(function(t){0==t.code?(e.$message({message:"修改成功",type:"success"}),e.$parent.refresh()):e.$message({message:t.msg||"修改失败",type:"error"})}).finally(function(){e.show=!1})},formatPirce:function(t){return new l.a(t).multipliedBy(new l.a(100)).toNumber()},getHtml:function(t){this.data.description=t}}},v=h,b=(a("35ea"),a("2877")),y=Object(b["a"])(v,o,n,!1,null,"07096bc4",null);e["default"]=y.exports},"7a8d":function(t,e,a){"use strict";a.r(e);var o=a("a56d");e["default"]=o["default"]},"7a93":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"addOrModShop"},[a("el-dialog",{attrs:{title:"空投",visible:t.dialog,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialog=e},closed:t.closedDialog}},[a("el-form",{ref:"form",attrs:{"label-width":"110px",model:t.form,rules:t.rules}},[a("el-form-item",{attrs:{label:"商品名称",prop:"goods_name"}},[t._v("\n        "+t._s(t.form.goods_name)+"\n      ")]),a("el-form-item",{attrs:{label:"用户手机号码",prop:"phone"}},[a("el-input",{attrs:{type:"tel",placeholder:"请输入用户手机号码"},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1),a("el-form-item",{attrs:{label:"份额",prop:"num"}},[a("el-input",{attrs:{type:"number",placeholder:"请输入份额"},model:{value:t.form.num,callback:function(e){t.$set(t.form,"num",e)},expression:"form.num"}})],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialog=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1)],1)],1)},n=[],i=a("c40e"),r={data:function(){return{dialog:!1,goods_id:null,form:{goods_name:"",phone:"",num:null},rules:{phone:[{required:!0,message:"请输入用户手机号码",trigger:"blur"}],num:[{required:!0,message:"请输入份额",trigger:"blur"}]}}},components:{},activated:function(){},watch:{},created:function(){},mounted:function(){},methods:{open:function(t,e){this.goods_id=t,this.form.goods_name=e,this.dialog=!0},closedDialog:function(){this.$refs["form"].clearValidate(),this.form={goods_name:"",phone:"",num:null},this.goods_id=null},submit:function(){var t=this;console.log("点击了提交"),this.$refs["form"].validate(function(e){if(e){console.log("验证通过");var a={};a.phone=t.form.phone,a.goods_id=t.goods_id,a.num=t.form.num,Object(i["c"])(a).then(function(e){0==e.code?(t.$message({type:"success",message:"空投成功"}),t.$emit("refreshFixList")):t.$message({type:"error",message:e.msg?e.msg:"空投失败，请重试"}),t.dialog=!1})}else console.log("验证失败")})}}},s=r,l=(a("3324"),a("2877")),c=Object(l["a"])(s,o,n,!1,null,"1b60c698",null);e["default"]=c.exports},"7b69":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"applyListDia"},[a("el-dialog",{attrs:{title:"预购明细",visible:t.show,width:"90%",top:"10px","close-on-click-modal":!1},on:{"update:visible":function(e){t.show=e},closed:t.closed}},[a("div",{staticClass:"box"},[a("div",{staticClass:"applyPoolBox"},[a("div",{staticClass:"poolData"},[a("div",{staticClass:"poolDataItem"},[t._v("\n            预购分配份额："+t._s(t.applyPoolData.set_apply_num?t.applyPoolData.set_apply_num:"0")+"\n          ")]),a("div",{staticClass:"poolDataItem"},[t._v("\n            预购总份额："+t._s(t.applyPoolData.apply_num?t.applyPoolData.apply_num:"0")+"\n          ")]),a("div",{staticClass:"poolDataItem"},[t._v("\n            中签总份额："+t._s(t.applyPoolData.put_num?t.applyPoolData.put_num:"0")+"\n          ")]),a("div",{staticClass:"poolDataItem"},[t._v("\n            冻结总金额："+t._s((t.applyPoolData.close_money/100).toFixed(2))+"\n          ")]),a("div",{staticClass:"poolDataItem"},[t._v("\n            消费总金额："+t._s((t.applyPoolData.use_money/100).toFixed(2))+"\n          ")]),a("div",{staticClass:"poolDataItem"},[t._v("\n            退款总金额："+t._s((t.applyPoolData.refund_money/100).toFixed(2))+"\n          ")])]),a("div",{staticClass:"controlBtns"},[a("el-button",{attrs:{type:"primary"},on:{click:t.applyCalc}},[t._v("中签计算")]),a("el-button",{attrs:{type:"primary",disabled:1==t.applyPoolData.is_put},on:{click:t.applyPut}},[t._v("新品发售")])],1)]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.applyListData.list,border:"","header-cell-style":{background:"#f5f7fa",color:"#606266"}}},[a("el-table-column",{attrs:{prop:"nickname",label:"用户"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.nickname)+"\n            "),a("br"),t._v("\n            "+t._s(e.row.phone)+"\n          ")]}}])}),a("el-table-column",{attrs:{prop:"apply_num",label:"预购份额"}}),a("el-table-column",{attrs:{prop:"close_money",label:"冻结金额"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s((e.row.close_money/100).toFixed(2))+"\n          ")]}}])}),a("el-table-column",{attrs:{prop:"put_num",label:"中签份额"}}),a("el-table-column",{attrs:{prop:"use_money",label:"结算金额"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s((e.row.use_money/100).toFixed(2))+"\n          ")]}}])}),a("el-table-column",{attrs:{prop:"refund_money",label:"退款金额"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s((e.row.refund_money/100).toFixed(2))+"\n          ")]}}])}),a("el-table-column",{attrs:{prop:"is_put",label:"是否结算"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(1==e.row.is_put?"是":"")+"\n          ")]}}])}),a("el-table-column",{attrs:{prop:"put_time",label:"结算时间"}})],1)],1),a("pagination",{attrs:{data:t.applyListData},on:{change:t.getApplyList}})],1)],1)},n=[],i=a("4632"),r=a("c40e"),s={data:function(){return{show:!1,goods_id:null,applyListData:{list:[]},applyPoolData:{}}},components:{pagination:i["a"]},filters:{},onLoad:function(t){},onShow:function(){},mounted:function(){},computed:{},methods:{applyCalc:function(){var t=this;Object(r["a"])({goods_id:this.goods_id}).then(function(e){0==e.code&&(t.$message({message:"中签计算成功",type:"success"}),t.getApplyList(),t.getApplyPool())})},applyPut:function(){var t=this;Object(r["b"])({goods_id:this.goods_id}).then(function(e){0==e.code&&(t.$message({message:"新品发售成功",type:"success"}),t.getApplyList(),t.getApplyPool())})},open:function(t){this.goods_id=t,this.getApplyList(),this.getApplyPool(),this.show=!0},closed:function(){this.goods_id=null,this.applyListData={list:[]},this.applyPoolData={}},getApplyList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;Object(r["d"])({goods_id:this.goods_id,page:e}).then(function(e){console.log(e),0==e.code&&(t.applyListData=e.data)})},getApplyPool:function(){var t=this;Object(r["e"])({goods_id:this.goods_id}).then(function(e){0==e.code&&(t.applyPoolData=e.data)})}}},l=s,c=(a("1b3d"),a("2877")),u=Object(c["a"])(l,o,n,!1,null,"3b1e9da8",null);e["default"]=u.exports},"7f80":function(t,e,a){"use strict";a.r(e);var o=a("58bd");e["default"]=o["default"]},8037:function(t,e,a){"use strict";a.r(e);var o=a("356f");e["default"]=o["default"]},"8f70":function(t,e,a){"use strict";a.r(e);var o=a("1224");e["default"]=o["default"]},"9eef":function(t,e,a){"use strict";a.r(e);var o=a("27f2");e["default"]=o["default"]},"9fd1":function(t,e,a){"use strict";a.r(e);var o=a("e876");e["default"]=o["default"]},a0fd:function(t,e,a){},a569:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"airDropDia"},[a("el-dialog",{attrs:{title:"空投明细",visible:t.show,width:"70%",top:"10px","close-on-click-modal":!1},on:{"update:visible":function(e){t.show=e},closed:t.closed}},[a("div",{staticClass:"box"},[a("div",{staticClass:"applyPoolBox"},[a("div",{staticClass:"poolData"}),a("div",{staticClass:"controlBtns"},[a("el-button",{attrs:{type:"primary"},on:{click:t.openAirDrop}},[t._v("空投")])],1)]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.applyListData.list,border:"","header-cell-style":{background:"#f5f7fa",color:"#606266"}}},[a("el-table-column",{attrs:{prop:"phone",label:"用户"}}),a("el-table-column",{attrs:{prop:"fix_num",label:"份额"}}),a("el-table-column",{attrs:{prop:"create_time",label:"空投时间"}})],1)],1),a("pagination",{attrs:{data:t.applyListData},on:{change:t.getFixList}})],1),a("air-drop",{ref:"airDrop",on:{refreshFixList:t.getFixList}})],1)},n=[],i=a("4632"),r=a("7a93"),s=a("c40e"),l={data:function(){return{show:!1,goods_id:null,goods_name:null,applyListData:{list:[]},applyPoolData:{}}},components:{pagination:i["a"],airDrop:r["default"]},filters:{},onLoad:function(t){},onShow:function(){},mounted:function(){},computed:{},methods:{openAirDrop:function(){this.$refs["airDrop"].open(this.goods_id,this.goods_name)},open:function(t){console.log(t),this.goods_name=t.goods_name,this.goods_id=t.goods_id,this.getFixList(),this.show=!0},closed:function(){this.goods_id=null,this.applyListData={list:[]},this.applyPoolData={}},getFixList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;Object(s["f"])({goods_id:this.goods_id,page:e}).then(function(e){console.log(e),0==e.code&&(t.applyListData=e.data)})}}},c=l,u=(a("018f"),a("2877")),d=Object(u["a"])(c,o,n,!1,null,"4413fd10",null);e["default"]=d.exports},a56d:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"上架",visible:t.show,width:"500px"},on:{"update:visible":function(e){t.show=e}}},[a("div",[a("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择开始日期时间","default-time":"00:00:00"},model:{value:t.btime,callback:function(e){t.btime=e},expression:"btime"}}),t._v("\n    -\n    "),a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"选择结束日期时间","default-time":"00:00:00"},model:{value:t.etime,callback:function(e){t.etime=e},expression:"etime"}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.show=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1)])},n=[],i=a("c40e"),r={data:function(){return{show:!1,data:{},etime:"",btime:""}},methods:{open:function(t){this.data=t,this.show=!0},submit:function(){var t=this,e=this.data.goods_id,a=this.etime,o=this.btime;a&&o?Object(i["r"])({etime:a,goods_id:e,btime:o}).then(function(e){0==e.code&&(t.$message({message:"上架成功",type:"success"}),t.show=!1,t.$parent.refresh())}):this.$message({message:"请填写完整的时间",type:"warning"})}}},s=r,l=a("2877"),c=Object(l["a"])(s,o,n,!1,null,"91c025f6",null);e["default"]=c.exports},a6dd:function(t,e,a){},aaf9:function(t,e,a){},b0a6:function(t,e,a){},b156:function(t,e,a){"use strict";var o=a("a6dd"),n=a.n(o);n.a},b645:function(t,e,a){},be80:function(t,e,a){"use strict";a.r(e);var o=a("603e");e["default"]=o["default"]},c386:function(t,e,a){"use strict";var o=a("cf11"),n=a.n(o);n.a},c40e:function(t,e,a){"use strict";a.d(e,"p",function(){return i}),a.d(e,"m",function(){return r}),a.d(e,"k",function(){return s}),a.d(e,"n",function(){return l}),a.d(e,"l",function(){return c}),a.d(e,"h",function(){return u}),a.d(e,"o",function(){return d}),a.d(e,"q",function(){return p}),a.d(e,"j",function(){return f}),a.d(e,"i",function(){return m}),a.d(e,"t",function(){return g}),a.d(e,"s",function(){return _}),a.d(e,"r",function(){return h}),a.d(e,"u",function(){return v}),a.d(e,"g",function(){return b}),a.d(e,"v",function(){return y}),a.d(e,"w",function(){return k}),a.d(e,"d",function(){return w}),a.d(e,"e",function(){return D}),a.d(e,"a",function(){return x}),a.d(e,"b",function(){return $}),a.d(e,"c",function(){return S}),a.d(e,"f",function(){return C});var o=a("365c"),n={goodsGroupList:"groupList",goodsGroupAdd:"groupAdd",goodsGroupMod:"groupMod",goodsGroupDel:"groupDel",goodsGroupTree:"groupTree",goodsList:"list",goodsAdd:"add",goodsMod:"mod",goodsDel:"del",goodsAttrSet:"attrSet",goodsSkuSet:"skuSet",goodsSkuGet:"skuGet",goodsRun:"run",goodsStop:"stop",topList:"topList",setTop:"topSet",topCancel:"topCancel",applyList:"applyList",applyPool:"applyPool",applyCalc:"applyCalc",applyPut:"applyPut",fixPut:"fixPut",fixList:"fixList"};function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["a"].post(n.goodsList,t,"gm/goods")}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["a"].post(n.goodsGroupList,t,"gm/goods")}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["a"].post(n.goodsGroupAdd,t,"gm/goods")}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["a"].post(n.goodsGroupMod,t,"gm/goods")}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["a"].post(n.goodsGroupDel,t,"gm/goods")}function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["a"].post(n.goodsAdd,t,"gm/goods")}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["a"].post(n.goodsGroupTree,t,"gm/goods")}function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["a"].post(n.goodsMod,t,"gm/goods")}function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["a"].post(n.goodsDel,t,"gm/goods")}function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["a"].post(n.goodsAttrSet,t,"gm/goods")}function g(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["a"].post(n.goodsSkuSet,t,"gm/goods")}function _(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["a"].post(n.goodsSkuGet,t,"gm/goods")}function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["a"].post(n.goodsRun,t,"gm/goods")}function v(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["a"].post(n.goodsStop,t,"gm/goods")}function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["a"].get(n.topList,t,"gm/goods")}function y(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["a"].get(n.setTop,t,"gm/goods")}function k(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["a"].get(n.topCancel,t,"gm/goods")}function w(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["a"].post(n.applyList,t,"gm/goods")}function D(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["a"].post(n.applyPool,t,"gm/goods")}function x(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["a"].post(n.applyCalc,t,"gm/goods")}function $(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["a"].post(n.applyPut,t,"gm/goods")}function S(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["a"].post(n.fixPut,t,"gm/goods")}function C(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["a"].post(n.fixList,t,"gm/goods")}},c616:function(t,e,a){"use strict";a.r(e);var o=a("71b2");e["default"]=o["default"]},c6aa:function(t,e,a){"use strict";a.r(e);var o=a("67a7");e["default"]=o["default"]},cf11:function(t,e,a){},e876:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"库存",visible:t.show,width:"70%"},on:{"update:visible":function(e){t.show=e},close:t.closed}},[a("el-table",{staticStyle:{"margin-top":"10px"},attrs:{data:t.skuData,border:""}},[a("el-table-column",{attrs:{prop:"goods_id",label:"商品标识"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-link",{staticClass:"attr_link",attrs:{underline:!1,type:"primary"},on:{click:function(a){return t.edit(e.row)}}},[t._v("\n          "+t._s(e.row.goods_id)+"\n        ")])]}}])}),a("el-table-column",{attrs:{prop:"attr_value_format",label:"库存名称"}}),a("el-table-column",{attrs:{prop:"cost_price",label:"成本价"}}),a("el-table-column",{attrs:{prop:"sale_price",label:"销售价"}}),a("el-table-column",{attrs:{prop:"market_price",label:"市场价"}}),a("el-table-column",{attrs:{prop:"stock_num",label:"库存"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.stock_num))]}}])}),a("el-table-column",{attrs:{prop:"sales_num",label:"销量"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.sales_num))]}}])})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.closePop}},[t._v("关闭")])],1),a("formSku",{ref:"sku",attrs:{data:t.formData},on:{refresh:t.goodsSkuGet,"update:data":function(e){t.formData=e}}})],1)},n=[],i=(a("ac6a"),a("901e")),r=a.n(i),s=a("06bc"),l=a("c40e"),c={components:{formSku:s["default"]},data:function(){return{show:!1,formData:{},skuData:[],goods_id:""}},methods:{formatPirce:function(t){return new r.a(t).dividedBy(new r.a(100)).toNumber()},closed:function(){this.$emit("update:data",[])},open:function(t){this.goods_id=t,this.show=!0,this.goodsSkuGet()},edit:function(t){this.formData=JSON.parse(JSON.stringify(t)),this.$refs.sku.open()},goodsSkuGet:function(){var t=this;Object(l["s"])({goods_id:this.goods_id}).then(function(e){0==e.code&&(e.data.forEach(function(e){e.cost_price=t.formatPirce(e.cost_price),e.sale_price=t.formatPirce(e.sale_price),e.market_price=t.formatPirce(e.market_price)}),t.skuData=e.data)})},closePop:function(){this.show=!1,location.reload()}}},u=c,d=a("2877"),p=Object(d["a"])(u,o,n,!1,null,"57abdfc6",null);e["default"]=p.exports},fcba:function(t,e,a){}}]);