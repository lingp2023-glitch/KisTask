(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-468b6f4a"],{a235:function(o,t,n){},c38a:function(o,t,n){"use strict";n.r(t);var e=function(){var o=this,t=o.$createElement,n=o._self._c||t;return n("div",{staticClass:"className"},[n("el-card",{staticClass:"anoCard"},[n("div",{staticClass:"anoCard-header",attrs:{slot:"header"},slot:"header"},[n("span",[o._v("置顶商品")]),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:o.open}},[o._v("\n        新增置顶商品\n      ")])],1),n("div",{staticClass:"list"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:o.loading,expression:"loading"}],attrs:{data:o.list,border:""}},[n("el-table-column",{attrs:{prop:"goods_name",label:"商品名称"},scopedSlots:o._u([{key:"default",fn:function(t){return[n("BaseElImage",{attrs:{custom_style:{width:"60px",height:"60px"},custom_src:t.row.cover,fit:"cover"}}),n("br"),o._v("\n            "+o._s(t.row.goods_name)+"\n          ")]}}])}),n("el-table-column",{attrs:{prop:"goods_id",label:"标识",width:"80"}}),n("el-table-column",{attrs:{prop:"create_time",label:"操作",width:"50"},scopedSlots:o._u([{key:"default",fn:function(t){return[n("el-dropdown",{staticClass:"dropdown",attrs:{trigger:"click"}},[n("span",{staticClass:"el-dropdown-link"},[n("i",{staticClass:"el-icon-more"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{nativeOn:{click:function(n){return o.topCancel(t.row.goods_id)}}},[o._v("取消")])],1)],1)]}}])})],1)],1)]),n("el-dialog",{attrs:{visible:o.dialog},on:{"update:visible":function(t){o.dialog=t}}},[n("el-form",{ref:"form",attrs:{model:o.form,rules:o.rules}},[n("el-form-item",{attrs:{label:"商品id",prop:"goodsId","label-width":o.formLabelWidth}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:o.form.goodsId,callback:function(t){o.$set(o.form,"goodsId",t)},expression:"form.goodsId"}})],1),n("el-form-item",{attrs:{label:"置顶序号","label-width":o.formLabelWidth,prop:"topSeq"}},[n("el-input",{model:{value:o.form.topSeq,callback:function(t){o.$set(o.form,"topSeq",o._n(t))},expression:"form.topSeq"}})],1)],1),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){o.dialog=!1}}},[o._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:o.add}},[o._v("确定")])],1)],1)],1)},r=[],s=n("c40e"),i={data:function(){return{list:[{goods_name:"asdasd",seq:111},{goods_name:"asdasd",seq:111}],form:{goodsId:null,topSeq:null},rules:{goodsId:[{required:!0,message:"请输入商品id",trigger:"blur"}]},loading:!1,dialog:!1,formLabelWidth:"80px"}},watch:{dialog:function(o){o||this.$refs["form"].resetFields()}},created:function(){this.getTopList()},methods:{getTopList:function(){var o=this;this.loading=!0,Object(s["g"])().then(function(t){0==t.code&&(o.list=t.data||[])},function(o){console.log(o)}).finally(function(){o.loading=!1})},open:function(){this.dialog=!0},add:function(){var o=this;this.$refs["form"].validate(function(t){if(t){var n={};n.goods_id=o.form.goodsId,n.top_seq=o.form.topSeq;var e=o.$loading({lock:!0,spinner:"el-icon-loading",background:"rgba(0,0,0, 0.7)"});Object(s["v"])(n).then(function(t){0==t.code&&(o.dialog=!1)},function(o){console.log(o)}).finally(function(){e.close(),o.getTopList()})}})},topCancel:function(o){var t=this;this.$confirm("此操作将取消置顶该商品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var n=t.$loading({lock:!0,spinner:"el-icon-loading",background:"rgba(0,0,0, 0.7)"});Object(s["w"])({goods_id:o}).then(function(o){0==o.code&&t.$message({message:"取消成功",type:"success"})},function(o){console.log(o)}).finally(function(){n.close(),t.getTopList()})})}}},d=i,a=(n("d78f"),n("2877")),u=Object(a["a"])(d,e,r,!1,null,"f8d13a0e",null);t["default"]=u.exports},c40e:function(o,t,n){"use strict";n.d(t,"p",function(){return s}),n.d(t,"m",function(){return i}),n.d(t,"k",function(){return d}),n.d(t,"n",function(){return a}),n.d(t,"l",function(){return u}),n.d(t,"h",function(){return l}),n.d(t,"o",function(){return g}),n.d(t,"q",function(){return c}),n.d(t,"j",function(){return p}),n.d(t,"i",function(){return f}),n.d(t,"t",function(){return v}),n.d(t,"s",function(){return m}),n.d(t,"r",function(){return h}),n.d(t,"u",function(){return b}),n.d(t,"g",function(){return w}),n.d(t,"v",function(){return k}),n.d(t,"w",function(){return y}),n.d(t,"d",function(){return _}),n.d(t,"e",function(){return L}),n.d(t,"a",function(){return S}),n.d(t,"b",function(){return C}),n.d(t,"c",function(){return x}),n.d(t,"f",function(){return G});var e=n("365c"),r={goodsGroupList:"groupList",goodsGroupAdd:"groupAdd",goodsGroupMod:"groupMod",goodsGroupDel:"groupDel",goodsGroupTree:"groupTree",goodsList:"list",goodsAdd:"add",goodsMod:"mod",goodsDel:"del",goodsAttrSet:"attrSet",goodsSkuSet:"skuSet",goodsSkuGet:"skuGet",goodsRun:"run",goodsStop:"stop",topList:"topList",setTop:"topSet",topCancel:"topCancel",applyList:"applyList",applyPool:"applyPool",applyCalc:"applyCalc",applyPut:"applyPut",fixPut:"fixPut",fixList:"fixList"};function s(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["a"].post(r.goodsList,o,"gm/goods")}function i(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["a"].post(r.goodsGroupList,o,"gm/goods")}function d(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["a"].post(r.goodsGroupAdd,o,"gm/goods")}function a(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["a"].post(r.goodsGroupMod,o,"gm/goods")}function u(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["a"].post(r.goodsGroupDel,o,"gm/goods")}function l(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["a"].post(r.goodsAdd,o,"gm/goods")}function g(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["a"].post(r.goodsGroupTree,o,"gm/goods")}function c(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["a"].post(r.goodsMod,o,"gm/goods")}function p(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["a"].post(r.goodsDel,o,"gm/goods")}function f(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["a"].post(r.goodsAttrSet,o,"gm/goods")}function v(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["a"].post(r.goodsSkuSet,o,"gm/goods")}function m(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["a"].post(r.goodsSkuGet,o,"gm/goods")}function h(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["a"].post(r.goodsRun,o,"gm/goods")}function b(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["a"].post(r.goodsStop,o,"gm/goods")}function w(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["a"].get(r.topList,o,"gm/goods")}function k(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["a"].get(r.setTop,o,"gm/goods")}function y(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["a"].get(r.topCancel,o,"gm/goods")}function _(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["a"].post(r.applyList,o,"gm/goods")}function L(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["a"].post(r.applyPool,o,"gm/goods")}function S(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["a"].post(r.applyCalc,o,"gm/goods")}function C(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["a"].post(r.applyPut,o,"gm/goods")}function x(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["a"].post(r.fixPut,o,"gm/goods")}function G(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["a"].post(r.fixList,o,"gm/goods")}},d78f:function(o,t,n){"use strict";var e=n("a235"),r=n.n(e);r.a}}]);