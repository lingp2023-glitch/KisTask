(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-29c6cb86","chunk-35881211","chunk-3d9182c8","chunk-31905c06","chunk-8e9b11f2","chunk-dd70e85a","chunk-73052d5a","chunk-245294d0","chunk-0b8b2510","chunk-8aff1424","chunk-4fb3cb3c","chunk-36a4ddb0","chunk-c11905c8","chunk-f6102e1c","chunk-79fcc024","chunk-a5fe71de","chunk-3639d850","chunk-022b1e7a","chunk-30cdee74","chunk-162338af"],{"0615":function(t,e,a){"use strict";var i=a("a82a"),o=a.n(i);o.a},"086c":function(t,e,a){"use strict";a.r(e);var i=a("d2b4");e["default"]=i["default"]},"0b41":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-cascader",{staticStyle:{width:"100%"},attrs:{props:{children:"childs",label:"group_name",value:"group_id"},emitPath:!1,value:t.group_id,options:t.group},on:{"update:value":function(e){t.group_id=e},change:t.change}})],1)},o=[],s=(a("7514"),a("c5f6"),a("c40e")),r={props:{group_id:{type:[String,Number],required:!0,default:function(){return""}}},data:function(){return{group:[]}},created:function(){this.goodsGroupTree()},methods:{goodsGroupTree:function(){var t=this;Object(s["v"])().then(function(e){0==e.code&&(t.group=e.data)})},change:function(t){var e=this,a={};t.map(function(i,o){a=0==o?e.group.find(function(t){return t.group_id==i}).childs:o==t.length-1?a.find(function(t){return t.group_id==i}):a.find(function(t){return t.group_id==i}).childs}),this.$emit("update:group_id",t[t.length-1]),this.$emit("selectGroupItem",a)}}},n=r,l=(a("622a"),a("2877")),c=Object(l["a"])(n,i,o,!1,null,null,null);e["default"]=c.exports},"0d3a":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:t.title,visible:t.show,width:"50%",top:"20px","close-on-click-modal":!1},on:{"update:visible":function(e){t.show=e},closed:t.closed}},[a("div",{staticClass:"scrollBox"},[a("div",[a("el-form",{ref:"form",attrs:{"label-width":"auto",model:t.data,rules:t.rules}},[a("el-row",{attrs:{gutter:30}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"产品名称",prop:"goods_name"}},[a("el-input",{model:{value:t.data.goods_name,callback:function(e){t.$set(t.data,"goods_name",e)},expression:"data.goods_name"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"产品分组",prop:"group_id"}},[a("formClass",{attrs:{group_id:t.data.group_id},on:{"update:group_id":function(e){return t.$set(t.data,"group_id",e)},selectGroupItem:t.selectGroupItem}})],1)],1),t.isRim?a("div",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"产品介绍",prop:"intro"}},[a("el-input",{attrs:{type:"textarea",rows:3},model:{value:t.data.intro,callback:function(e){t.$set(t.data,"intro",e)},expression:"data.intro"}})],1)],1)],1):a("div",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"别名",prop:"alias"}},[a("el-input",{model:{value:t.data.alias,callback:function(e){t.$set(t.data,"alias",e)},expression:"data.alias"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"花语寓意",prop:"moral"}},[a("el-input",{model:{value:t.data.moral,callback:function(e){t.$set(t.data,"moral",e)},expression:"data.moral"}})],1)],1),t._l(t.attrsList,function(e,i){return a("el-col",{key:i,attrs:{span:12}},[a("el-form-item",{attrs:{label:e}},[a("el-input",{model:{value:t.attrsObj[e],callback:function(a){t.$set(t.attrsObj,e,a)},expression:"attrsObj[item]"}})],1)],1)}),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"主要作用",prop:"effect"}},[a("el-input",{attrs:{type:"textarea",rows:2},model:{value:t.data.effect,callback:function(e){t.$set(t.data,"effect",e)},expression:"data.effect"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"生长习性",prop:"growth_habit"}},[a("el-input",{attrs:{type:"textarea",rows:2},model:{value:t.data.growth_habit,callback:function(e){t.$set(t.data,"growth_habit",e)},expression:"data.growth_habit"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"生长休眠期",prop:"growth_period"}},[a("el-input",{attrs:{type:"textarea",rows:2},model:{value:t.data.growth_period,callback:function(e){t.$set(t.data,"growth_period",e)},expression:"data.growth_period"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"浇水换水频次",prop:"watering_frequency1"}},[a("el-input",{attrs:{type:"textarea",rows:2},model:{value:t.data.watering_frequency1,callback:function(e){t.$set(t.data,"watering_frequency1",e)},expression:"data.watering_frequency1"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"花期果期",prop:"fruiting_day"}},[a("el-input",{attrs:{type:"textarea",rows:2},model:{value:t.data.fruiting_day,callback:function(e){t.$set(t.data,"fruiting_day",e)},expression:"data.fruiting_day"}})],1)],1)],2),a("el-col",{attrs:{span:24}},[a("el-form-item",{staticStyle:{width:"47%"},attrs:{label:"产品排位",prop:"sort"}},[a("el-input",{attrs:{type:"number"},model:{value:t.data.sort,callback:function(e){t.$set(t.data,"sort",e)},expression:"data.sort"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"产品封面",prop:"cover"}},[a("formCover",{attrs:{needBase:t.startsWithHttp,cover:t.data.cover},on:{"update:cover":function(e){return t.$set(t.data,"cover",e)}}})],1)],1)],1)],1)],1),a("span",{staticClass:"dialog-footer"},[a("el-button",{on:{click:function(e){t.show=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.draftSet}},[t._v("保 存 草 稿")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1)])])},o=[],s=a("cebc"),r=(a("c5f6"),a("28a5"),a("3b2b"),a("ac6a"),a("cf2d")),n=a("901e"),l=a.n(n),c=a("c40e"),d=a("0bba"),u=a("69fe"),f=a("a3ab"),p=a("f925"),v=a("cb77"),m=a("bd5a"),h=a("86d8"),g=(a("5118"),a("3022"),{components:{baseImg:h["a"],formClass:u["default"],formAttr:f["default"],formVideo:p["default"],formCover:v["default"],formImgs:m["default"],PictureLibrary:d["a"],UE:r["a"]},props:{title:{type:String,default:function(){return"新增"}},type:{type:String,default:function(){return"add"}}},data:function(){return{show:!1,isRim:!1,data:{goods_name:"",alias:"",group_id:"",moral:"",effect:"",growth_habit:"",growth_period:"",intro:"",is_water:"0",watering_frequency1:"",fruiting_day:"",sort:0,cover:"",attrs:[]},rules:{goods_name:[{required:!0,message:"请输入产品名称",trigger:"blur"}],sort:[{required:!0,message:"请输入排序",trigger:"blur"}],group_id:[{required:!0,message:"请选择分组",trigger:"blur"}],cover:[{required:!0,message:"请选择封面",trigger:"blur"}]},htmlText:"",profitList:[],gift_value:{gift_value:""},giftRules:{gift_value:[{required:!0,message:"请输入赠品",trigger:"blur"}]},activeGift:"",addGiftValueShow:!1,addStandardGiftShow:!1,standardGiftList:[],standardGiftData:["买一送一","带盆栽好","送颗粒肥","送营养液","送有机肥","送生根粉","送菌肥","送苔藓","送砂石","送小品","送陶粒","送营养土","送田园土","送水晶泥","送花盆底座","送花盆托盘","送挂件","送彩带"],attrsObj:{},attrsList:[]}},computed:{startsWithHttp:function(){var t=/^http/;return!t.test(this.data.cover)}},methods:{selectGroupItem:function(t){var e=this,a=t.group_attrs;""==a||null==a?(this.attrsObj={},this.attrsList=[]):(this.attrsObj={},this.attrsList.map(function(t,a){e.attrsObj[t]=""}),this.attrsList=a.split(" ")),this.data.is_water=t.is_water},editGift:function(t,e){this.gift_value.gift_value=t,this.activeGift=e,this.addGiftValueShow=!0},delGift:function(t){this.data.gift.splice(t,1)},addStandardGift:function(){var t=this;console.log(this.standardGiftList),this.standardGiftList.map(function(e,a){t.data.gift.push(e)}),this.standardGiftList=[],this.addStandardGiftShow=!1},setGiftValue:function(){var t=this;this.$refs["addGiftValueData"].validate(function(e){e&&("string"==typeof t.activeGift?t.data.gift.push(t.gift_value.gift_value):(t.$set(t.data.gift,t.activeGift,t.gift_value.gift_value),t.activeGift=""),t.gift_value={gift_value:""},t.addGiftValueShow=!1)})},closed:function(){this.$refs["form"].resetFields(),this.$refs.quill.setContent(""),this.attrsObj={},this.attrsList=[]},open:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{attrs:[]};if("add"==this.type)this.draftGet();else{var e=t.append_data?JSON.parse(t.append_data):{};this.attrsObj=e.attrsObj,this.attrsList=e.attrsList,this.data=t,this.show=!0}},getProfitList:function(t){var e=this;Object(c["l"])().then(function(a){console.log(a),e.profitList=a.data,e.data.profit="add"==t?e.profitList[0].code:Number(e.data.profit)})},changPrice:function(t){console.log(t);for(var e=0;e<this.profitList.length;e++){var a=this.profitList[e];if(a.code==this.data.profit)return this.data.profit1=Math.floor(t*a.profit[0]*.01*100)/100,void(this.data.profit2=Math.floor(t*a.profit[1]*.01*100)/100)}},changeProfit:function(t){if(console.log(t),""!=this.data.sale_price)for(var e=0;e<this.profitList.length;e++){var a=this.profitList[e];if(a.code==t)return this.data.profit1=Math.floor(this.data.sale_price*a.profit[0]*.01*100)/100,void(this.data.profit2=Math.floor(this.data.sale_price*a.profit[1]*.01*100)/100)}},draftGet:function(){var t=this;Object(c["d"])().then(function(e){0==e.code&&e.data&&(t.data=Object(s["a"])({},e.data))}).finally(function(){t.show=!0})},draftSet:function(){var t=this,e=JSON.stringify(this.data);Object(c["e"])({draft:e}).then(function(e){0==e.code&&t.$message({message:"草稿保存成功",type:"success"})})},submit:function(){var t=!1;if(this.$refs["form"].validate(function(e){t=e}),t){var e=Object(s["a"])({},this.data);e.attrs=JSON.stringify(e.attrs);var a={attrsList:this.attrsList,attrsObj:this.attrsObj};switch(e.append_data=JSON.stringify(a),this.type){case"add":this.goodsAdd(e);break;case"edit":this.goodsMod(e);break}}},goodsAdd:function(t){var e=this;Object(c["o"])(t).then(function(t){0==t.code?(e.$message({message:"新增成功",type:"success"}),e.$parent.getGoodsList()):e.$message({message:t.msg||"新增失败",type:"error"})}).finally(function(){e.show=!1})},goodsMod:function(t){var e=this;Object(c["x"])(t).then(function(t){0==t.code?(e.$message({message:"修改成功",type:"success"}),e.$parent.refresh()):e.$message({message:t.msg||"修改失败",type:"error"})}).finally(function(){e.show=!1})},formatPirce:function(t){return new l.a(t).multipliedBy(new l.a(100)).toNumber()},getHtml:function(t){this.data.description=t,this.htmlText=t,console.log(t)}}}),_=g,b=(a("e1e4"),a("2877")),S=Object(b["a"])(_,i,o,!1,null,"7751cd7c",null);e["default"]=S.exports},"1bcd":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("media-library",{ref:"mediaLibrary",attrs:{active:"1",title:"图片库"}}),a("div",{staticClass:"imgFlex"},[t._l(t.imgs,function(e,i){return a("div",{key:i,staticClass:"img-wrap"},[a("div",{staticClass:"img-item"},[a("i",{staticClass:"el-icon-close img-close",on:{click:function(e){return t.del_cover(i)}}}),a("BaseElImage",{attrs:{custom_src:e,previewList:[e],fit:"cover"}})],1)])}),t.imgs.length<t.limit?a("div",{staticClass:"img-add",on:{click:function(e){return t.$refs.mediaLibrary.open()}}},[a("i",{staticClass:"el-icon-plus img-add-icon"})]):t._e()],2)],1)},o=[],s=(a("c5f6"),a("daf4")),r={components:{mediaLibrary:s["a"]},props:{imgs:{type:[Object,Array],default:function(){return[]}},limit:{type:Number,default:function(){return 9}}},data:function(){return{srcCovers:[]}},mounted:function(){var t=this;this.$bus.$on("finishCoverSelectMed",function(e){t.getData(e)})},beforeDestroy:function(){this.$bus.$off("finishCoverSelectMed")},methods:{getData:function(t){this.imgs.push(t.src_file),this.$emit("update:imgs",this.imgs),this.$emit("finishChoose",this.imgs),this.$refs.mediaLibrary.handleClose()},del_cover:function(t){this.imgs.splice(t,1),console.log(this.imgs),this.$emit("update:imgs",this.imgs),this.$emit("finishChoose",this.imgs)}}},n=r,l=(a("5c15"),a("2877")),c=Object(l["a"])(n,i,o,!1,null,"7ba5f4df",null);e["default"]=c.exports},"3b2b":function(t,e,a){var i=a("7726"),o=a("5dbc"),s=a("86cc").f,r=a("9093").f,n=a("aae3"),l=a("0bfb"),c=i.RegExp,d=c,u=c.prototype,f=/a/g,p=/a/g,v=new c(f)!==f;if(a("9e1e")&&(!v||a("79e5")(function(){return p[a("2b4c")("match")]=!1,c(f)!=f||c(p)==p||"/a/i"!=c(f,"i")}))){c=function(t,e){var a=this instanceof c,i=n(t),s=void 0===e;return!a&&i&&t.constructor===c&&s?t:o(v?new d(i&&!s?t.source:t,e):d((i=t instanceof c)?t.source:t,i&&s?l.call(t):e),a?this:u,c)};for(var m=function(t){t in c||s(c,t,{configurable:!0,get:function(){return d[t]},set:function(e){d[t]=e}})},h=r(d),g=0;h.length>g;)m(h[g++]);u.constructor=c,c.prototype=u,a("2aba")(i,"RegExp",c)}a("7a56")("RegExp")},"3c8d":function(t,e,a){},"3d2e":function(t,e,a){"use strict";var i=a("aba5"),o=a.n(i);o.a},5118:function(t,e,a){(function(t){var i="undefined"!==typeof t&&t||"undefined"!==typeof self&&self||window,o=Function.prototype.apply;function s(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new s(o.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new s(o.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},a("6017"),e.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof t&&t.clearImmediate||this&&this.clearImmediate}).call(this,a("c8ba"))},"5b1b":function(t,e,a){},"5c15":function(t,e,a){"use strict";var i=a("5b1b"),o=a.n(i);o.a},"5d19":function(t,e,a){},6017:function(t,e,a){(function(t,e){(function(t,a){"use strict";if(!t.setImmediate){var i,o=1,s={},r=!1,n=t.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(t);l=l&&l.setTimeout?l:t,"[object process]"==={}.toString.call(t.process)?p():v()?m():t.MessageChannel?h():n&&"onreadystatechange"in n.createElement("script")?g():_(),l.setImmediate=c,l.clearImmediate=d}function c(t){"function"!==typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),a=0;a<e.length;a++)e[a]=arguments[a+1];var r={callback:t,args:e};return s[o]=r,i(o),o++}function d(t){delete s[t]}function u(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(a,i);break}}function f(t){if(r)setTimeout(f,0,t);else{var e=s[t];if(e){r=!0;try{u(e)}finally{d(t),r=!1}}}}function p(){i=function(t){e.nextTick(function(){f(t)})}}function v(){if(t.postMessage&&!t.importScripts){var e=!0,a=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=a,e}}function m(){var e="setImmediate$"+Math.random()+"$",a=function(a){a.source===t&&"string"===typeof a.data&&0===a.data.indexOf(e)&&f(+a.data.slice(e.length))};t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),i=function(a){t.postMessage(e+a,"*")}}function h(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;f(e)},i=function(e){t.port2.postMessage(e)}}function g(){var t=n.documentElement;i=function(e){var a=n.createElement("script");a.onreadystatechange=function(){f(e),a.onreadystatechange=null,t.removeChild(a),a=null},t.appendChild(a)}}function _(){i=function(t){setTimeout(f,0,t)}}})("undefined"===typeof self?"undefined"===typeof t?this:t:self)}).call(this,a("c8ba"),a("f28c"))},6070:function(t,e,a){"use strict";a.r(e);var i=a("d553");e["default"]=i["default"]},"60c1":function(t,e,a){"use strict";var i=a("9b51"),o=a.n(i);o.a},6105:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("media-library",{ref:"mediaLibrary",attrs:{active:"1",title:"图片库"}}),a("div",{staticClass:"imgFlex"},[t._l(t.imgs,function(e,i){return a("div",{key:i,staticClass:"img-wrap"},[a("div",{staticClass:"img-item"},[a("i",{staticClass:"el-icon-close img-close",on:{click:function(e){return t.del_cover(i)}}}),a("BaseElImage",{attrs:{custom_src:e,previewList:[e],fit:"cover"}})],1)])}),t.imgs.length<t.limit?a("div",{staticClass:"img-add",on:{click:function(e){return t.$refs.mediaLibrary.open()}}},[a("i",{staticClass:"el-icon-plus img-add-icon"})]):t._e()],2)],1)},o=[],s=(a("c5f6"),a("daf4")),r={components:{mediaLibrary:s["a"]},props:{imgs:{type:[Object,Array],default:function(){return[]}},limit:{type:Number,default:function(){return 9}}},data:function(){return{srcCovers:[]}},mounted:function(){var t=this;this.$bus.$on("finishCoverSelectMed",function(e){t.getData(e)})},beforeDestroy:function(){this.$bus.$off("finishCoverSelectMed")},methods:{getData:function(t){this.imgs.push(t.src_file),this.$emit("update:imgs",this.imgs),this.$emit("finishChoose",this.imgs),this.$refs.mediaLibrary.handleClose()},del_cover:function(t){this.imgs.splice(t,1),console.log(this.imgs),this.$emit("update:imgs",this.imgs),this.$emit("finishChoose",this.imgs)}}},n=r,l=(a("60c1"),a("2877")),c=Object(l["a"])(n,i,o,!1,null,"3255d3d6",null);e["default"]=c.exports},"622a":function(t,e,a){"use strict";var i=a("5d19"),o=a.n(i);o.a},"65fa":function(t,e,a){"use strict";a.r(e);var i=a("0d3a");e["default"]=i["default"]},"69fe":function(t,e,a){"use strict";a.r(e);var i=a("0b41");e["default"]=i["default"]},"6ade":function(t,e,a){},"6d84":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"价格库存",top:"20px",visible:t.show,width:"70%","close-on-click-modal":!1},on:{"update:visible":function(e){t.show=e},close:t.closed}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:3}},[a("el-menu",{attrs:{"default-active":t.activeShopId},on:{select:t.selectShop}},t._l(t.shopList,function(e,i){return a("el-menu-item",{key:i,attrs:{index:e.shop_id}},[t._v(t._s(e.shop_name))])}),1)],1),a("el-col",{attrs:{span:21}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{staticStyle:{"margin-bottom":"10px"},attrs:{span:12}},[t._v("产品名："+t._s(t.activeShop.name))]),a("el-col",{staticStyle:{"margin-bottom":"10px"},attrs:{span:12}},[t._v("到货方式："+t._s(t.activeShop.deliver_type))]),a("el-col",{staticStyle:{"margin-bottom":"10px"},attrs:{span:12}},[t._v("服务保障："+t._s(JSON.parse(t.activeShop.services).join("、")))]),a("el-col",{staticStyle:{"margin-bottom":"10px"},attrs:{span:12}},[t._v("上架时间："+t._s(t.activeShop.create_time))]),a("el-col",{staticStyle:{"margin-bottom":"10px"},attrs:{span:12}},[t._v("\n          商品状态："+t._s(t.activeShop.status_name)+"\n          "),1==t.activeShop.status?a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"medium"},on:{click:t.CheckGoods}},[t._v("审核")]):t._e()],1)],1),a("div",{staticClass:"scrollBox"},[a("el-table",{staticStyle:{"margin-top":"10px"},attrs:{data:t.skuData,border:""}},[a("el-table-column",{attrs:{prop:"attr_value_format",label:"商品属性"}}),a("el-table-column",{attrs:{prop:"green_price",label:"苗木报价"}}),a("el-table-column",{attrs:{prop:"deliver_price",label:"配送报价"}}),a("el-table-column",{attrs:{prop:"care_price",label:"其他费用"}}),a("el-table-column",{attrs:{label:"总售价"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(Number(e.row.green_price)+Number(e.row.pot_price)+Number(e.row.deliver_price)+Number(e.row.care_price))+"\n            ")]}}])}),a("el-table-column",{attrs:{prop:"stock_num",label:"库存"}})],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.closePop}},[t._v("关闭")])],1),a("formSku",{ref:"sku",on:{refresh:t.goodsSkuGet}}),a("el-dialog",{attrs:{title:"审核",visible:t.showCheckGoods,width:"25%",top:"20%","close-on-click-modal":!1,"append-to-body":"","before-close":t.handleChekcShopClose},on:{"update:visible":function(e){t.showCheckGoods=e}}},[a("div",{staticClass:"checkBox"},[a("div",{staticClass:"checkBoxItem"},[a("div",{staticClass:"itemOption"},[t._v("\n          审批信息：\n        ")]),a("div",{staticClass:"itemValue"},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入审批信息"},model:{value:t.checkMsg,callback:function(e){t.checkMsg=e},expression:"checkMsg"}})],1)])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-popconfirm",{attrs:{title:"确定 拒绝 吗？"},on:{confirm:function(e){return t.submitCheckGoods(-1)}}},[a("el-button",{attrs:{slot:"reference",type:"danger"},slot:"reference"},[t._v("\n          拒 绝\n        ")])],1),a("el-popconfirm",{staticStyle:{"margin-left":"10px"},attrs:{title:"确定 通过 吗？"},on:{confirm:function(e){return t.submitCheckGoods(2)}}},[a("el-button",{attrs:{slot:"reference",type:"primary"},slot:"reference"},[t._v("\n          通 过\n        ")])],1)],1)])],1)},o=[],s=(a("20d6"),a("901e")),r=a.n(s),n=a("086c"),l=a("c40e"),c={components:{formSku:n["default"]},data:function(){return{show:!1,formData:{},skuData:[],goods_id:"",shopList:[],activeShopId:"",activeShop:{},checkData:{},checkMsg:"",showCheckGoods:!1}},methods:{submitCheckGoods:function(t){var e=this;Object(l["c"])({goods_id:this.activeShop.goods_id,shop_id:this.activeShop.shop_id,status:t,check_msg:this.checkMsg}).then(function(t){0==t.code&&(e.$message({type:"success",message:"审核完成!"}),e.getSkuShops(),e.checkMsg="",e.showCheckGoods=!1)})},CheckGoods:function(){this.showCheckGoods=!0},handleChekcShopClose:function(){this.checkMsg="",this.showCheckGoods=!1},selectShop:function(t){this.activeShopId=t;var e=this.shopList.findIndex(function(e){return e.shop_id==t});this.activeShop=this.shopList[e],this.goodsSkuGet(),console.log(this.activeShop)},getSkuShops:function(){var t=this;Object(l["m"])({goods_id:this.goods_id}).then(function(e){if(t.activeShopId){t.shopList=e.data;var a=t.shopList.findIndex(function(e){return e.shop_id==t.activeShopId});t.activeShop=t.shopList[a]}else t.shopList=e.data,t.activeShopId=t.shopList[0].shop_id,t.activeShop=t.shopList[0],t.goodsSkuGet()})},formatPirce:function(t){return t?new r.a(t).dividedBy(new r.a(100)).toNumber():0},closed:function(){},open:function(t){this.goods_id=t,this.show=!0,this.getSkuShops()},edit:function(t){this.formData=JSON.parse(JSON.stringify(t)),this.$refs.sku.open(this.formData)},goodsSkuGet:function(){var t=this;Object(l["z"])({shop_goods_id:this.activeShop.shop_goods_id}).then(function(e){0==e.code&&(t.skuData=e.data)})},closePop:function(){this.show=!1}}},d=c,u=(a("3d2e"),a("2877")),f=Object(u["a"])(d,i,o,!1,null,"20ca3394",null);e["default"]=f.exports},"7ea7":function(t,e,a){"use strict";var i=a("c187"),o=a.n(i);o.a},8726:function(t,e,a){"use strict";a.r(e);var i=a("6105");e["default"]=i["default"]},"91b8":function(t,e,a){},9833:function(t,e,a){},"9a15":function(t,e,a){},"9b51":function(t,e,a){},"9ca1":function(t,e,a){"use strict";a.r(e);var i=a("1bcd");e["default"]=i["default"]},a3ab:function(t,e,a){"use strict";a.r(e);var i=a("ed85");e["default"]=i["default"]},a629:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"setServe"},[a("el-dialog",{attrs:{title:"服务设置",visible:t.dialog,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialog=e},closed:t.closedDialog}},[a("el-form",{ref:"form",attrs:{"label-width":"110px",model:t.form,rules:t.rules}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"到货方式",prop:"deliver_method"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.deliver_method,callback:function(e){t.$set(t.form,"deliver_method",e)},expression:"form.deliver_method"}},t._l(t.deliveryMethodList,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"服务保障",prop:"service"}},[t._l(t.form.service,function(e,i){return a("el-tag",{key:e,staticClass:"tag",attrs:{name:e,"disable-transitions":!0,closable:""},on:{click:function(a){return t.editServe(e,i)},close:function(e){return t.delServe(i)}}},[t._v("\n            "+t._s(e)+"\n          ")])}),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini",plain:""},on:{click:function(e){t.addStandardServeShow=!0}}},[t._v("标准服务保障")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini",plain:""},on:{click:function(e){t.addServeValueShow=!0}}},[t._v("定制服务保障")])],2)],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialog=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1),a("el-dialog",{attrs:{"append-to-body":"",title:"设置服务保障",visible:t.addServeValueShow,width:"30%"},on:{"update:visible":function(e){t.addServeValueShow=e}}},[a("el-form",{ref:"addServeValueData",attrs:{"label-width":"auto",model:t.serve_value,rules:t.serveRules}},[a("el-form-item",{attrs:{label:"服务保障",prop:"serve_value"}},[a("el-input",{model:{value:t.serve_value.serve_value,callback:function(e){t.$set(t.serve_value,"serve_value",e)},expression:"serve_value.serve_value"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.serve_value.serve_value="",t.addServeValueShow=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.setServeValue}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{"append-to-body":"",title:"标准服务保障",visible:t.addStandardServeShow},on:{"update:visible":function(e){t.addStandardServeShow=e}}},[a("el-checkbox-group",{model:{value:t.standardServeList,callback:function(e){t.standardServeList=e},expression:"standardServeList"}},t._l(t.standardServeData,function(t,e){return a("el-checkbox",{key:e,staticStyle:{"margin-bottom":"10px"},attrs:{label:t}})}),1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.standardServeList=[],t.addStandardServeShow=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.addStandardServe}},[t._v("确 定")])],1)],1)],1)],1)},o=[],s=a("c40e"),r={data:function(){return{dialog:!1,form:{deliver_method:"",service:[]},goods_id:"",rules:{deliver_method:[{required:!0,message:"请选择到货方式",trigger:["blur"]}]},deliveryMethodList:["免费包邮","付费包邮","门店自提","站点自提","付费配送"],serve_value:{serve_value:""},serveRules:{serve_value:[{required:!0,message:"请输入服务保障",trigger:"blur"}]},activeServe:"",addServeValueShow:!1,addStandardServeShow:!1,standardServeList:[],standardServeData:["7天无理由退货","退货运费险","极速退款","不活包赔（15天）","破损包补","免费养护指导","特价处理不退换"]}},components:{},activated:function(){},watch:{},created:function(){},mounted:function(){},computed:{},methods:{editServe:function(t,e){this.serve_value.serve_value=t,this.activeServe=e,this.addServeValueShow=!0},delServe:function(t){this.form.service.splice(t,1)},addStandardServe:function(){var t=this;console.log(this.standardServeList),this.standardServeList.map(function(e,a){t.form.service.push(e)}),this.standardServeList=[],this.addStandardServeShow=!1},setServeValue:function(){var t=this;this.$refs["addServeValueData"].validate(function(e){e&&("string"==typeof t.activeServe?t.form.service.push(t.serve_value.serve_value):(t.$set(t.form.service,t.activeServe,t.serve_value.serve_value),t.activeServe=""),t.serve_value={serve_value:""},t.addServeValueShow=!1)})},serveGet:function(){var t=this;Object(s["G"])({goods_id:this.goods_id}).then(function(e){t.form.deliver_method=e.data.deliver_method,t.form.service=e.data.service?JSON.parse(e.data.service):[]})},open:function(t){this.goods_id=t,this.serveGet(),this.dialog=!0},closedDialog:function(){this.$refs["form"].clearValidate(),this.form={deliver_method:"",gift:[]},this.goods_id=""},submit:function(){var t=this;this.$refs["form"].validate(function(e){if(e){console.log("验证通过");var a={};a.deliver_method=t.form.deliver_method,a.service=JSON.stringify(t.form.service),a.goods_id=t.goods_id,t.setServe(a)}else console.log("验证失败")})},setServe:function(t){var e=this;Object(s["J"])(t).then(function(t){0==t.code&&e.$message({message:"设置成功",type:"success"}),e.dialog=!1})}}},n=r,l=(a("aeff"),a("2877")),c=Object(l["a"])(n,i,o,!1,null,"5df1dbaa",null);e["default"]=c.exports},a689:function(t,e,a){"use strict";var i=a("afeb"),o=a.n(i);o.a},a82a:function(t,e,a){},aba5:function(t,e,a){},ae1a:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("picture-library",{ref:"pic",attrs:{appendToBody:!0},on:{getData:t.getData}}),t.cover?a("div",{staticClass:"img-wrap"},[a("div",{staticClass:"img-item"},[a("i",{staticClass:"el-icon-close img-close",on:{click:t.del_cover}}),a("BaseElImage",{attrs:{custom_src:t.cover,previewList:[t.cover],needBase:t.needBase,fit:"cover"}})],1)]):a("div",{staticClass:"img-add",on:{click:function(e){return t.$refs.pic.open(!1)}}},[a("i",{staticClass:"el-icon-plus img-add-icon"})])],1)},o=[],s=a("0bba"),r={components:{PictureLibrary:s["a"]},props:{cover:{type:[Object,String],default:function(){return""}},needBase:{type:Boolean,default:function(){return!1}}},data:function(){return{}},methods:{getData:function(t){console.log(t),this.$emit("update:cover",t.src_file)},del_cover:function(){this.$emit("update:cover","")}}},n=r,l=(a("0615"),a("2877")),c=Object(l["a"])(n,i,o,!1,null,"96fb29be",null);e["default"]=c.exports},aeff:function(t,e,a){"use strict";var i=a("3c8d"),o=a.n(i);o.a},afeb:function(t,e,a){},b03e:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dialogTop"},[a("el-dialog",{attrs:{title:"置顶商品",visible:t.show,width:"70%","close-on-click-modal":!1},on:{"update:visible":function(e){t.show=e},close:t.closed}},[a("div",[a("el-form",{ref:"form",attrs:{"label-width":"auto",model:t.form,rules:t.rules}},[a("el-form-item",{attrs:{label:"置顶顺序",prop:"top_seq"}},[a("el-input",{attrs:{type:"number"},model:{value:t.form.top_seq,callback:function(e){t.$set(t.form,"top_seq",e)},expression:"form.top_seq"}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.show=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1)])],1)},o=[],s=a("c40e"),r={data:function(){return{show:!1,goods_id:"",form:{top_seq:""},rules:{top_seq:[{required:!0,message:"请输入置顶顺序",trigger:"blur"}]}}},components:{},filters:{},onLoad:function(t){},onShow:function(){},mounted:function(){},computed:{},methods:{open:function(t){this.goods_id=t,console.log(this.goods_id),this.show=!0},closed:function(){this.$refs["form"].resetFields()},submit:function(){var t=this;this.$refs["form"].validate(function(e){console.log(e),e&&Object(s["H"])({top_seq:t.form.top_seq,goods_id:t.goods_id}).then(function(e){0==e.code&&(t.$message({message:"商品置顶成功",type:"success"}),t.$parent.refresh(),t.show=!1)})})}}},n=r,l=a("2877"),c=Object(l["a"])(n,i,o,!1,null,"292ae9e2",null);e["default"]=c.exports},ba29:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"className"},[a("el-card",{staticClass:"anoCard"},[a("div",{staticClass:"cardHeader"},[a("span",[t._v("产品列表")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.add}},[t._v("\n        新增产品\n      ")])],1),a("div",{staticClass:"searchDiv"},[a("div",{staticClass:"search-name"},[a("el-input",{attrs:{placeholder:"查询字符"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getGoodsList()}},model:{value:t.searchData.query_str,callback:function(e){t.$set(t.searchData,"query_str",e)},expression:"searchData.query_str"}})],1),a("div",{staticClass:"search-btn"},[a("el-button",{attrs:{type:"success"},on:{click:function(e){return t.getGoodsList()}}},[t._v("搜索")])],1)]),a("div",[a("el-tabs",{on:{"tab-click":t.handleTabsClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"全部",name:"0"}}),a("el-tab-pane",{attrs:{label:"待审核",name:"1"}})],1)],1),a("div",{staticClass:"box"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.goodsData.list,border:""}},[a("el-table-column",{attrs:{prop:"goods_name",label:"产品名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("BaseElImage",{attrs:{custom_style:{width:"60px",height:"60px"},custom_src:e.row.cover,fit:"cover",needBase:!1}}),a("br"),t._v("\n            "+t._s(e.row.goods_name)+"\n          ")]}}])}),a("el-table-column",{attrs:{prop:"group_name",label:"分组"}}),a("el-table-column",{attrs:{prop:"stock_num",label:"供应商"},scopedSlots:t._u([{key:"default",fn:function(e){return[0!=e.row.sku_num?a("div",{on:{click:function(a){return t.sku(e.row)}}},[a("el-link",{attrs:{type:"primary"}},[t._v(t._s(e.row.sku_num))])],1):a("div",[t._v(t._s(e.row.sku_num))])]}}])}),a("el-table-column",{attrs:{prop:"is_run",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return["0"==e.row.is_run?a("span",{staticStyle:{color:"#f56c6c"}},[t._v(t._s(t._f("format_isRun")(e.row.is_run)))]):a("span",{staticStyle:{color:"#67c23a"}},[t._v(t._s(t._f("format_isRun")(e.row.is_run)))])]}}])}),a("el-table-column",{attrs:{prop:"create_time",label:"操作",width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-dropdown",{staticClass:"dropdown",attrs:{trigger:"click"}},[a("span",{staticClass:"el-dropdown-link"},[a("i",{staticClass:"el-icon-more"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{nativeOn:{click:function(a){return t.edit(e.row)}}},[t._v("产品介绍")]),a("el-dropdown-item",{nativeOn:{click:function(a){return t.setTop(e.row)}}},[t._v(t._s(0==e.row.top_seq?"置顶":"取消置顶"))]),1==e.row.is_run?a("el-dropdown-item",{nativeOn:{click:function(a){return t.stop(e.row)}}},[t._v("关闭")]):a("el-dropdown-item",{nativeOn:{click:function(a){return t.run(e.row)}}},[t._v("开放\n                ")]),a("el-dropdown-item",{nativeOn:{click:function(a){return t.del(e.row)}}},[t._v("删除")])],1)],1)]}}])})],1)],1),a("pagination",{attrs:{data:t.goodsData},on:{change:t.getGoodsList}})],1),a("shopDialog",{ref:"add",attrs:{title:"新增产品",type:"add"}}),a("shopDialog",{ref:"edit",attrs:{title:"修改产品",type:"edit"}}),a("resetAttr",{ref:"resetAttr"}),a("dialogRun",{ref:"run"}),a("dialogStock",{ref:"sku"}),a("dialogTop",{ref:"dialogTop"}),a("set-img",{ref:"setImg"}),a("set-serve",{ref:"setServe"}),a("run-goods",{ref:"runGoods"})],1)},o=[],s=(a("ac6a"),a("cebc")),r=(a("7f7f"),a("c40e")),n=a("901e"),l=a.n(n),c=a("65fa"),d=a("6070"),u=a("fe69"),f=a("b03e"),p=a("d15f"),v=a("a629"),m=a("f032"),h=a("0bba"),g=a("4632"),_={name:"goods.shop",components:{shopDialog:c["default"],resetAttr:d["default"],dialogStock:u["default"],picLib:h["a"],dialogTop:f["default"],pagination:g["a"],setImg:p["default"],setServe:v["default"],runGoods:m["default"]},data:function(){return{searchData:{query_str:""},activeName:"0",goodsData:{}}},computed:{page:function(){return this.goodsData.page}},created:function(){this.getGoodsList()},filters:{formatMoney:function(t){return t?new l.a(t).dividedBy(new l.a(100)).toNumber():0},format_isRun:function(t){return"1"==t?"已开放":"未开放"}},methods:{handleTabsClick:function(t){console.log(t.name),this.activeName=t.name,this.getGoodsList()},openRunGoods:function(t){t=JSON.parse(JSON.stringify(t)),this.$refs.runGoods.open(Object(s["a"])({},t))},openSetServe:function(t){console.log(t),this.$refs["setServe"].open(t)},openSetImg:function(t){console.log(123456),this.$refs["setImg"].open(t)},setTop:function(t){var e=this;console.log(t),0==t.top_seq?this.$refs.dialogTop.open(t.goods_id):Object(r["H"])({top_seq:0,goods_id:t.goods_id}).then(function(t){0==t.code&&(e.$message({message:"产品取消置顶成功",type:"success"}),e.refresh(),e.show=!1)})},getGoodsList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;Object(r["w"])({page:e,query_str:this.searchData.query_str,status:this.activeName}).then(function(e){0==e.code&&(e.data.list.forEach(function(t){t.imgs=JSON.parse(t.imgs||"[]")}),t.goodsData=e.data)})},add:function(){this.$refs.add.open()},formatPirce:function(t){return t?new l.a(t).dividedBy(new l.a(100)).toNumber():0},edit:function(t){t=JSON.parse(JSON.stringify(t)),t.sale_price=this.formatPirce(t.sale_price),t.profit1=this.formatPirce(t.profit1),t.profit2=this.formatPirce(t.profit2),t=JSON.parse(JSON.stringify(t)),this.$refs.edit.open(t)},resetAttr:function(t){t=JSON.parse(JSON.stringify(t)),this.$refs.resetAttr.open(Object(s["a"])({},t))},stop:function(t){var e=this,a=t.goods_id;this.$confirm("此操作将关闭产品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(r["B"])({goods_id:a}).then(function(t){0==t.code&&(e.$message({message:"关闭成功",type:"success"}),e.refresh())})})},run:function(t){var e=this,a=t.goods_id;this.$confirm("此操作将开放产品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(r["y"])({goods_id:a}).then(function(t){0==t.code&&(e.$message({message:"开放成功",type:"success"}),e.refresh())})})},del:function(t){var e=this,a=t.goods_id;this.$confirm("此操作将删除该产品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(r["q"])({goods_id:a}).then(function(t){0==t.code&&(e.$message({message:"删除成功",type:"success"}),e.refresh())})})},refresh:function(){this.getGoodsList(this.page)},sku:function(t){this.$refs.sku.open(t.goods_id)}}},b=_,S=(a("a689"),a("2877")),y=Object(S["a"])(b,i,o,!1,null,"21ea309d",null);e["default"]=y.exports},bd5a:function(t,e,a){"use strict";a.r(e);var i=a("e436");e["default"]=i["default"]},c187:function(t,e,a){},c40e:function(t,e,a){"use strict";a.d(e,"c",function(){return s}),a.d(e,"m",function(){return r}),a.d(e,"i",function(){return n}),a.d(e,"J",function(){return l}),a.d(e,"G",function(){return c}),a.d(e,"I",function(){return d}),a.d(e,"F",function(){return u}),a.d(e,"w",function(){return f}),a.d(e,"t",function(){return p}),a.d(e,"r",function(){return v}),a.d(e,"u",function(){return m}),a.d(e,"s",function(){return h}),a.d(e,"o",function(){return g}),a.d(e,"v",function(){return _}),a.d(e,"x",function(){return b}),a.d(e,"q",function(){return S}),a.d(e,"p",function(){return y}),a.d(e,"A",function(){return w}),a.d(e,"z",function(){return k}),a.d(e,"y",function(){return x}),a.d(e,"B",function(){return $}),a.d(e,"n",function(){return C}),a.d(e,"K",function(){return L}),a.d(e,"L",function(){return O}),a.d(e,"g",function(){return A}),a.d(e,"h",function(){return D}),a.d(e,"a",function(){return G}),a.d(e,"b",function(){return V}),a.d(e,"f",function(){return j}),a.d(e,"j",function(){return N}),a.d(e,"H",function(){return I}),a.d(e,"d",function(){return R}),a.d(e,"e",function(){return T}),a.d(e,"l",function(){return F}),a.d(e,"k",function(){return q}),a.d(e,"C",function(){return B}),a.d(e,"E",function(){return E}),a.d(e,"D",function(){return M});var i=a("365c"),o={groupList:"groupList",groupAdd:"groupAdd",groupMod:"groupMod",groupDel:"groupDel",goodsGroupList:"groupList",goodsGroupAdd:"groupAdd",goodsGroupMod:"groupMod",goodsGroupDel:"groupDel",goodsGroupTree:"groupTree",goodsList:"list",goodsAdd:"add",goodsMod:"mod",goodsDel:"del",goodsAttrSet:"attrSet",goodsSkuSet:"skuSet",goodsSkuGet:"skuGet",goodsRun:"run",goodsStop:"stop",topList:"topList",setTop:"topSet",topCancel:"topCancel",applyList:"applyList",applyPool:"applyPool",applyCalc:"applyCalc",applyPut:"applyPut",fixPut:"fixPut",fixList:"fixList",setGoodsTop:"topSet",draftGet:"draftGet",draftSet:"draftSet",profitList:"profitList",imgGet:"imgsGet",setImgs:"imgsSet",serveGet:"serviceGet",setServe:"serviceSet",getAttrs:"attrs",getSkuShops:"skuShops",checkGoods:"check"};function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].post(o.checkGoods,t,"api/goods")}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].post(o.getSkuShops,t,"api/goods")}function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].post(o.getAttrs,t,"api/goods")}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].post(o.setServe,t,"api/goods")}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].post(o.serveGet,t,"api/goods")}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].post(o.setImgs,t,"api/goods")}function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].post(o.imgGet,t,"api/goods")}function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].post(o.goodsList,t,"api/goods")}function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].post(o.goodsGroupList,t,"api/goods")}function v(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].post(o.goodsGroupAdd,t,"api/goods")}function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].post(o.goodsGroupMod,t,"api/goods")}function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].post(o.goodsGroupDel,t,"api/goods")}function g(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].post(o.goodsAdd,t,"api/goods")}function _(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].post(o.goodsGroupTree,t,"api/goods")}function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].post(o.goodsMod,t,"api/goods")}function S(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].post(o.goodsDel,t,"api/goods")}function y(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].post(o.goodsAttrSet,t,"api/goods")}function w(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].post(o.goodsSkuSet,t,"api/goods")}function k(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].post(o.goodsSkuGet,t,"api/goods")}function x(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].post(o.goodsRun,t,"api/goods")}function $(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].post(o.goodsStop,t,"api/goods")}function C(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].get(o.topList,t,"api/goods")}function L(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].get(o.setTop,t,"api/goods")}function O(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].get(o.topCancel,t,"api/goods")}function A(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].post(o.applyList,t,"api/goods")}function D(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].post(o.applyPool,t,"api/goods")}function G(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].post(o.applyCalc,t,"api/goods")}function V(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].post(o.applyPut,t,"api/goods")}function j(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].post(o.fixPut,t,"api/goods")}function N(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].post(o.fixList,t,"api/goods")}function I(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].post(o.setGoodsTop,t,"api/goods")}function R(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].post(o.draftGet,t,"api/goods")}function T(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].post(o.draftSet,t,"api/goods")}function F(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].post(o.profitList,t,"api/goods")}function q(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].post(o.groupList,t,"api/goods")}function B(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].post(o.groupAdd,t,"api/goods")}function E(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].post(o.groupMod,t,"api/goods")}function M(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].post(o.groupDel,t,"api/goods")}},c68a:function(t,e,a){},c933:function(t,e,a){"use strict";var i=a("c68a"),o=a.n(i);o.a},ca8e:function(t,e,a){"use strict";var i=a("9a15"),o=a.n(i);o.a},cb77:function(t,e,a){"use strict";a.r(e);var i=a("ae1a");e["default"]=i["default"]},d15f:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"setImg"},[a("el-dialog",{attrs:{title:"图片设置",visible:t.dialog,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialog=e},closed:t.closedDialog}},[a("el-form",{ref:"form",attrs:{"label-width":"110px",model:t.form,rules:t.rules}},[a("el-form-item",{attrs:{label:"商品视频",prop:"video"}},[a("el-upload",{ref:"videoUpload",staticClass:"auditingImage-uploader",attrs:{action:"","http-request":t.beforeUploadVideo,"on-remove":t.handleRemoveVideo,accept:"video/mp4","show-file-list":!1}},[a("el-link",{attrs:{type:"primary"}},[t._v(t._s(t.form.video?t.form.video:"上传视频"))])],1)],1),a("el-form-item",{attrs:{label:"商品图片",prop:"imgs"}},[a("formCovers",{attrs:{imgs:t.form.imgs},on:{"update:imgs":function(e){return t.$set(t.form,"imgs",e)},finishChoose:t.finishCoversChoose}})],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialog=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1)],1)],1)},o=[],s=a("cebc"),r=a("8726"),n=a("c40e"),l=a("d1eb"),c=a("2f62"),d={data:function(){return{type:"",dialog:!1,form:{imgs:[],video:""},data:{},rules:{imgs:[{required:!0,message:"请选择封面",trigger:["blur"]}],video:[{required:!0,message:"请选择视频",trigger:["blur"]}]}}},components:{formCovers:r["default"]},activated:function(){},watch:{},created:function(){},mounted:function(){},computed:Object(s["a"])({},Object(c["b"])(["base_img"])),methods:{uploadVideo:function(t){var e=this;console.log(t),this.$message({type:"warning",message:"视频上传中, 请稍后",duration:0,iconClass:"el-icon-loading"}),Object(l["x"])({file:t.file,type:2}).then(function(t){e.$message.close(),0==t.code?e.form.video=t.data.url:e.$message({type:"error",message:"上传失败"})})},handleRemoveVideo:function(){},beforeUploadVideo:function(t){console.log(t),this.uploadVideo(t)},imgGet:function(){var t=this;Object(n["F"])({goods_id:this.data.goods_id}).then(function(e){console.log(e),t.form.imgs=e.data.imgs?e.data.imgs:[],t.form.video=e.data.video})},finishCoversChoose:function(t){console.log(t),0!==this.form.imgs.length&&this.$refs.form.validateField("imgs"),this.form.imgs=t},open:function(t){this.data=t,this.imgGet(),this.dialog=!0},closedDialog:function(){this.$refs["form"].clearValidate(),this.form={imgs:"",video:""},this.data={}},submit:function(){var t=this;this.$refs["form"].validate(function(e){if(e){console.log("验证通过");var a={};a.video=t.form.video,a.imgs=JSON.stringify(t.form.imgs),a.goods_id=t.data.goods_id,t.setImgs(a)}else console.log("验证失败")})},setImgs:function(t){var e=this;Object(n["I"])(t).then(function(t){0==t.code&&(e.$message({message:"设置成功",type:"success"}),e.$emit("refreshList")),e.dialog=!1})}}},u=d,f=(a("7ea7"),a("2877")),p=Object(f["a"])(u,i,o,!1,null,"5fdf7aaf",null);e["default"]=p.exports},d1a2:function(t,e,a){"use strict";a.r(e);var i=a("ba29");e["default"]=i["default"]},d2b4:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"编辑",visible:t.show,width:"70%","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(e){t.show=e},closed:t.closed}},[a("el-form",{ref:"form",attrs:{model:t.data,"label-width":"auto",rules:t.rules}},[a("el-form-item",{attrs:{label:"库存数量",prop:"stock_num"}},[a("el-input",{attrs:{type:"number"},model:{value:t.data.stock_num,callback:function(e){t.$set(t.data,"stock_num",e)},expression:"data.stock_num"}})],1),a("el-form-item",{attrs:{label:"苗木报价",prop:"green_price"}},[a("el-input",{attrs:{type:"number"},model:{value:t.data.green_price,callback:function(e){t.$set(t.data,"green_price",e)},expression:"data.green_price"}})],1),a("el-form-item",{attrs:{label:"花盆报价",prop:"pot_price"}},[a("el-input",{attrs:{type:"number"},model:{value:t.data.pot_price,callback:function(e){t.$set(t.data,"pot_price",e)},expression:"data.pot_price"}})],1),a("el-form-item",{attrs:{label:"配送报价",prop:"deliver_price"}},[a("el-input",{attrs:{type:"number"},model:{value:t.data.deliver_price,callback:function(e){t.$set(t.data,"deliver_price",e)},expression:"data.deliver_price"}})],1),a("el-form-item",{attrs:{label:"其他费用",prop:"care_price"}},[a("el-input",{attrs:{type:"number"},model:{value:t.data.care_price,callback:function(e){t.$set(t.data,"care_price",e)},expression:"data.care_price"}})],1),a("el-form-item",{attrs:{label:"总售价"}},[a("div",[t._v(t._s(Number(t.data.green_price)+Number(t.data.pot_price)+Number(t.data.deliver_price)+Number(t.data.care_price)))])])],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.show=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1)],1)},o=[],s=(a("c5f6"),a("901e")),r=a.n(s),n=a("c40e"),l={data:function(){return{show:!1,data:{sku_id:"",stock_num:"",green_price:"",pot_price:"",deliver_price:"",care_price:""},rules:{}}},methods:{open:function(t){this.data.stock_num=t.stock_num,this.data.green_price=t.green_price?Number(t.green_price):0,this.data.pot_price=t.pot_price?Number(t.pot_price):0,this.data.deliver_price=t.deliver_price?Number(t.deliver_price):0,this.data.care_price=t.care_price?Number(t.care_price):0,this.data.sku_id=t.sku_id,this.show=!0},closed:function(){this.data={sku_id:"",stock_num:"",green_price:"",pot_price:"",deliver_price:"",care_price:""}},submit:function(){var t=this,e=!1;if(this.$refs["form"].validate(function(t){e=t}),e){var a=this.data,i=a.sku_id,o=a.stock_num,s=a.green_price,r=a.pot_price,l=a.deliver_price,c=a.care_price;Object(n["A"])({sku_id:i,stock_num:o,green_price:s,pot_price:r,deliver_price:l,care_price:c}).then(function(e){0==e.code&&(t.$message({message:"编辑成功",type:"success"}),t.show=!1,t.$emit("refresh"))})}},formatPirce:function(t){return t?new r.a(t).multipliedBy(new r.a(100)).toNumber():0}}},c=l,d=a("2877"),u=Object(d["a"])(c,i,o,!1,null,null,null);e["default"]=u.exports},d553:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"规格设置",visible:t.show,width:"70%"},on:{"update:visible":function(e){t.show=e}}},[a("div",[a("formAttr",{attrs:{attr:t.data.attrs,group_id:t.data.group_id},on:{"update:attr":function(e){return t.$set(t.data,"attrs",e)}}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.show=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1)])},o=[],s=(a("ac6a"),a("a3ab")),r=a("c40e"),n={components:{formAttr:s["default"]},data:function(){return{data:{},show:!1}},methods:{open:function(t){this.data=t,this.show=!0},submit:function(){var t=this,e=this.data,a=e.attrs,i=e.goods_id;a.forEach(function(e){if(!e||0==e.values.length)throw t.$message({message:"规格名称 ".concat(e.attr_name," ，缺少规格值"),type:"warning"}),"规格名称 ".concat(e.attr_name," ，缺少规格值");delete e.attr_id,delete e.create_time,delete e.goods_id,e.values.forEach(function(t){delete t.attr_id,delete t.attr_value_id,delete t.create_time})}),a=JSON.stringify(a),Object(r["p"])({attrs:a,goods_id:i}).then(function(e){0==e.code&&(t.$message({message:"重置成功",type:"success"}),t.show=!1,t.$parent.refresh())})}}},l=n,c=a("2877"),d=Object(c["a"])(l,i,o,!1,null,"5de83fa3",null);e["default"]=d.exports},d566:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("aio-vdo-file-livrary",{ref:"aiovio",attrs:{appendToBody:!0,type:"视频"},on:{getData:t.getData}}),a("el-link",{attrs:{type:"primary",underline:!1},on:{click:function(e){return t.$refs.aiovio.open("video")}}},[t.video?a("span",[t._v(t._s(t.video))]):a("span",[t._v("选择视频")])])],1)},o=[],s=(a("c5f6"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"aiovio"},[a("el-dialog",{attrs:{title:t.type,visible:t.dialogVisible,width:"80vw","append-to-body":t.appendToBody,"before-close":t.handleClose,top:"20px"},on:{"update:visible":function(e){t.dialogVisible=e}}},["视频"==t.type?a("div",{staticClass:"pageContent"},t._l(t.pageData.list,function(e,i){return a("div",{key:i,staticClass:"box-card"},[a("div",{staticClass:"pic",on:{click:function(a){return t.toPre(e.file)}}},[a("el-image",{staticStyle:{width:"100%",height:"160px"},attrs:{src:t.base_img+e.cover,fit:"cover"}}),a("div",{staticClass:"name"},[t._v("\n            "+t._s(e.file_name)+"\n          ")])],1),a("div",{staticClass:"controlBtn iconStyel",on:{click:function(a){return t.select(e)}}},[a("i",{staticClass:"el-icon-check"}),t._v("选择\n        ")])])}),0):t._e(),""==t.type?a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.pageData.list}},[a("el-table-column",{attrs:{prop:"title",label:"标题",width:"150"}}),a("el-table-column",{attrs:{prop:"file_name",label:"文件名称"}}),a("el-table-column",{attrs:{prop:"file_size",label:"文件大小",width:"80"}}),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间",width:"150"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.select(e.row)}}},[t._v("选择")])]}}],null,!1,767485717)})],1):t._e(),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next",total:t.pageData.total_count,"page-count":t.pageData.page_count,"page-size":t.pageData.page_size},on:{"current-change":t.getPageData}})],1)],1)],1)}),r=[],n=a("cebc"),l=a("d1eb"),c=a("2f62"),d={getAudioList:l["l"],getVideoList:l["r"],getFileList:l["m"]},u={props:{type:{type:String,required:!0},appendToBody:{type:Boolean,default:function(){return!1}}},data:function(){return{dialogVisible:!1,pageData:{}}},computed:Object(n["a"])({},Object(c["b"])(["base_img"]),{mtd:function(){switch(this.type){case"音频":return"getAudioList";case"视频":return"getVideoList";default:return"getFileList"}}}),methods:{toPre:function(t){window.open(this.base_img+t,"_blank")},select:function(t){this.$emit("getData",t),this.dialogVisible=!1},open:function(){var t=this;this.dialogVisible=!0,this.$nextTick(function(){t.getPageData(1)})},handleClose:function(){this.dialogVisible=!1,this.pageData={}},getPageData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;d[this.mtd]({group_id:0,page:e}).then(function(e){0==e.code&&(t.pageData=e.data)},function(t){})}}},f=u,p=(a("ca8e"),a("2877")),v=Object(p["a"])(f,s,r,!1,null,"57c985d2",null),m=v.exports,h={components:{AioVdoFileLivrary:m},props:{video:{type:[String,Number]}},data:function(){return{}},methods:{getData:function(t){console.log(t),this.$emit("update:video",t.file)}}},g=h,_=Object(p["a"])(g,i,o,!1,null,null,null);e["default"]=_.exports},e1e4:function(t,e,a){"use strict";var i=a("9833"),o=a.n(i);o.a},e436:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("picture-library",{ref:"pic",attrs:{appendToBody:!0},on:{getData:t.getData}}),a("div",{staticClass:"img-wrap"},[t._l(t.imgs,function(e,i){return a("div",{key:i,staticClass:"img-item"},[a("i",{staticClass:"el-icon-close img-close",on:{click:function(e){return t.del_imgs(i)}}}),a("BaseElImage",{attrs:{custom_src:e,previewList:t.imgs,fit:"cover"}})],1)}),a("div",{staticClass:"img-add",on:{click:function(e){return t.$refs.pic.open(!1)}}},[a("i",{staticClass:"el-icon-plus img-add-icon"})])],2)],1)},o=[],s=a("0bba"),r={components:{PictureLibrary:s["a"]},props:{imgs:{type:Array,default:function(){return[]}}},data:function(){return{}},methods:{getData:function(t){this.imgs.push(t.src_file),this.$emit("update:imgs",this.imgs)},del_imgs:function(t){this.imgs.splice(t,1),console.log(this.imgs,t),this.$emit("update:imgs",this.imgs)}}},n=r,l=(a("ffc8"),a("2877")),c=Object(l["a"])(n,i,o,!1,null,"dfc7a16a",null);e["default"]=c.exports},ea90:function(t,e,a){"use strict";var i=a("6ade"),o=a.n(i);o.a},ed85:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.hasAttrs,expression:"hasAttrs"}],attrs:{icon:"el-icon-plus",type:"primary",size:"mini"},on:{click:t.showAddStandardAttr}},[t._v('"参数选择"定义属性')]),a("el-popover",{attrs:{placement:"right",width:"400",trigger:"click"},model:{value:t.ShowAdd,callback:function(e){t.ShowAdd=e},expression:"ShowAdd"}},[a("div",{staticClass:"addAttrWrap"},[a("el-input",{attrs:{size:"mini",width:"100px",placeholder:"请输入规格名称"},model:{value:t.attr_item.attr_name,callback:function(e){t.$set(t.attr_item,"attr_name",e)},expression:"attr_item.attr_name"}}),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",size:"mini"},on:{click:t.addAttrItem}},[t._v("添加")])],1),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{slot:"reference",icon:"el-icon-plus",type:"primary",size:"mini"},slot:"reference"},[t._v('"文字描述"定义属性')])],1),a("el-table",{staticStyle:{"margin-top":"10px"},attrs:{data:t.attr,border:""}},[a("el-table-column",{attrs:{prop:"attr_name",label:"规格名称",width:"200"}}),a("el-table-column",{attrs:{prop:"attr_value",label:"规格值"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._l(e.row.values,function(i,o){return a("el-tag",{key:i.attr_value,staticClass:"tag",attrs:{name:i.attr_value,type:"info","disable-transitions":!0,closable:""},on:{click:function(a){return t.editAttrValue(i,e.$index,o)},close:function(a){return t.delAttrValue(e.$index,o)}}},[t._v("\n          "+t._s(i.attr_value)+"\n        ")])}),t.haveStandardValue(e.row.attr_name)?a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini",plain:""},on:{click:function(a){return t.addStandardValueDialog(e.$index,e.row.attr_name)}}},[t._v('"参数选择"定义属性值')]):t._e(),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini",plain:""},on:{click:function(a){return t.addAttrDialog(e.$index)}}},[t._v('"文字描述"定义属性值')])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-link",{staticClass:"attr_link",attrs:{underline:!1},on:{click:function(a){return t.delAttr(e.$index)}}},[t._v("删除")])]}}])})],1),a("el-dialog",{attrs:{"append-to-body":"",title:"属性值",visible:t.addAttrValueShow,width:"30%"},on:{"update:visible":function(e){t.addAttrValueShow=e},closed:t.closed}},[a("el-form",{ref:"addAttrValueData",attrs:{"label-width":"auto",model:t.attr_value,rules:t.rules}},[a("el-form-item",{attrs:{label:"规格值",prop:"attr_value"}},[a("el-input",{model:{value:t.attr_value.attr_value,callback:function(e){t.$set(t.attr_value,"attr_value",e)},expression:"attr_value.attr_value"}})],1)],1),a("picture-library",{ref:"pic",attrs:{appendToBody:!0},on:{getData:t.getPic}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.addAttrValueShow=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.setAttrValue}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{"append-to-body":"",top:"20px",title:"标准属性值",visible:t.addStandardAttrShow},on:{"update:visible":function(e){t.addStandardAttrShow=e},closed:t.closed}},[a("div",{staticStyle:{"margin-bottom":"20px"}},[a("el-radio-group",{model:{value:t.group_id,callback:function(e){t.group_id=e},expression:"group_id"}},[a("el-radio-button",{attrs:{label:"1"}},[t._v("绿植类")]),a("el-radio-button",{attrs:{label:"2"}},[t._v("非绿植类")])],1)],1),a("el-row",[a("el-col",{staticStyle:{"border-right":"1px solid #ddd"},attrs:{span:6}},[a("div",{staticClass:"scrollBox"},[a("el-radio-group",{model:{value:t.standarAttr,callback:function(e){t.standarAttr=e},expression:"standarAttr"}},t._l(t.attrsNames,function(e,i){return a("el-radio",{key:i,attrs:{label:e},on:{change:t.attrsNameChange}},[t._v(t._s(e))])}),1)],1)]),a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:18}},[a("el-checkbox-group",{model:{value:t.standardValueList,callback:function(e){t.standardValueList=e},expression:"standardValueList"}},t._l(t.valueData,function(t,e){return a("el-checkbox",{key:e,staticStyle:{"margin-bottom":"10px"},attrs:{label:t}})}),1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.standarAttr="",t.standardValueList=[],t.valueData=[],t.addStandardAttrShow=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.addStandardAttrAndValue}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{"append-to-body":"",title:'"参数选择"定义属性值',visible:t.addStandardValueShow},on:{"update:visible":function(e){t.addStandardValueShow=e},closed:t.closed}},[a("el-checkbox-group",{model:{value:t.standardValueList,callback:function(e){t.standardValueList=e},expression:"standardValueList"}},t._l(t.valueData,function(t,e){return a("el-checkbox",{key:e,staticStyle:{"margin-bottom":"10px"},attrs:{label:t}})}),1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.standardValueList=[],t.addStandardValueShow=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.addStandardValue}},[t._v("确 定")])],1)],1)],1)},o=[],s=a("cebc"),r=(a("ac6a"),a("7f7f"),a("7514"),a("0bba")),n=a("c40e"),l={components:{PictureLibrary:r["a"]},watch:{group_id:{handler:function(t){t&&this.getAttrs()},immediate:!0}},props:{attr:{type:[Array,String],required:!0,default:function(){return[]}}},data:function(){return{group_id:"1",ShowAdd:!1,addAttrValueShow:!1,data:[],rowIndex:"",rowIdx:"",attr_item:{attr_name:"",values:[]},attr_value:{attr_value:"",attr_img:"",min_img:""},rules:{attr_value:[{required:!0,message:"请输入规格值",trigger:"blur"}]},addStandardAttrShow:!1,standardAttrList:[],standardRadio:{},attrsData:[],hasAttrs:!1,addStandardValueShow:!1,standardRowName:"",standardValueList:[],valueData:[],attrsNames:[],standarAttr:""}},methods:{addStandardAttrAndValue:function(){if(""!=this.standarAttr)if(0!=this.standardValueList.length){var t=[];this.standardValueList.map(function(e,a){t.push({attr_value:e})}),this.attr.push({attr_name:this.standarAttr,values:t}),this.standarAttr="",this.standardValueList=[],this.valueData=[],this.addStandardAttrShow=!1}else this.$message({message:"请选择属性值",type:"warning"});else this.$message({message:"请选择属性",type:"warning"})},attrsNameChange:function(){var t=this;this.standardValueList=[];var e=this.attrsData.find(function(e){return Array.isArray(e.name)?e.name.some(function(e){return e==t.standarAttr})?e:void 0:e.name==t.standarAttr});this.valueData=e.value},getAttrs:function(){var t=this;Object(n["i"])({group_id:this.group_id}).then(function(e){e.data?(t.hasAttrs=!0,t.attrsData=e.data,t.attrsNames=t.attrsData.flatMap(function(t){return t.name})):t.hasAttrs=!1,t.$emit("changeRim",e.msg)})},handleCheckChange:function(t,e){if(console.log(this.standardRadio[e],!this.standardRadio[e]),1!=e.length)if(t){if(!this.standardRadio[e]){var a=this.standardAttrList.indexOf(e);console.log(a,"下标"),this.standardAttrList.splice(a,1)}}else this.standardRadio[e]=null},handleRadioChange:function(t,e){this.standardAttrList.some(function(t){return t==e})||this.standardAttrList.push(e)},addStandardValue:function(){var t=this;this.standardValueList.map(function(e,a){t.attr[t.rowIndex].values.push({attr_value:e})}),this.standardValueList=[],this.addStandardValueShow=!1},haveStandardValue:function(t){var e=this.attrsData.some(function(e){return Array.isArray(e.name)?e.name.some(function(e){return e==t})?e:void 0:e.name==t});return e},addStandardValueDialog:function(t,e){var a=this;this.standardRowName=e,this.rowIndex=t;var i=this.attrsData.find(function(t){return Array.isArray(t.name)?t.name.some(function(t){return t==a.standardRowName})?t:void 0:t.name==a.standardRowName});console.log(i),i?(this.valueData=i.value,this.addStandardValueShow=!0):this.$message({message:'此规格无"参数选择"定义属性值',type:"warning"})},addStandardAttr:function(){var t=this;this.standardAttrList.map(function(e,a){1!=e.length?t.standardRadio[e]&&t.attr.push({attr_name:t.standardRadio[e],values:[]}):t.attr.push({attr_name:e[0],values:[]})}),this.standardAttrList=[],this.standardRadio={},this.addStandardAttrShow=!1},showAddStandardAttr:function(){this.addStandardAttrShow=!0,this.ShowAdd=!1,console.log(this.group_id)},closed:function(){this.rowIndex="",this.rowIdx="",this.attr_value.min_img="",this.attr_value.attr_img="",this.attr_value.attr_value=""},addAttrItem:function(){this.attr_item.attr_name&&(this.attr.push(Object(s["a"])({},this.attr_item)),this.attr_item={attr_name:"",values:[]},this.ShowAdd=!1,this.updateAttr())},addAttrDialog:function(t){this.rowIndex=t,this.addAttrValueShow=!0},editAttrValue:function(t,e,a){this.attr_value=Object(s["a"])({},t),this.rowIndex=e,this.rowIdx=a,this.addAttrValueShow=!0},selectPic:function(){this.$refs.pic.open()},getPic:function(t){this.attr_value.attr_img=t.src_file,this.attr_value.min_img=t.min_file},setAttrValue:function(){var t=!1;if(this.$refs["addAttrValueData"].validate(function(e){t=e}),t){var e=this.attr_value,a=e.attr_value,i=e.attr_img;"string"==typeof this.rowIdx?this.attr[this.rowIndex].values.push({attr_value:a,attr_img:i}):this.$set(this.attr[this.rowIndex].values,this.rowIdx,{attr_value:a,attr_img:i}),this.updateAttr(),this.addAttrValueShow=!1}},delAttr:function(t){this.attr.splice(t,1),this.updateAttr()},delAttrValue:function(t,e){this.attr[t].values.splice(e,1),this.updateAttr()},updateAttr:function(){this.$emit("update:attr",this.attr)}}},c=l,d=(a("c933"),a("2877")),u=Object(d["a"])(c,i,o,!1,null,"848b9326",null);e["default"]=u.exports},f032:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"setImg"},[a("el-dialog",{attrs:{title:"商品上架",top:"20px",width:"70%",visible:t.dialog,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialog=e},closed:t.closedDialog}},[a("el-steps",{staticStyle:{"margin-bottom":"20px"},attrs:{active:t.activeRunStep,"finish-status":"success","align-center":""}},[a("el-step",{attrs:{title:"产品图片"}}),a("el-step",{attrs:{title:"商品属性"}}),a("el-step",{attrs:{title:"服务设置"}}),a("el-step",{attrs:{title:"价格库存"}})],1),a("div",{staticClass:"Box"},[a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.activeRunStep,expression:"activeRunStep == 0"}]},[a("el-form",{ref:"imgForm",attrs:{"label-width":"110px",model:t.imgForm,rules:t.imgRules}},[a("el-form-item",{attrs:{label:"商品图片",prop:"imgs"}},[a("formCovers",{attrs:{imgs:t.imgForm.imgs},on:{"update:imgs":function(e){return t.$set(t.imgForm,"imgs",e)},finishChoose:t.finishCoversChoose}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialog=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.imgNextSetp}},[t._v("下一步")])],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:1==t.activeRunStep,expression:"activeRunStep == 1"}]},[a("div",{staticClass:"scrollBox"},[a("formAttr",{attrs:{attr:t.data.attrs},on:{"update:attr":function(e){return t.$set(t.data,"attrs",e)}}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.activeRunStep-=1}}},[t._v("上一步")]),a("el-button",{attrs:{type:"primary"},on:{click:t.attrNextSetp}},[t._v("下一步")])],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:2==t.activeRunStep,expression:"activeRunStep == 2"}]},[a("el-form",{ref:"serveForm",attrs:{"label-width":"110px",model:t.serveForm,rules:t.serveRules}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"到货方式",prop:"deliver_method"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.serveForm.deliver_method,callback:function(e){t.$set(t.serveForm,"deliver_method",e)},expression:"serveForm.deliver_method"}},t._l(t.deliveryMethodList,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"服务保障",prop:"service"}},[t._l(t.serveForm.service,function(e,i){return a("el-tag",{key:e,staticClass:"tag",attrs:{name:e,type:"info","disable-transitions":!0,closable:""},on:{click:function(a){return t.editServe(e,i)},close:function(e){return t.delServe(i)}}},[t._v("\n                "+t._s(e)+"\n              ")])}),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini",plain:""},on:{click:function(e){t.addStandardServeShow=!0}}},[t._v("标准服务保障")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini",plain:""},on:{click:function(e){t.addServeValueShow=!0}}},[t._v("定制服务保障")])],2)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.activeRunStep-=1}}},[t._v("上一步")]),a("el-button",{attrs:{type:"primary"},on:{click:t.serveSubmit}},[t._v("下一步")])],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:3==t.activeRunStep,expression:"activeRunStep == 3"}]},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:3}},[a("el-menu",{attrs:{"default-active":t.activeShopId},on:{select:t.selectShop}},t._l(t.shopList,function(e,i){return a("el-menu-item",{key:i,attrs:{index:e.shop_id.toString()}},[t._v(t._s(e.shop_name))])}),1)],1),a("el-col",{attrs:{span:21}},[a("div",{staticClass:"scrollBox"},[a("el-table",{staticStyle:{"margin-top":"10px"},attrs:{data:t.skuData,border:""}},[a("el-table-column",{attrs:{prop:"attr_value_format",label:"商品属性"}}),a("el-table-column",{attrs:{prop:"green_price",label:"苗木报价"}}),a("el-table-column",{attrs:{prop:"pot_price",label:"花盆报价"}}),a("el-table-column",{attrs:{prop:"deliver_price",label:"配送报价"}}),a("el-table-column",{attrs:{prop:"care_price",label:"其他费用"}}),a("el-table-column",{attrs:{label:"总售价"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(Number(e.row.green_price)+Number(e.row.pot_price)+Number(e.row.deliver_price)+Number(e.row.care_price))+"\n                  ")]}}])}),a("el-table-column",{attrs:{prop:"stock_num",label:"库存"}}),a("el-table-column",{attrs:{prop:"create_time",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-link",{attrs:{type:"primary"},on:{click:function(a){return t.edit(e.row)}}},[t._v("\n                      编辑\n                    ")])]}}])})],1)],1)])],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.activeRunStep-=1}}},[t._v("上一步")]),a("el-button",{attrs:{type:"primary"},on:{click:t.skuNextStep}},[t._v("确 认")])],1),a("formSku",{ref:"sku",on:{refresh:t.goodsSkuGet}})],1)]),a("el-dialog",{attrs:{"append-to-body":"",title:"设置服务保障",visible:t.addServeValueShow,width:"30%"},on:{"update:visible":function(e){t.addServeValueShow=e}}},[a("el-form",{ref:"addServeValueData",attrs:{"label-width":"auto",model:t.serve_value,rules:t.serveRules}},[a("el-form-item",{attrs:{label:"服务保障",prop:"serve_value"}},[a("el-input",{model:{value:t.serve_value.serve_value,callback:function(e){t.$set(t.serve_value,"serve_value",e)},expression:"serve_value.serve_value"}})],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.serve_value.serve_value="",t.addServeValueShow=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.setServeValue}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{"append-to-body":"",title:"标准服务保障",visible:t.addStandardServeShow},on:{"update:visible":function(e){t.addStandardServeShow=e}}},[a("el-checkbox-group",{model:{value:t.standardServeList,callback:function(e){t.standardServeList=e},expression:"standardServeList"}},t._l(t.standardServeData,function(t,e){return a("el-checkbox",{key:e,staticStyle:{"margin-bottom":"10px"},attrs:{label:t}})}),1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.standardServeList=[],t.addStandardServeShow=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.addStandardServe}},[t._v("确 定")])],1)],1)],1)],1)},o=[],s=(a("ac6a"),a("cebc")),r=a("bd86"),n=a("9ca1"),l=a("c40e"),c=a("d1eb"),d=a("a3ab"),u=a("901e"),f=a.n(u),p=a("086c"),v=a("2f62"),m={data:function(){var t;return t={activeRunStep:0,dialog:!1,imgForm:{imgs:[]},data:{},imgRules:{imgs:[{required:!0,message:"请选择封面",trigger:["blur"]}]},formData:{},skuData:[],goods_id:"",shopList:[],activeShopId:"",serveForm:{deliver_method:"",service:[]}},Object(r["a"])(t,"goods_id",""),Object(r["a"])(t,"serveRules",{deliver_method:[{required:!0,message:"请选择到货方式",trigger:["blur"]}]}),Object(r["a"])(t,"deliveryMethodList",["免费包邮","付费包邮","门店自提","站点自提","付费配送"]),Object(r["a"])(t,"serve_value",{serve_value:""}),Object(r["a"])(t,"serveRules",{serve_value:[{required:!0,message:"请输入服务保障",trigger:"blur"}]}),Object(r["a"])(t,"activeServe",""),Object(r["a"])(t,"addServeValueShow",!1),Object(r["a"])(t,"addStandardServeShow",!1),Object(r["a"])(t,"standardServeList",[]),Object(r["a"])(t,"standardServeData",["7天无理由退货","退货运费险","极速退款","不活包赔（15天）","破损包补","免费养护指导","特价处理不退换"]),t},components:{formCovers:n["default"],formAttr:d["default"],formSku:p["default"]},activated:function(){},watch:{},created:function(){},mounted:function(){},computed:Object(s["a"])({},Object(v["b"])(["base_img"])),methods:{editServe:function(t,e){this.serve_value.serve_value=t,this.activeServe=e,this.addServeValueShow=!0},delServe:function(t){this.serveForm.service.splice(t,1)},addStandardServe:function(){var t=this;console.log(this.standardServeList),this.standardServeList.map(function(e,a){t.serveForm.service.push(e)}),this.standardServeList=[],this.addStandardServeShow=!1},setServeValue:function(){var t=this;this.$refs["addServeValueData"].validate(function(e){e&&("string"==typeof t.activeServe?t.serveForm.service.push(t.serve_value.serve_value):(t.$set(t.serveForm.service,t.activeServe,t.serve_value.serve_value),t.activeServe=""),t.serve_value={serve_value:""},t.addServeValueShow=!1)})},serveGet:function(){var t=this;Object(l["G"])({goods_id:this.data.goods_id}).then(function(e){t.serveForm.deliver_method=e.data.deliver_method,t.serveForm.service=e.data.service?JSON.parse(e.data.service):[]})},serveSubmit:function(){var t=this;this.$refs["serveForm"].validate(function(e){if(e){console.log("验证通过");var a={};a.deliver_method=t.serveForm.deliver_method,a.service=JSON.stringify(t.serveForm.service),a.goods_id=t.data.goods_id,t.setServe(a)}else console.log("验证失败")})},setServe:function(t){var e=this;Object(l["J"])(t).then(function(t){0==t.code&&e.$message({message:"设置成功",type:"success"}),e.getSkuShops(),e.activeRunStep+=1})},skuNextStep:function(){this.activeRunStep=0,this.dialog=!1},selectShop:function(t){this.activeShopId=t+"",this.goodsSkuGet()},getSkuShops:function(){var t=this;Object(l["m"])({goods_id:this.data.goods_id}).then(function(e){t.shopList=e.data,t.activeShopId=t.shopList[0].shop_id+"",t.goodsSkuGet()})},formatPirce:function(t){return t?new f.a(t).dividedBy(new f.a(100)).toNumber():0},edit:function(t){this.formData=JSON.parse(JSON.stringify(t)),this.$refs.sku.open(this.formData)},goodsSkuGet:function(){var t=this;Object(l["z"])({shop_id:this.activeShopId,goods_id:this.data.goods_id}).then(function(e){0==e.code&&(e.data.forEach(function(t){}),t.skuData=e.data)})},attrNextSetp:function(){var t=this,e=this.data,a=e.attrs,i=e.goods_id;a.forEach(function(e){if(!e||0==e.values.length)throw t.$message({message:"规格名称 ".concat(e.attr_name," ，缺少规格值"),type:"warning"}),"规格名称 ".concat(e.attr_name," ，缺少规格值");delete e.attr_id,delete e.create_time,delete e.goods_id,e.values.forEach(function(t){delete t.attr_id,delete t.attr_value_id,delete t.create_time})}),a=JSON.stringify(a),Object(l["p"])({attrs:a,goods_id:i}).then(function(e){0==e.code&&(t.$message({message:"重置成功",type:"success"}),t.$parent.refresh(),t.activeRunStep+=1)})},uploadVideo:function(t){var e=this;console.log(t),this.$message({type:"warning",message:"视频上传中, 请稍后",duration:0,iconClass:"el-icon-loading"}),Object(c["x"])({file:t.file,type:2}).then(function(t){e.$message.close(),0==t.code?e.imgForm.video=t.data.url:e.$message({type:"error",message:"上传失败"})})},handleRemoveVideo:function(){},beforeUploadVideo:function(t){console.log(t),this.uploadVideo(t)},imgGet:function(){var t=this;Object(l["F"])({goods_id:this.data.goods_id}).then(function(e){console.log(e),t.imgForm.imgs=e.data.imgs?e.data.imgs:[]})},finishCoversChoose:function(t){console.log(t),0!==this.imgForm.imgs.length&&this.$refs.imgForm.validateField("imgs"),this.imgForm.imgs=t},open:function(t){this.data=t,this.imgGet(),this.serveGet(),this.dialog=!0},closedDialog:function(){this.$refs["imgForm"].clearValidate(),this.imgForm={imgs:""},this.$refs["serveForm"].clearValidate(),this.serveForm={deliver_method:"",gift:[]},this.data={},this.activeRunStep=0},imgNextSetp:function(){var t=this;this.$refs["imgForm"].validate(function(e){if(e){console.log("验证通过");var a={};a.imgs=JSON.stringify(t.imgForm.imgs),a.goods_id=t.data.goods_id,t.setImgs(a)}else console.log("验证失败")})},setImgs:function(t){var e=this;Object(l["I"])(t).then(function(t){0==t.code&&(e.$message({message:"设置成功",type:"success"}),e.$emit("refreshList")),e.activeRunStep+=1})}}},h=m,g=(a("ea90"),a("2877")),_=Object(g["a"])(h,i,o,!1,null,"206f09e0",null);e["default"]=_.exports},f925:function(t,e,a){"use strict";a.r(e);var i=a("d566");e["default"]=i["default"]},fe69:function(t,e,a){"use strict";a.r(e);var i=a("6d84");e["default"]=i["default"]},ffc8:function(t,e,a){"use strict";var i=a("91b8"),o=a.n(i);o.a}}]);