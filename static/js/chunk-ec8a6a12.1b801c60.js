(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ec8a6a12","chunk-6b74dd76","chunk-02f8c8d6","chunk-0930c5dc","chunk-ef1b3e08"],{"356c":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("media-library",{ref:"mediaLibrary",attrs:{active:"1",title:"图片库"}}),e.cover?s("div",{staticClass:"img-wrap"},[s("div",{staticClass:"img-item"},[s("i",{staticClass:"el-icon-close img-close",on:{click:e.del_cover}}),s("BaseElImage",{attrs:{custom_src:e.cover,previewList:[e.cover],fit:"cover"}})],1)]):s("div",{staticClass:"img-add",on:{click:function(t){return e.$refs.mediaLibrary.open()}}},[s("i",{staticClass:"el-icon-plus img-add-icon"})])],1)},o=[],r=s("daf4"),c={components:{mediaLibrary:r["a"]},props:{cover:{type:[Object,String],default:function(){return""}}},data:function(){return{}},mounted:function(){var e=this;this.$bus.$on("finishCoverSelectMed",function(t){e.getData(t)})},beforeDestroy:function(){this.$bus.$off("finishCoverSelectMed")},methods:{getData:function(e){console.log(e),this.$emit("update:cover",e.min_file),this.$emit("finishChoose",e.src_file),this.$refs.mediaLibrary.handleClose()},del_cover:function(){this.$emit("update:cover",""),this.$emit("finishChoose","")}}},a=c,n=(s("4936"),s("2877")),u=Object(n["a"])(a,i,o,!1,null,"0332639e",null);t["default"]=u.exports},"3a3e":function(e,t,s){},"45d3":function(e,t,s){"use strict";var i=s("fc6d"),o=s.n(i);o.a},4936:function(e,t,s){"use strict";var i=s("3a3e"),o=s.n(i);o.a},"54b5":function(e,t,s){"use strict";var i=s("fd9e"),o=s.n(i);o.a},"61f0":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},o=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"resetSeccess"},[s("i",{staticClass:"el-icon-circle-check",staticStyle:{"font-size":"100px",color:"#3b74ff"}}),s("div",{staticClass:"title"},[e._v("修改成功")])])}],r={data:function(){return{}},watch:{},created:function(){},methods:{}},c=r,a=(s("54b5"),s("2877")),n=Object(a["a"])(c,i,o,!1,null,"69925bad",null);t["default"]=n.exports},ac07:function(e,t,s){"use strict";s.r(t);var i=s("ff23");t["default"]=i["default"]},e90c:function(e,t,s){"use strict";s.r(t);var i=s("356c");t["default"]=i["default"]},fc6d:function(e,t,s){},fd9e:function(e,t,s){},ff23:function(e,t,s){"use strict";s.r(t);var i,o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"className"},[s("el-card",[s("div",{attrs:{slot:"header"},slot:"header"},[e._v("\n      填写以下信息修改个人信息\n    ")]),s("div",{staticClass:"box"},[e.modSuccess?e._e():s("div",{staticClass:"formClass"},[s("el-form",{ref:"form",staticClass:"demo-ruleForm",attrs:{model:e.form,"status-icon":"","label-width":"auto",rules:e.rules}},[s("el-form-item",{attrs:{label:"账号"}},[e._v("\n            "+e._s(e.$store.getters.phone)+"\n          ")]),s("el-form-item",{attrs:{label:"昵称",prop:"name"}},[s("el-input",{staticStyle:{width:"20vw"},attrs:{type:"text",autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),s("el-form-item",{attrs:{label:"头像",prop:"headimg"}},[s("formCover",{attrs:{cover:e.form.headimg},on:{"update:cover":function(t){return e.$set(e.form,"headimg",t)},finishChoose:e.finishPosterChoose}})],1)],1),s("div",{staticClass:"chitrolBtn"},[s("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确认修改")]),s("el-button",{on:{click:e.back}},[e._v("返回")])],1)],1),e.modSuccess?s("div",[s("reset-seccess",{ref:"resetSeccess"})],1):e._e()])])],1)},r=[],c=s("bd86"),a=s("e90c"),n=s("61f0"),u=s("bbbc"),f=(i={data:function(){return{form:{name:"",headimg:""},rules:{name:[{required:!0,message:"请输入昵称",trigger:"blur"}],headimg:[{required:!0,message:"请选择头像",trigger:"blur"}]},modSuccess:!1}},computed:{},components:{formCover:a["default"],resetSeccess:n["default"]},filters:{},created:function(){console.log(this.$store.getters.headimg),this.$set(this.form,"name",this.$store.getters.userName),this.$set(this.form,"headimg",this.$store.getters.headimg)},onLoad:function(e){},onShow:function(){},mounted:function(){}},Object(c["a"])(i,"computed",{}),Object(c["a"])(i,"methods",{finishPosterChoose:function(e){console.log(e),this.form.headimg=e},submit:function(){var e=this;console.log("点击了提交"),this.$refs["form"].validate(function(t){t&&(console.log(t),e.userMod())})},back:function(){this.$router.go(-1)},userMod:function(){var e=this;Object(u["g"])(this.form).then(function(t){0==t.code&&(e.$message({message:"修改成功",type:"success"}),e.modSuccess=!0,e.$store.dispatch("user/_setUserData"))})}}),i),l=f,d=(s("45d3"),s("2877")),m=Object(d["a"])(l,o,r,!1,null,"83ff6ff6",null);t["default"]=m.exports}}]);