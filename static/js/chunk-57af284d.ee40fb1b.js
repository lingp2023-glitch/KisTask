(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-57af284d"],{3459:function(e,t,i){},8347:function(e,t,i){"use strict";var o=i("3459"),s=i.n(o);s.a},"905a":function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"pageContent"},[e._l(e.pageData.list,function(t,o){return i("div",{key:o,staticClass:"box-card",class:{"border-gray":e.checkSelect(t.video_id)||e.checkASelect(t.audio_id)||e.checkFSelect(t.file_id)},on:{click:function(i){return e.select(t)}}},[i("div",{staticClass:"pic"},[3==e.group_type?i("el-image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.base_img+t.cover,fit:"cover"}}):2==e.group_type?i("div",{staticClass:"default",staticStyle:{width:"90%",height:"100%"}},[i("i",{staticClass:"el-icon-microphone"})]):4==e.group_type?i("div",{staticClass:"default",staticStyle:{width:"90%",height:"100%"}},[i("i",{staticClass:"el-icon-document"})]):e._e()],1),i("div",{staticClass:"name"},[4==e.group_type?i("i",{staticClass:"el-icon-download preview",on:{click:function(i){return i.stopPropagation(),e.toPre(t.file)}}}):e._e(),3==e.group_type?i("i",{staticClass:"el-icon-video-play preview",on:{click:function(i){return i.stopPropagation(),e.toPre(t.file)}}}):e._e(),2==e.group_type?i("i",{staticClass:"el-icon-headset preview",on:{click:function(i){return i.stopPropagation(),e.toPre(t.file)}}}):e._e(),i("div",{staticClass:"file_name"},[e._v(e._s(t.file_name))])]),i("div",{staticClass:"controlBtn"},[4==e.group_type?i("i",{staticClass:"el-icon-document-copy iconStyel",on:{click:function(i){return i.stopPropagation(),e.copy(t.file)}}}):e._e(),i("i",{staticClass:"el-icon-edit iconStyel",on:{click:function(i){return i.stopPropagation(),e.edit(t)}}}),i("el-popconfirm",{attrs:{title:"确定删除吗？"},on:{confirm:function(i){return e.del(t)}}},[i("i",{staticClass:"el-icon-delete iconStyel",attrs:{slot:"reference"},on:{click:function(e){e.stopPropagation()}},slot:"reference"})])],1),i("div",{staticClass:"checked",class:{"opacity-toggle":e.checkSelect(t.video_id)||e.checkASelect(t.audio_id)||e.checkFSelect(t.file_id)}},[i("i",{staticClass:"el-icon-check icon"})])])}),i("el-dialog",{attrs:{title:"编辑",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t},close:e.close}},[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"status-icon":"","label-width":"auto"}},[i("el-form-item",{attrs:{label:"分组",prop:"group_id"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择分组"},model:{value:e.ruleForm.group_id,callback:function(t){e.$set(e.ruleForm,"group_id",t)},expression:"ruleForm.group_id"}},[i("el-option",{attrs:{label:"未分组",value:"0"}}),e._l(e.groupList,function(e){return i("el-option",{key:e.group_id,attrs:{label:e.group_name,value:e.group_id}})})],2)],1),i("el-form-item",{attrs:{label:"名称",prop:"file_name"}},[i("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.ruleForm.file_name,callback:function(t){e.$set(e.ruleForm,"file_name",t)},expression:"ruleForm.file_name"}})],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.editSubmit}},[e._v("确 定")])],1)],1),i("picture-library",{ref:"pic",on:{getData:e.setCover}})],2)},s=[],r=(i("20d6"),i("cebc")),c=i("2f62"),l=i("0bba"),n=i("d1eb"),a={delAudio:n["f"],modAudio:n["s"],modVideo:n["w"],delVideo:n["j"],modFile:n["t"],delFile:n["g"]},u={inject:["selectVArr","selectAArr","selectFArr","getPageData"],props:["pageData","group_type","groupList"],components:{PictureLibrary:l["a"]},data:function(){return{selectArr:[],dialogVisible:!1,ruleForm:{group_id:"",file_name:""}}},computed:Object(r["a"])({},Object(c["b"])(["base_img"]),{row_id:function(){switch(this.group_type){case"2":return"audio_id";case"3":return"video_id";case"4":return"file_id";default:return""}},mtd:function(){switch(this.group_type){case"2":return{del:"delAudio",mod:"modAudio"};case"3":return{del:"delVideo",mod:"modVideo"};case"4":return{del:"delFile",mod:"modFile"};default:return""}}}),methods:{checkSelect:function(e){return this.selectVArr.some(function(t){return t.video_id==e})},checkASelect:function(e){return this.selectAArr.some(function(t){return t.audio_id==e})},checkFSelect:function(e){return this.selectFArr.some(function(t){return t.file_id==e})},select:function(e){if(console.log(e),e.video_id){var t=this.selectVArr.findIndex(function(t){return t.video_id==e.video_id});-1==t?this.selectVArr.push(e):this.selectVArr.splice(t,1)}if(e.audio_id){var i=this.selectAArr.findIndex(function(t){return t.audio_id==e.audio_id});-1==i?this.selectAArr.push(e):this.selectAArr.splice(i,1)}if(e.file_id){var o=this.selectFArr.findIndex(function(t){return t.file_id==e.file_id});-1==o?this.selectFArr.push(e):this.selectFArr.splice(o,1)}},copy:function(e){var t=document.createElement("input");t.value=this.base_img+e,document.body.appendChild(t),t.select(),document.execCommand("Copy"),document.body.removeChild(t),this.$message({message:"复制成功",type:"success"})},setCover:function(e){console.log(e),this.ruleForm.cover=e.src_file},toPre:function(e){window.open(this.base_img+e,"_blank")},edit:function(e){this.ruleForm=Object(r["a"])({},e),this.dialogVisible=!0},editSubmit:function(){var e=this,t=this.ruleForm,i=t.group_id,o=t.file_name,s={group_id:i,file_name:o};s[this.row_id]=this.ruleForm[this.row_id],a[this.mtd.mod](s).then(function(t){0==t.code&&(e.$message({message:"修改成功",duration:1e3,type:"success"}),e.$refs.ruleForm.resetFields(),e.getPageData(1),e.dialogVisible=!1)})},close:function(){},del:function(e){var t=this,i=[];if(i.push(e[this.row_id]),2==this.group_type){var o=JSON.stringify(i);Object(n["f"])({audios:o}).then(function(e){0==e.code&&(t.$message({message:"删除成功",duration:1e3,type:"success"}),t.getPageData(1),t.dialogVisible=!1)})}if(3==this.group_type){var s=JSON.stringify(i);Object(n["j"])({videos:s}).then(function(e){0==e.code&&(t.$message({message:"删除成功",duration:1e3,type:"success"}),t.getPageData(1),t.dialogVisible=!1)})}if(4==this.group_type){var r=JSON.stringify(i);Object(n["g"])({files:r}).then(function(e){0==e.code&&(t.$message({message:"删除成功",duration:1e3,type:"success"}),t.getPageData(1),t.dialogVisible=!1)})}}}},d=u,p=(i("8347"),i("2877")),f=Object(p["a"])(d,o,s,!1,null,"25e80270",null);t["default"]=f.exports}}]);