(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-64028c76"],{"24d2":function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"c",function(){return s}),r.d(t,"d",function(){return l}),r.d(t,"b",function(){return n});var i=r("365c"),o={addProject:"add",editProject:"mod",getProjectList:"list",delProject:"del"};function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].post(o.addProject,e,"api/project")}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].post(o.editProject,e,"api/project")}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].post(o.getProjectList,e,"api/project")}function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].post(o.delProject,e,"api/project")}},2760:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"issuec_reate"},[r("div",{staticClass:"className"},[r("el-card",{staticClass:"anoCard"},[r("div",{attrs:{slot:"header"},slot:"header"},[r("span",[e._v("新建事务")])]),r("div",{staticClass:"formBox"},[r("div",[r("el-input",{attrs:{placeholder:"请输入标题"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}}),r("u-e",{ref:"quill",staticClass:"introClass",on:{senHtml:e.getHtml}})],1),r("div",{staticClass:"boxRight"},[r("el-form",{ref:"form",attrs:{model:e.form,"status-icon":"",rules:e.rules,"label-width":"auto"}},[r("el-form-item",{attrs:{label:"所属项目",prop:"priority"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择所属项目"},on:{change:e.changProjectId},model:{value:e.form.project_id,callback:function(t){e.$set(e.form,"project_id",t)},expression:"form.project_id"}},e._l(e.projectList,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),r("el-form-item",{attrs:{label:"优先级",prop:"priority"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择优先级"},on:{change:e.changPriority},model:{value:e.form.priority,callback:function(t){e.$set(e.form,"priority",t)},expression:"form.priority"}},e._l(e.priorityList,function(e){return r("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})}),1)],1),r("el-form-item",{attrs:{label:"严重程度",prop:"severity"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择严重程度"},on:{change:e.changSeverity},model:{value:e.form.severity,callback:function(t){e.$set(e.form,"severity",t)},expression:"form.severity"}},e._l(e.severityList,function(e){return r("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})}),1)],1),r("el-form-item",{attrs:{label:"处理人",prop:"workers"}},[r("el-input",{attrs:{type:"text",placeholder:"请填写处理人",autocomplete:"off"},model:{value:e.form.workers,callback:function(t){e.$set(e.form,"workers",t)},expression:"form.workers"}})],1),r("el-form-item",{attrs:{label:"开始时间",prop:"btime"}},[r("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择开始日期时间","default-time":"00:00:00"},model:{value:e.form.btime,callback:function(t){e.$set(e.form,"btime",t)},expression:"form.btime"}})],1),r("el-form-item",{attrs:{label:"结束时间",prop:"etime"}},[r("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择结束日期时间","default-time":"00:00:00"},model:{value:e.form.etime,callback:function(t){e.$set(e.form,"etime",t)},expression:"form.etime"}})],1)],1)],1)]),r("div",{staticClass:"controlBottom"},[r("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("提 交")])],1)])],1)])},o=[],a=r("cf2d"),s=r("5132"),l=r("24d2"),n={data:function(){return{form:{title:"",content:"",project_id:"",severity:"",priority:"",workers:"",btime:"",etime:""},rules:{project_id:[{required:!0,message:"请选择所属项目",trigger:"blur"}],severity:[{required:!0,message:"请选择优先级",trigger:"blur"}],priority:[{required:!0,message:"请选择严重程度",trigger:"blur"}],workers:[{required:!0,message:"请填写处理人",trigger:"blur"}],btime:[{required:!0,message:"选择开始日期时间",trigger:"blur"}],etime:[{required:!0,message:"选择结束日期时间",trigger:"blur"}]},severityList:[{name:"致命",value:0},{name:"严重",value:1},{name:"一般",value:2},{name:"提示",value:3},{name:"建议",value:4}],priorityList:[{name:"High",value:0},{name:"Middle",value:1},{name:"Low",value:2},{name:"NicetoHave",value:3}],projectList:[]}},components:{UE:a["a"]},filters:{},created:function(){this.getProjectList()},onShow:function(){},mounted:function(){},computed:{},methods:{getProjectList:function(){var e=this;Object(l["d"])().then(function(t){0==t.code&&(e.projectList=t.data.list,console.log(e.projectList))})},submit:function(){var e=this;this.form.title?this.form.content?this.$refs["form"].validate(function(t){t&&Object(s["a"])(e.form).then(function(t){0==t.code&&(e.$message({message:"提交成功",duration:3e3,type:"success"}),e.form={title:"",content:"",severity:"",priority:"",workers:"",btime:"",etime:""},e.$refs.quill.setContent(""),e.$refs["form"].clearValidate())})}):this.$message({message:"请输入内容",type:"error"}):this.$message({message:"请输入标题",type:"error"})},getHtml:function(e){this.form.content=e},changPriority:function(){this.$refs["form"].validateField("priority")},changSeverity:function(){this.$refs["form"].validateField("severity")},changProjectId:function(){this.$refs["form"].validateField("project_id")}}},c=n,u=(r("3eb6"),r("2877")),m=Object(u["a"])(c,i,o,!1,null,"127933ee",null);t["default"]=m.exports},"3eb6":function(e,t,r){"use strict";var i=r("715b"),o=r.n(i);o.a},5132:function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"b",function(){return s});var i=r("365c"),o={addIssue:"add",issueList:"list"};function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].post(o.addIssue,e,"api/issue")}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].post(o.issueList,e,"api/issue")}},"715b":function(e,t,r){}}]);