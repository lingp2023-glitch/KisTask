(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-719abc5e","chunk-31905c06","chunk-8e9b11f2","chunk-dd70e85a","chunk-f6102e1c","chunk-a5fe71de","chunk-3639d850"],{"0615":function(t,e,a){"use strict";var r=a("a82a"),i=a.n(r);i.a},"0b41":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-cascader",{staticStyle:{width:"100%"},attrs:{props:{children:"childs",label:"group_name",value:"group_id"},emitPath:!1,value:t.group_id,options:t.group},on:{"update:value":function(e){t.group_id=e},change:t.change}})],1)},i=[],n=(a("7514"),a("c5f6"),a("c40e")),o={props:{group_id:{type:[String,Number],required:!0,default:function(){return""}}},data:function(){return{group:[]}},created:function(){this.goodsGroupTree()},methods:{goodsGroupTree:function(){var t=this;Object(n["v"])().then((function(e){0==e.code&&(t.group=e.data)}))},change:function(t){var e=this,a={};t.map((function(r,i){a=0==i?e.group.find((function(t){return t.group_id==r})).childs:i==t.length-1?a.find((function(t){return t.group_id==r})):a.find((function(t){return t.group_id==r})).childs})),this.$emit("update:group_id",t[t.length-1]),this.$emit("selectGroupItem",a)}}},s=o,d=(a("622a"),a("2877")),u=Object(d["a"])(s,r,i,!1,null,null,null);e["default"]=u.exports},"2b36":function(t,e,a){"use strict";var r=a("6b61"),i=a.n(r);i.a},"2f21":function(t,e,a){"use strict";var r=a("79e5");t.exports=function(t,e){return!!t&&r((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},"3b2b":function(t,e,a){var r=a("7726"),i=a("5dbc"),n=a("86cc").f,o=a("9093").f,s=a("aae3"),d=a("0bfb"),u=r.RegExp,l=u,c=u.prototype,p=/a/g,f=/a/g,g=new u(p)!==p;if(a("9e1e")&&(!g||a("79e5")((function(){return f[a("2b4c")("match")]=!1,u(p)!=p||u(f)==f||"/a/i"!=u(p,"i")})))){u=function(t,e){var a=this instanceof u,r=s(t),n=void 0===e;return!a&&r&&t.constructor===u&&n?t:i(g?new l(r&&!n?t.source:t,e):l((r=t instanceof u)?t.source:t,r&&n?d.call(t):e),a?this:c,u)};for(var v=function(t){t in u||n(u,t,{configurable:!0,get:function(){return l[t]},set:function(e){l[t]=e}})},m=o(l),h=0;m.length>h;)v(m[h++]);c.constructor=u,u.prototype=c,a("2aba")(r,"RegExp",u)}a("7a56")("RegExp")},"55dd":function(t,e,a){"use strict";var r=a("5ca1"),i=a("d8e8"),n=a("4bf8"),o=a("79e5"),s=[].sort,d=[1,2,3];r(r.P+r.F*(o((function(){d.sort(void 0)}))||!o((function(){d.sort(null)}))||!a("2f21")(s)),"Array",{sort:function(t){return void 0===t?s.call(n(this)):s.call(n(this),i(t))}})},"5d19":function(t,e,a){},"622a":function(t,e,a){"use strict";var r=a("5d19"),i=a.n(r);i.a},"69fe":function(t,e,a){"use strict";a.r(e);var r=a("0b41");e["default"]=r["default"]},"6b61":function(t,e,a){},"91b8":function(t,e,a){},"9a15":function(t,e,a){},a3ab:function(t,e,a){"use strict";a.r(e);var r=a("ed85");e["default"]=r["default"]},a82a:function(t,e,a){},ae1a:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("picture-library",{ref:"pic",attrs:{appendToBody:!0},on:{getData:t.getData}}),t.cover?a("div",{staticClass:"img-wrap"},[a("div",{staticClass:"img-item"},[a("i",{staticClass:"el-icon-close img-close",on:{click:t.del_cover}}),a("BaseElImage",{attrs:{custom_src:t.cover,previewList:[t.cover],needBase:t.needBase,fit:"cover"}})],1)]):a("div",{staticClass:"img-add",on:{click:function(e){return t.$refs.pic.open(!1)}}},[a("i",{staticClass:"el-icon-plus img-add-icon"})])],1)},i=[],n=a("0bba"),o={components:{PictureLibrary:n["a"]},props:{cover:{type:[Object,String],default:function(){return""}},needBase:{type:Boolean,default:function(){return!1}}},data:function(){return{}},methods:{getData:function(t){console.log(t),this.$emit("update:cover",t.src_file)},del_cover:function(){this.$emit("update:cover","")}}},s=o,d=(a("0615"),a("2877")),u=Object(d["a"])(s,r,i,!1,null,"96fb29be",null);e["default"]=u.exports},bd5a:function(t,e,a){"use strict";a.r(e);var r=a("e436");e["default"]=r["default"]},c40e:function(t,e,a){"use strict";a.d(e,"c",(function(){return n})),a.d(e,"m",(function(){return o})),a.d(e,"i",(function(){return s})),a.d(e,"J",(function(){return d})),a.d(e,"G",(function(){return u})),a.d(e,"I",(function(){return l})),a.d(e,"F",(function(){return c})),a.d(e,"w",(function(){return p})),a.d(e,"t",(function(){return f})),a.d(e,"r",(function(){return g})),a.d(e,"u",(function(){return v})),a.d(e,"s",(function(){return m})),a.d(e,"o",(function(){return h})),a.d(e,"v",(function(){return _})),a.d(e,"x",(function(){return b})),a.d(e,"q",(function(){return y})),a.d(e,"p",(function(){return w})),a.d(e,"A",(function(){return A})),a.d(e,"z",(function(){return S})),a.d(e,"y",(function(){return k})),a.d(e,"B",(function(){return x})),a.d(e,"n",(function(){return $})),a.d(e,"K",(function(){return L})),a.d(e,"L",(function(){return V})),a.d(e,"g",(function(){return D})),a.d(e,"h",(function(){return C})),a.d(e,"a",(function(){return G})),a.d(e,"b",(function(){return I})),a.d(e,"f",(function(){return P})),a.d(e,"j",(function(){return O})),a.d(e,"H",(function(){return R})),a.d(e,"d",(function(){return j})),a.d(e,"e",(function(){return E})),a.d(e,"l",(function(){return q})),a.d(e,"k",(function(){return B})),a.d(e,"C",(function(){return N})),a.d(e,"E",(function(){return T})),a.d(e,"D",(function(){return z}));var r=a("365c"),i={groupList:"groupList",groupAdd:"groupAdd",groupMod:"groupMod",groupDel:"groupDel",goodsGroupList:"list",goodsGroupAdd:"add",goodsGroupMod:"mod",goodsGroupDel:"del",goodsGroupTree:"tree",goodsList:"list",goodsAdd:"add",goodsMod:"mod",goodsDel:"del",goodsAttrSet:"attrSet",goodsSkuSet:"skuSet",goodsSkuGet:"skuGet",goodsRun:"run",goodsStop:"stop",topList:"topList",setTop:"topSet",topCancel:"topCancel",applyList:"applyList",applyPool:"applyPool",applyCalc:"applyCalc",applyPut:"applyPut",fixPut:"fixPut",fixList:"fixList",setGoodsTop:"topSet",draftGet:"draftGet",draftSet:"draftSet",profitList:"profitList",imgGet:"imgsGet",setImgs:"imgsSet",serveGet:"serviceGet",setServe:"serviceSet",getAttrs:"attrs",getSkuShops:"skuShops",checkGoods:"check"};function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.checkGoods,t,"api/goods")}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.getSkuShops,t,"api/goods")}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.getAttrs,t,"api/goods")}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.setServe,t,"api/goods")}function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.serveGet,t,"api/goods")}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.setImgs,t,"api/goods")}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.imgGet,t,"api/goods")}function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.goodsList,t,"api/goods")}function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.goodsGroupList,t,"api/group")}function g(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.goodsGroupAdd,t,"api/group")}function v(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.goodsGroupMod,t,"api/group")}function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.goodsGroupDel,t,"api/group")}function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.goodsAdd,t,"api/goods")}function _(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.goodsGroupTree,t,"api/group")}function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.goodsMod,t,"api/goods")}function y(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.goodsDel,t,"api/goods")}function w(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.goodsAttrSet,t,"api/goods")}function A(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.goodsSkuSet,t,"api/goods")}function S(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.goodsSkuGet,t,"api/goods")}function k(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.goodsRun,t,"api/goods")}function x(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.goodsStop,t,"api/goods")}function $(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].get(i.topList,t,"api/goods")}function L(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].get(i.setTop,t,"api/goods")}function V(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].get(i.topCancel,t,"api/goods")}function D(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.applyList,t,"api/goods")}function C(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.applyPool,t,"api/goods")}function G(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.applyCalc,t,"api/goods")}function I(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.applyPut,t,"api/goods")}function P(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.fixPut,t,"api/goods")}function O(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.fixList,t,"api/goods")}function R(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.setGoodsTop,t,"api/goods")}function j(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.draftGet,t,"api/goods")}function E(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.draftSet,t,"api/goods")}function q(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.profitList,t,"api/goods")}function B(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.groupList,t,"api/goods")}function N(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.groupAdd,t,"api/goods")}function T(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.groupMod,t,"api/goods")}function z(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.groupDel,t,"api/goods")}},c68a:function(t,e,a){},c933:function(t,e,a){"use strict";var r=a("c68a"),i=a.n(r);i.a},ca8e:function(t,e,a){"use strict";var r=a("9a15"),i=a.n(r);i.a},cb77:function(t,e,a){"use strict";a.r(e);var r=a("ae1a");e["default"]=r["default"]},d465:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:t.title,visible:t.show,width:"70%",top:"10px","close-on-click-modal":!1},on:{"update:visible":function(e){t.show=e},closed:t.closed}},[a("div",[a("el-form",{ref:"form",attrs:{"label-width":"auto",model:t.data,rules:t.rules}},[a("el-form-item",{attrs:{label:"商品名称",prop:"goods_name"}},[a("el-input",{model:{value:t.data.goods_name,callback:function(e){t.$set(t.data,"goods_name",e)},expression:"data.goods_name"}})],1),a("el-form-item",{attrs:{label:"商品简介",prop:"intro"}},[a("el-input",{model:{value:t.data.intro,callback:function(e){t.$set(t.data,"intro",e)},expression:"data.intro"}})],1),a("el-form-item",{attrs:{label:"成本价",prop:"cost_price"}},[a("el-input",{attrs:{type:"number"},model:{value:t.data.cost_price,callback:function(e){t.$set(t.data,"cost_price",e)},expression:"data.cost_price"}})],1),a("el-form-item",{attrs:{label:"销售价",prop:"sale_price"}},[a("el-input",{attrs:{type:"number"},model:{value:t.data.sale_price,callback:function(e){t.$set(t.data,"sale_price",e)},expression:"data.sale_price"}})],1),a("el-form-item",{attrs:{label:"市场价",prop:"market_price"}},[a("el-input",{attrs:{type:"number"},model:{value:t.data.market_price,callback:function(e){t.$set(t.data,"market_price",e)},expression:"data.market_price"}})],1),a("el-form-item",{attrs:{label:"排序",prop:"sort"}},[a("el-input",{attrs:{type:"number"},model:{value:t.data.sort,callback:function(e){t.$set(t.data,"sort",e)},expression:"data.sort"}})],1),a("el-form-item",{attrs:{label:"商品分组",prop:"group_id"}},[a("formClass",{attrs:{group_id:t.data.group_id},on:{"update:group_id":function(e){return t.$set(t.data,"group_id",e)}}})],1),"add"==t.type?a("el-form-item",{attrs:{label:"商品属性",prop:"attrs"}},[a("formAttr",{attrs:{attr:t.data.attrs},on:{"update:attr":function(e){return t.$set(t.data,"attrs",e)}}})],1):t._e(),a("el-form-item",{attrs:{label:"商品视频",prop:"video"}},[a("formVideo",{attrs:{video:t.data.video},on:{"update:video":function(e){return t.$set(t.data,"video",e)}}})],1),a("el-form-item",{attrs:{label:"商品封面",prop:"cover"}},[a("formCover",{attrs:{cover:t.data.cover},on:{"update:cover":function(e){return t.$set(t.data,"cover",e)}}})],1),a("el-form-item",{attrs:{label:"商品图片",prop:"imgs"}},[a("formImgs",{attrs:{imgs:t.data.imgs},on:{"update:imgs":function(e){return t.$set(t.data,"imgs",e)}}})],1),a("el-form-item",{attrs:{label:"附加数据",prop:"append_data"}},[a("el-input",{model:{value:t.data.append_data,callback:function(e){t.$set(t.data,"append_data",e)},expression:"data.append_data"}})],1),a("div",{staticClass:"edit"},[a("el-form-item",{attrs:{label:"商品详情",prop:"description"}},[a("u-e",{ref:"quill",on:{senHtml:t.getHtml}})],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.show=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1)])},i=[],n=(a("55dd"),a("c5f6"),a("cebc")),o=(a("3b2b"),a("ac6a"),a("cf2d")),s=a("901e"),d=a.n(s),u=a("c40e"),l=a("0bba"),c=a("69fe"),p=a("a3ab"),f=a("f925"),g=a("cb77"),v=a("bd5a"),m=a("86d8"),h={components:{baseImg:m["a"],formClass:c["default"],formAttr:p["default"],formVideo:f["default"],formCover:g["default"],formImgs:v["default"],PictureLibrary:l["a"],UE:o["a"]},props:{title:{type:String,default:function(){return"新增"}},type:{type:String,default:function(){return"add"}}},data:function(){var t=function(t,e,a){e&&0!=e.length?(e.map((function(t,e){t.values&&0!=t.values.length||a(new Error("规格名称 ".concat(t.attr_name," ，缺少规格值")))})),a()):a()},e=function(t,e,a){var r=new RegExp(/(^[1-9]{1}[0-9]*$)|(^[0-9]*\.[0-9]{2}$)/);""==e?a(new Error("请输入正确的金额")):r.test(e)?a():a(new Error("请输入正确的金额"))};return{show:!1,data:{attrs:[]},rules:{goods_name:[{required:!0,message:"请输入商品名称",trigger:"blur"}],intro:[{required:!0,message:"请输入商品简介",trigger:"blur"}],cost_price:[{validator:e,required:!0,trigger:"blur"}],sale_price:[{validator:e,required:!0,trigger:"blur"}],market_price:[{validator:e,required:!0,trigger:"blur"}],sort:[{required:!0,message:"请输入排序",trigger:"blur"}],group_id:[{required:!0,message:"请选择分组",trigger:"blur"}],cover:[{required:!0,message:"请选择封面",trigger:"blur"}],attrs:[{validator:t,trigger:"submit"}],imgs:[{required:!0,message:"请选择视频",trigger:"blur"}]}}},methods:{closed:function(){this.$refs["form"].resetFields(),this.$refs.quill.setContent("")},open:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{attrs:[]};this.data=e,this.show=!0,void 0!=e.goods_id&&(e.cost_price=100*e.cost_price,e.sale_price=100*e.sale_price,e.market_price=100*e.market_price),this.$nextTick((function(){t.data.description&&t.$refs.quill.setContent(t.data.description)}))},submit:function(){var t=!1;if(this.$refs["form"].validate((function(e){t=e})),t){var e=Object(n["a"])({},this.data);switch(e.imgs=JSON.stringify(e.imgs),e.attrs=JSON.stringify(e.attrs),e.sale_price=Number(e.sale_price),this.type){case"add":this.goodsAdd(e);break;case"edit":this.goodsMod(e);break}}},goodsAdd:function(t){var e=this;Object(u["o"])(t).then((function(t){0==t.code?(e.$message({message:"新增成功",type:"success"}),e.$parent.getGoodsList()):e.$message({message:t.msg||"新增失败",type:"error"})})).finally((function(){e.show=!1}))},goodsMod:function(t){var e=this,a=t.goods_name,r=t.intro,i=t.group_id,n=t.cost_price,o=t.sale_price,s=t.market_price,d=t.cover,l=t.video,c=t.imgs,p=t.description,f=t.sort,g=t.goods_id,v=t.append_data;Object(u["x"])({goods_id:g,goods_name:a,intro:r,group_id:i,cost_price:n,sale_price:o,market_price:s,cover:d,video:l,imgs:c,description:p,sort:f,append_data:v}).then((function(t){0==t.code?(e.$message({message:"修改成功",type:"success"}),e.$parent.refresh()):e.$message({message:t.msg||"修改失败",type:"error"})})).finally((function(){e.show=!1}))},formatPirce:function(t){return new d.a(t).multipliedBy(new d.a(100)).toNumber()},getHtml:function(t){this.data.description=t}}},_=h,b=(a("2b36"),a("2877")),y=Object(b["a"])(_,r,i,!1,null,"5cc7eb92",null);e["default"]=y.exports},d566:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("aio-vdo-file-livrary",{ref:"aiovio",attrs:{appendToBody:!0,type:"视频"},on:{getData:t.getData}}),a("el-link",{attrs:{type:"primary",underline:!1},on:{click:function(e){return t.$refs.aiovio.open("video")}}},[t.video?a("span",[t._v(t._s(t.video))]):a("span",[t._v("选择视频")])])],1)},i=[],n=(a("c5f6"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"aiovio"},[a("el-dialog",{attrs:{title:t.type,visible:t.dialogVisible,width:"80vw","append-to-body":t.appendToBody,"before-close":t.handleClose,top:"20px"},on:{"update:visible":function(e){t.dialogVisible=e}}},["视频"==t.type?a("div",{staticClass:"pageContent"},t._l(t.pageData.list,(function(e,r){return a("div",{key:r,staticClass:"box-card"},[a("div",{staticClass:"pic",on:{click:function(a){return t.toPre(e.file)}}},[a("el-image",{staticStyle:{width:"100%",height:"160px"},attrs:{src:t.base_img+e.cover,fit:"cover"}}),a("div",{staticClass:"name"},[t._v("\n            "+t._s(e.file_name)+"\n          ")])],1),a("div",{staticClass:"controlBtn iconStyel",on:{click:function(a){return t.select(e)}}},[a("i",{staticClass:"el-icon-check"}),t._v("选择\n        ")])])})),0):t._e(),""==t.type?a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.pageData.list}},[a("el-table-column",{attrs:{prop:"title",label:"标题",width:"150"}}),a("el-table-column",{attrs:{prop:"file_name",label:"文件名称"}}),a("el-table-column",{attrs:{prop:"file_size",label:"文件大小",width:"80"}}),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间",width:"150"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.select(e.row)}}},[t._v("选择")])]}}],null,!1,767485717)})],1):t._e(),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next",total:t.pageData.total_count,"page-count":t.pageData.page_count,"page-size":t.pageData.page_size},on:{"current-change":t.getPageData}})],1)],1)],1)}),o=[],s=a("cebc"),d=a("d1eb"),u=a("2f62"),l={getAudioList:d["l"],getVideoList:d["r"],getFileList:d["m"]},c={props:{type:{type:String,required:!0},appendToBody:{type:Boolean,default:function(){return!1}}},data:function(){return{dialogVisible:!1,pageData:{}}},computed:Object(s["a"])({},Object(u["b"])(["base_img"]),{mtd:function(){switch(this.type){case"音频":return"getAudioList";case"视频":return"getVideoList";default:return"getFileList"}}}),methods:{toPre:function(t){window.open(this.base_img+t,"_blank")},select:function(t){this.$emit("getData",t),this.dialogVisible=!1},open:function(){var t=this;this.dialogVisible=!0,this.$nextTick((function(){t.getPageData(1)}))},handleClose:function(){this.dialogVisible=!1,this.pageData={}},getPageData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;l[this.mtd]({group_id:0,page:e}).then((function(e){0==e.code&&(t.pageData=e.data)}),(function(t){}))}}},p=c,f=(a("ca8e"),a("2877")),g=Object(f["a"])(p,n,o,!1,null,"57c985d2",null),v=g.exports,m={components:{AioVdoFileLivrary:v},props:{video:{type:[String,Number]}},data:function(){return{}},methods:{getData:function(t){console.log(t),this.$emit("update:video",t.file)}}},h=m,_=Object(f["a"])(h,r,i,!1,null,null,null);e["default"]=_.exports},e436:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("picture-library",{ref:"pic",attrs:{appendToBody:!0},on:{getData:t.getData}}),a("div",{staticClass:"img-wrap"},[t._l(t.imgs,(function(e,r){return a("div",{key:r,staticClass:"img-item"},[a("i",{staticClass:"el-icon-close img-close",on:{click:function(e){return t.del_imgs(r)}}}),a("BaseElImage",{attrs:{custom_src:e,previewList:t.imgs,fit:"cover"}})],1)})),a("div",{staticClass:"img-add",on:{click:function(e){return t.$refs.pic.open(!1)}}},[a("i",{staticClass:"el-icon-plus img-add-icon"})])],2)],1)},i=[],n=a("0bba"),o={components:{PictureLibrary:n["a"]},props:{imgs:{type:Array,default:function(){return[]}}},data:function(){return{}},methods:{getData:function(t){this.imgs.push(t.src_file),this.$emit("update:imgs",this.imgs)},del_imgs:function(t){this.imgs.splice(t,1),console.log(this.imgs,t),this.$emit("update:imgs",this.imgs)}}},s=o,d=(a("ffc8"),a("2877")),u=Object(d["a"])(s,r,i,!1,null,"dfc7a16a",null);e["default"]=u.exports},ed85:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.hasAttrs,expression:"hasAttrs"}],attrs:{icon:"el-icon-plus",type:"primary",size:"mini"},on:{click:t.showAddStandardAttr}},[t._v('"参数选择"定义属性')]),a("el-popover",{attrs:{placement:"right",width:"400",trigger:"click"},model:{value:t.ShowAdd,callback:function(e){t.ShowAdd=e},expression:"ShowAdd"}},[a("div",{staticClass:"addAttrWrap"},[a("el-input",{attrs:{size:"mini",width:"100px",placeholder:"请输入规格名称"},model:{value:t.attr_item.attr_name,callback:function(e){t.$set(t.attr_item,"attr_name",e)},expression:"attr_item.attr_name"}}),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",size:"mini"},on:{click:t.addAttrItem}},[t._v("添加")])],1),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{slot:"reference",icon:"el-icon-plus",type:"primary",size:"mini"},slot:"reference"},[t._v('"文字描述"定义属性')])],1),a("el-table",{staticStyle:{"margin-top":"10px"},attrs:{data:t.attr,border:""}},[a("el-table-column",{attrs:{prop:"attr_name",label:"规格名称",width:"200"}}),a("el-table-column",{attrs:{prop:"attr_value",label:"规格值"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._l(e.row.values,(function(r,i){return a("el-tag",{key:r.attr_value,staticClass:"tag",attrs:{name:r.attr_value,type:"info","disable-transitions":!0,closable:""},on:{click:function(a){return t.editAttrValue(r,e.$index,i)},close:function(a){return t.delAttrValue(e.$index,i)}}},[t._v("\n          "+t._s(r.attr_value)+"\n        ")])})),t.haveStandardValue(e.row.attr_name)?a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini",plain:""},on:{click:function(a){return t.addStandardValueDialog(e.$index,e.row.attr_name)}}},[t._v('"参数选择"定义属性值')]):t._e(),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini",plain:""},on:{click:function(a){return t.addAttrDialog(e.$index)}}},[t._v('"文字描述"定义属性值')])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-link",{staticClass:"attr_link",attrs:{underline:!1},on:{click:function(a){return t.delAttr(e.$index)}}},[t._v("删除")])]}}])})],1),a("el-dialog",{attrs:{"append-to-body":"",title:"属性值",visible:t.addAttrValueShow,width:"30%"},on:{"update:visible":function(e){t.addAttrValueShow=e},closed:t.closed}},[a("el-form",{ref:"addAttrValueData",attrs:{"label-width":"auto",model:t.attr_value,rules:t.rules}},[a("el-form-item",{attrs:{label:"规格值",prop:"attr_value"}},[a("el-input",{model:{value:t.attr_value.attr_value,callback:function(e){t.$set(t.attr_value,"attr_value",e)},expression:"attr_value.attr_value"}})],1)],1),a("picture-library",{ref:"pic",attrs:{appendToBody:!0},on:{getData:t.getPic}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.addAttrValueShow=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.setAttrValue}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{"append-to-body":"",top:"20px",title:"标准属性值",visible:t.addStandardAttrShow},on:{"update:visible":function(e){t.addStandardAttrShow=e},closed:t.closed}},[a("div",{staticStyle:{"margin-bottom":"20px"}},[a("el-radio-group",{model:{value:t.group_id,callback:function(e){t.group_id=e},expression:"group_id"}},[a("el-radio-button",{attrs:{label:"1"}},[t._v("绿植类")]),a("el-radio-button",{attrs:{label:"2"}},[t._v("非绿植类")])],1)],1),a("el-row",[a("el-col",{staticStyle:{"border-right":"1px solid #ddd"},attrs:{span:6}},[a("div",{staticClass:"scrollBox"},[a("el-radio-group",{model:{value:t.standarAttr,callback:function(e){t.standarAttr=e},expression:"standarAttr"}},t._l(t.attrsNames,(function(e,r){return a("el-radio",{key:r,attrs:{label:e},on:{change:t.attrsNameChange}},[t._v(t._s(e))])})),1)],1)]),a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:18}},[a("el-checkbox-group",{model:{value:t.standardValueList,callback:function(e){t.standardValueList=e},expression:"standardValueList"}},t._l(t.valueData,(function(t,e){return a("el-checkbox",{key:e,staticStyle:{"margin-bottom":"10px"},attrs:{label:t}})})),1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.standarAttr="",t.standardValueList=[],t.valueData=[],t.addStandardAttrShow=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.addStandardAttrAndValue}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{"append-to-body":"",title:'"参数选择"定义属性值',visible:t.addStandardValueShow},on:{"update:visible":function(e){t.addStandardValueShow=e},closed:t.closed}},[a("el-checkbox-group",{model:{value:t.standardValueList,callback:function(e){t.standardValueList=e},expression:"standardValueList"}},t._l(t.valueData,(function(t,e){return a("el-checkbox",{key:e,staticStyle:{"margin-bottom":"10px"},attrs:{label:t}})})),1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.standardValueList=[],t.addStandardValueShow=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.addStandardValue}},[t._v("确 定")])],1)],1)],1)},i=[],n=a("cebc"),o=(a("ac6a"),a("7f7f"),a("7514"),a("0bba")),s=a("c40e"),d={components:{PictureLibrary:o["a"]},watch:{group_id:{handler:function(t){t&&this.getAttrs()},immediate:!0}},props:{attr:{type:[Array,String],required:!0,default:function(){return[]}}},data:function(){return{group_id:"1",ShowAdd:!1,addAttrValueShow:!1,data:[],rowIndex:"",rowIdx:"",attr_item:{attr_name:"",values:[]},attr_value:{attr_value:"",attr_img:"",min_img:""},rules:{attr_value:[{required:!0,message:"请输入规格值",trigger:"blur"}]},addStandardAttrShow:!1,standardAttrList:[],standardRadio:{},attrsData:[],hasAttrs:!1,addStandardValueShow:!1,standardRowName:"",standardValueList:[],valueData:[],attrsNames:[],standarAttr:""}},methods:{addStandardAttrAndValue:function(){if(""!=this.standarAttr)if(0!=this.standardValueList.length){var t=[];this.standardValueList.map((function(e,a){t.push({attr_value:e})})),this.attr.push({attr_name:this.standarAttr,values:t}),this.standarAttr="",this.standardValueList=[],this.valueData=[],this.addStandardAttrShow=!1}else this.$message({message:"请选择属性值",type:"warning"});else this.$message({message:"请选择属性",type:"warning"})},attrsNameChange:function(){var t=this;this.standardValueList=[];var e=this.attrsData.find((function(e){return Array.isArray(e.name)?e.name.some((function(e){return e==t.standarAttr}))?e:void 0:e.name==t.standarAttr}));this.valueData=e.value},getAttrs:function(){var t=this;Object(s["i"])({group_id:this.group_id}).then((function(e){e.data?(t.hasAttrs=!0,t.attrsData=e.data,t.attrsNames=t.attrsData.flatMap((function(t){return t.name}))):t.hasAttrs=!1,t.$emit("changeRim",e.msg)}))},handleCheckChange:function(t,e){if(console.log(this.standardRadio[e],!this.standardRadio[e]),1!=e.length)if(t){if(!this.standardRadio[e]){var a=this.standardAttrList.indexOf(e);console.log(a,"下标"),this.standardAttrList.splice(a,1)}}else this.standardRadio[e]=null},handleRadioChange:function(t,e){this.standardAttrList.some((function(t){return t==e}))||this.standardAttrList.push(e)},addStandardValue:function(){var t=this;this.standardValueList.map((function(e,a){t.attr[t.rowIndex].values.push({attr_value:e})})),this.standardValueList=[],this.addStandardValueShow=!1},haveStandardValue:function(t){var e=this.attrsData.some((function(e){return Array.isArray(e.name)?e.name.some((function(e){return e==t}))?e:void 0:e.name==t}));return e},addStandardValueDialog:function(t,e){var a=this;this.standardRowName=e,this.rowIndex=t;var r=this.attrsData.find((function(t){return Array.isArray(t.name)?t.name.some((function(t){return t==a.standardRowName}))?t:void 0:t.name==a.standardRowName}));console.log(r),r?(this.valueData=r.value,this.addStandardValueShow=!0):this.$message({message:'此规格无"参数选择"定义属性值',type:"warning"})},addStandardAttr:function(){var t=this;this.standardAttrList.map((function(e,a){1!=e.length?t.standardRadio[e]&&t.attr.push({attr_name:t.standardRadio[e],values:[]}):t.attr.push({attr_name:e[0],values:[]})})),this.standardAttrList=[],this.standardRadio={},this.addStandardAttrShow=!1},showAddStandardAttr:function(){this.addStandardAttrShow=!0,this.ShowAdd=!1,console.log(this.group_id)},closed:function(){this.rowIndex="",this.rowIdx="",this.attr_value.min_img="",this.attr_value.attr_img="",this.attr_value.attr_value=""},addAttrItem:function(){this.attr_item.attr_name&&(this.attr.push(Object(n["a"])({},this.attr_item)),this.attr_item={attr_name:"",values:[]},this.ShowAdd=!1,this.updateAttr())},addAttrDialog:function(t){this.rowIndex=t,this.addAttrValueShow=!0},editAttrValue:function(t,e,a){this.attr_value=Object(n["a"])({},t),this.rowIndex=e,this.rowIdx=a,this.addAttrValueShow=!0},selectPic:function(){this.$refs.pic.open()},getPic:function(t){this.attr_value.attr_img=t.src_file,this.attr_value.min_img=t.min_file},setAttrValue:function(){var t=!1;if(this.$refs["addAttrValueData"].validate((function(e){t=e})),t){var e=this.attr_value,a=e.attr_value,r=e.attr_img;"string"==typeof this.rowIdx?this.attr[this.rowIndex].values.push({attr_value:a,attr_img:r}):this.$set(this.attr[this.rowIndex].values,this.rowIdx,{attr_value:a,attr_img:r}),this.updateAttr(),this.addAttrValueShow=!1}},delAttr:function(t){this.attr.splice(t,1),this.updateAttr()},delAttrValue:function(t,e){this.attr[t].values.splice(e,1),this.updateAttr()},updateAttr:function(){this.$emit("update:attr",this.attr)}}},u=d,l=(a("c933"),a("2877")),c=Object(l["a"])(u,r,i,!1,null,"848b9326",null);e["default"]=c.exports},f925:function(t,e,a){"use strict";a.r(e);var r=a("d566");e["default"]=r["default"]},ffc8:function(t,e,a){"use strict";var r=a("91b8"),i=a.n(r);i.a}}]);