(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8aff1424","chunk-31905c06","chunk-8e9b11f2","chunk-dd70e85a","chunk-f6102e1c","chunk-a5fe71de","chunk-3639d850"],{"0615":function(t,e,a){"use strict";var r=a("a82a"),i=a.n(r);i.a},"0b41":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-cascader",{staticStyle:{width:"100%"},attrs:{props:{children:"childs",label:"group_name",value:"group_id"},emitPath:!1,value:t.group_id,options:t.group},on:{"update:value":function(e){t.group_id=e},change:t.change}})],1)},i=[],n=(a("7514"),a("c5f6"),a("c40e")),o={props:{group_id:{type:[String,Number],required:!0,default:function(){return""}}},data:function(){return{group:[]}},created:function(){this.goodsGroupTree()},methods:{goodsGroupTree:function(){var t=this;Object(n["v"])().then(function(e){0==e.code&&(t.group=e.data)})},change:function(t){var e=this,a={};t.map(function(r,i){a=0==i?e.group.find(function(t){return t.group_id==r}).childs:i==t.length-1?a.find(function(t){return t.group_id==r}):a.find(function(t){return t.group_id==r}).childs}),this.$emit("update:group_id",t[t.length-1]),this.$emit("selectGroupItem",a)}}},s=o,d=(a("622a"),a("2877")),l=Object(d["a"])(s,r,i,!1,null,null,null);e["default"]=l.exports},"0d3a":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:t.title,visible:t.show,width:"50%",top:"20px","close-on-click-modal":!1},on:{"update:visible":function(e){t.show=e},closed:t.closed}},[a("div",{staticClass:"scrollBox"},[a("div",[a("el-form",{ref:"form",attrs:{"label-width":"auto",model:t.data,rules:t.rules}},[a("el-row",{attrs:{gutter:30}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"产品名称",prop:"goods_name"}},[a("el-input",{model:{value:t.data.goods_name,callback:function(e){t.$set(t.data,"goods_name",e)},expression:"data.goods_name"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"产品分组",prop:"group_id"}},[a("formClass",{attrs:{group_id:t.data.group_id},on:{"update:group_id":function(e){return t.$set(t.data,"group_id",e)},selectGroupItem:t.selectGroupItem}})],1)],1),t.isRim?a("div",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"产品介绍",prop:"intro"}},[a("el-input",{attrs:{type:"textarea",rows:3},model:{value:t.data.intro,callback:function(e){t.$set(t.data,"intro",e)},expression:"data.intro"}})],1)],1)],1):a("div",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"别名",prop:"alias"}},[a("el-input",{model:{value:t.data.alias,callback:function(e){t.$set(t.data,"alias",e)},expression:"data.alias"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"花语寓意",prop:"moral"}},[a("el-input",{model:{value:t.data.moral,callback:function(e){t.$set(t.data,"moral",e)},expression:"data.moral"}})],1)],1),t._l(t.attrsList,function(e,r){return a("el-col",{key:r,attrs:{span:12}},[a("el-form-item",{attrs:{label:e}},[a("el-input",{model:{value:t.attrsObj[e],callback:function(a){t.$set(t.attrsObj,e,a)},expression:"attrsObj[item]"}})],1)],1)}),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"主要作用",prop:"effect"}},[a("el-input",{attrs:{type:"textarea",rows:2},model:{value:t.data.effect,callback:function(e){t.$set(t.data,"effect",e)},expression:"data.effect"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"生长习性",prop:"growth_habit"}},[a("el-input",{attrs:{type:"textarea",rows:2},model:{value:t.data.growth_habit,callback:function(e){t.$set(t.data,"growth_habit",e)},expression:"data.growth_habit"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"生长休眠期",prop:"growth_period"}},[a("el-input",{attrs:{type:"textarea",rows:2},model:{value:t.data.growth_period,callback:function(e){t.$set(t.data,"growth_period",e)},expression:"data.growth_period"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"浇水换水频次",prop:"watering_frequency1"}},[a("el-input",{attrs:{type:"textarea",rows:2},model:{value:t.data.watering_frequency1,callback:function(e){t.$set(t.data,"watering_frequency1",e)},expression:"data.watering_frequency1"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"花期果期",prop:"fruiting_day"}},[a("el-input",{attrs:{type:"textarea",rows:2},model:{value:t.data.fruiting_day,callback:function(e){t.$set(t.data,"fruiting_day",e)},expression:"data.fruiting_day"}})],1)],1)],2),a("el-col",{attrs:{span:24}},[a("el-form-item",{staticStyle:{width:"47%"},attrs:{label:"产品排位",prop:"sort"}},[a("el-input",{attrs:{type:"number"},model:{value:t.data.sort,callback:function(e){t.$set(t.data,"sort",e)},expression:"data.sort"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"产品封面",prop:"cover"}},[a("formCover",{attrs:{needBase:t.startsWithHttp,cover:t.data.cover},on:{"update:cover":function(e){return t.$set(t.data,"cover",e)}}})],1)],1)],1)],1)],1),a("span",{staticClass:"dialog-footer"},[a("el-button",{on:{click:function(e){t.show=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.draftSet}},[t._v("保 存 草 稿")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1)])])},i=[],n=a("cebc"),o=(a("c5f6"),a("28a5"),a("3b2b"),a("ac6a"),a("cf2d")),s=a("901e"),d=a.n(s),l=a("c40e"),u=a("0bba"),c=a("69fe"),f=a("a3ab"),p=a("f925"),g=a("cb77"),h=a("bd5a"),m=a("86d8"),v=(a("5118"),a("3022"),{components:{baseImg:m["a"],formClass:c["default"],formAttr:f["default"],formVideo:p["default"],formCover:g["default"],formImgs:h["default"],PictureLibrary:u["a"],UE:o["a"]},props:{title:{type:String,default:function(){return"新增"}},type:{type:String,default:function(){return"add"}}},data:function(){return{show:!1,isRim:!1,data:{goods_name:"",alias:"",group_id:"",moral:"",effect:"",growth_habit:"",growth_period:"",intro:"",is_water:"0",watering_frequency1:"",fruiting_day:"",sort:0,cover:"",attrs:[]},rules:{goods_name:[{required:!0,message:"请输入产品名称",trigger:"blur"}],sort:[{required:!0,message:"请输入排序",trigger:"blur"}],group_id:[{required:!0,message:"请选择分组",trigger:"blur"}],cover:[{required:!0,message:"请选择封面",trigger:"blur"}]},htmlText:"",profitList:[],gift_value:{gift_value:""},giftRules:{gift_value:[{required:!0,message:"请输入赠品",trigger:"blur"}]},activeGift:"",addGiftValueShow:!1,addStandardGiftShow:!1,standardGiftList:[],standardGiftData:["买一送一","带盆栽好","送颗粒肥","送营养液","送有机肥","送生根粉","送菌肥","送苔藓","送砂石","送小品","送陶粒","送营养土","送田园土","送水晶泥","送花盆底座","送花盆托盘","送挂件","送彩带"],attrsObj:{},attrsList:[]}},computed:{startsWithHttp:function(){var t=/^http/;return!t.test(this.data.cover)}},methods:{selectGroupItem:function(t){var e=this,a=t.group_attrs;""==a||null==a?(this.attrsObj={},this.attrsList=[]):(this.attrsObj={},this.attrsList.map(function(t,a){e.attrsObj[t]=""}),this.attrsList=a.split(" ")),this.data.is_water=t.is_water},editGift:function(t,e){this.gift_value.gift_value=t,this.activeGift=e,this.addGiftValueShow=!0},delGift:function(t){this.data.gift.splice(t,1)},addStandardGift:function(){var t=this;console.log(this.standardGiftList),this.standardGiftList.map(function(e,a){t.data.gift.push(e)}),this.standardGiftList=[],this.addStandardGiftShow=!1},setGiftValue:function(){var t=this;this.$refs["addGiftValueData"].validate(function(e){e&&("string"==typeof t.activeGift?t.data.gift.push(t.gift_value.gift_value):(t.$set(t.data.gift,t.activeGift,t.gift_value.gift_value),t.activeGift=""),t.gift_value={gift_value:""},t.addGiftValueShow=!1)})},closed:function(){this.$refs["form"].resetFields(),this.$refs.quill.setContent(""),this.attrsObj={},this.attrsList=[]},open:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{attrs:[]};if("add"==this.type)this.draftGet();else{var e=t.append_data?JSON.parse(t.append_data):{};this.attrsObj=e.attrsObj,this.attrsList=e.attrsList,this.data=t,this.show=!0}},getProfitList:function(t){var e=this;Object(l["l"])().then(function(a){console.log(a),e.profitList=a.data,e.data.profit="add"==t?e.profitList[0].code:Number(e.data.profit)})},changPrice:function(t){console.log(t);for(var e=0;e<this.profitList.length;e++){var a=this.profitList[e];if(a.code==this.data.profit)return this.data.profit1=Math.floor(t*a.profit[0]*.01*100)/100,void(this.data.profit2=Math.floor(t*a.profit[1]*.01*100)/100)}},changeProfit:function(t){if(console.log(t),""!=this.data.sale_price)for(var e=0;e<this.profitList.length;e++){var a=this.profitList[e];if(a.code==t)return this.data.profit1=Math.floor(this.data.sale_price*a.profit[0]*.01*100)/100,void(this.data.profit2=Math.floor(this.data.sale_price*a.profit[1]*.01*100)/100)}},draftGet:function(){var t=this;Object(l["d"])().then(function(e){0==e.code&&e.data&&(t.data=Object(n["a"])({},e.data))}).finally(function(){t.show=!0})},draftSet:function(){var t=this,e=JSON.stringify(this.data);Object(l["e"])({draft:e}).then(function(e){0==e.code&&t.$message({message:"草稿保存成功",type:"success"})})},submit:function(){var t=!1;if(this.$refs["form"].validate(function(e){t=e}),t){var e=Object(n["a"])({},this.data);e.attrs=JSON.stringify(e.attrs);var a={attrsList:this.attrsList,attrsObj:this.attrsObj};switch(e.append_data=JSON.stringify(a),this.type){case"add":this.goodsAdd(e);break;case"edit":this.goodsMod(e);break}}},goodsAdd:function(t){var e=this;Object(l["o"])(t).then(function(t){0==t.code?(e.$message({message:"新增成功",type:"success"}),e.$parent.getGoodsList()):e.$message({message:t.msg||"新增失败",type:"error"})}).finally(function(){e.show=!1})},goodsMod:function(t){var e=this;Object(l["x"])(t).then(function(t){0==t.code?(e.$message({message:"修改成功",type:"success"}),e.$parent.refresh()):e.$message({message:t.msg||"修改失败",type:"error"})}).finally(function(){e.show=!1})},formatPirce:function(t){return new d.a(t).multipliedBy(new d.a(100)).toNumber()},getHtml:function(t){this.data.description=t,this.htmlText=t,console.log(t)}}}),b=v,_=(a("e1e4"),a("2877")),y=Object(_["a"])(b,r,i,!1,null,"7751cd7c",null);e["default"]=y.exports},"3b2b":function(t,e,a){var r=a("7726"),i=a("5dbc"),n=a("86cc").f,o=a("9093").f,s=a("aae3"),d=a("0bfb"),l=r.RegExp,u=l,c=l.prototype,f=/a/g,p=/a/g,g=new l(f)!==f;if(a("9e1e")&&(!g||a("79e5")(function(){return p[a("2b4c")("match")]=!1,l(f)!=f||l(p)==p||"/a/i"!=l(f,"i")}))){l=function(t,e){var a=this instanceof l,r=s(t),n=void 0===e;return!a&&r&&t.constructor===l&&n?t:i(g?new u(r&&!n?t.source:t,e):u((r=t instanceof l)?t.source:t,r&&n?d.call(t):e),a?this:c,l)};for(var h=function(t){t in l||n(l,t,{configurable:!0,get:function(){return u[t]},set:function(e){u[t]=e}})},m=o(u),v=0;m.length>v;)h(m[v++]);c.constructor=l,l.prototype=c,a("2aba")(r,"RegExp",l)}a("7a56")("RegExp")},5118:function(t,e,a){(function(t){var r="undefined"!==typeof t&&t||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function n(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new n(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new n(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},a("6017"),e.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof t&&t.clearImmediate||this&&this.clearImmediate}).call(this,a("c8ba"))},"5d19":function(t,e,a){},6017:function(t,e,a){(function(t,e){(function(t,a){"use strict";if(!t.setImmediate){var r,i=1,n={},o=!1,s=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?p():g()?h():t.MessageChannel?m():s&&"onreadystatechange"in s.createElement("script")?v():b(),d.setImmediate=l,d.clearImmediate=u}function l(t){"function"!==typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),a=0;a<e.length;a++)e[a]=arguments[a+1];var o={callback:t,args:e};return n[i]=o,r(i),i++}function u(t){delete n[t]}function c(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(a,r);break}}function f(t){if(o)setTimeout(f,0,t);else{var e=n[t];if(e){o=!0;try{c(e)}finally{u(t),o=!1}}}}function p(){r=function(t){e.nextTick(function(){f(t)})}}function g(){if(t.postMessage&&!t.importScripts){var e=!0,a=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=a,e}}function h(){var e="setImmediate$"+Math.random()+"$",a=function(a){a.source===t&&"string"===typeof a.data&&0===a.data.indexOf(e)&&f(+a.data.slice(e.length))};t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),r=function(a){t.postMessage(e+a,"*")}}function m(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;f(e)},r=function(e){t.port2.postMessage(e)}}function v(){var t=s.documentElement;r=function(e){var a=s.createElement("script");a.onreadystatechange=function(){f(e),a.onreadystatechange=null,t.removeChild(a),a=null},t.appendChild(a)}}function b(){r=function(t){setTimeout(f,0,t)}}})("undefined"===typeof self?"undefined"===typeof t?this:t:self)}).call(this,a("c8ba"),a("f28c"))},"622a":function(t,e,a){"use strict";var r=a("5d19"),i=a.n(r);i.a},"69fe":function(t,e,a){"use strict";a.r(e);var r=a("0b41");e["default"]=r["default"]},"91b8":function(t,e,a){},9833:function(t,e,a){},"9a15":function(t,e,a){},a3ab:function(t,e,a){"use strict";a.r(e);var r=a("ed85");e["default"]=r["default"]},a82a:function(t,e,a){},ae1a:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("picture-library",{ref:"pic",attrs:{appendToBody:!0},on:{getData:t.getData}}),t.cover?a("div",{staticClass:"img-wrap"},[a("div",{staticClass:"img-item"},[a("i",{staticClass:"el-icon-close img-close",on:{click:t.del_cover}}),a("BaseElImage",{attrs:{custom_src:t.cover,previewList:[t.cover],needBase:t.needBase,fit:"cover"}})],1)]):a("div",{staticClass:"img-add",on:{click:function(e){return t.$refs.pic.open(!1)}}},[a("i",{staticClass:"el-icon-plus img-add-icon"})])],1)},i=[],n=a("0bba"),o={components:{PictureLibrary:n["a"]},props:{cover:{type:[Object,String],default:function(){return""}},needBase:{type:Boolean,default:function(){return!1}}},data:function(){return{}},methods:{getData:function(t){console.log(t),this.$emit("update:cover",t.src_file)},del_cover:function(){this.$emit("update:cover","")}}},s=o,d=(a("0615"),a("2877")),l=Object(d["a"])(s,r,i,!1,null,"96fb29be",null);e["default"]=l.exports},bd5a:function(t,e,a){"use strict";a.r(e);var r=a("e436");e["default"]=r["default"]},c40e:function(t,e,a){"use strict";a.d(e,"c",function(){return n}),a.d(e,"m",function(){return o}),a.d(e,"i",function(){return s}),a.d(e,"J",function(){return d}),a.d(e,"G",function(){return l}),a.d(e,"I",function(){return u}),a.d(e,"F",function(){return c}),a.d(e,"w",function(){return f}),a.d(e,"t",function(){return p}),a.d(e,"r",function(){return g}),a.d(e,"u",function(){return h}),a.d(e,"s",function(){return m}),a.d(e,"o",function(){return v}),a.d(e,"v",function(){return b}),a.d(e,"x",function(){return _}),a.d(e,"q",function(){return y}),a.d(e,"p",function(){return w}),a.d(e,"A",function(){return S}),a.d(e,"z",function(){return A}),a.d(e,"y",function(){return k}),a.d(e,"B",function(){return x}),a.d(e,"n",function(){return L}),a.d(e,"K",function(){return $}),a.d(e,"L",function(){return V}),a.d(e,"g",function(){return G}),a.d(e,"h",function(){return D}),a.d(e,"a",function(){return C}),a.d(e,"b",function(){return I}),a.d(e,"f",function(){return O}),a.d(e,"j",function(){return T}),a.d(e,"H",function(){return j}),a.d(e,"d",function(){return P}),a.d(e,"e",function(){return M}),a.d(e,"l",function(){return R}),a.d(e,"k",function(){return E}),a.d(e,"C",function(){return B}),a.d(e,"E",function(){return N}),a.d(e,"D",function(){return q});var r=a("365c"),i={groupList:"groupList",groupAdd:"groupAdd",groupMod:"groupMod",groupDel:"groupDel",goodsGroupList:"groupList",goodsGroupAdd:"groupAdd",goodsGroupMod:"groupMod",goodsGroupDel:"groupDel",goodsGroupTree:"groupTree",goodsList:"list",goodsAdd:"add",goodsMod:"mod",goodsDel:"del",goodsAttrSet:"attrSet",goodsSkuSet:"skuSet",goodsSkuGet:"skuGet",goodsRun:"run",goodsStop:"stop",topList:"topList",setTop:"topSet",topCancel:"topCancel",applyList:"applyList",applyPool:"applyPool",applyCalc:"applyCalc",applyPut:"applyPut",fixPut:"fixPut",fixList:"fixList",setGoodsTop:"topSet",draftGet:"draftGet",draftSet:"draftSet",profitList:"profitList",imgGet:"imgsGet",setImgs:"imgsSet",serveGet:"serviceGet",setServe:"serviceSet",getAttrs:"attrs",getSkuShops:"skuShops",checkGoods:"check"};function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.checkGoods,t,"gm/goods")}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.getSkuShops,t,"gm/goods")}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.getAttrs,t,"gm/goods")}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.setServe,t,"gm/goods")}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.serveGet,t,"gm/goods")}function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.setImgs,t,"gm/goods")}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.imgGet,t,"gm/goods")}function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.goodsList,t,"gm/goods")}function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.goodsGroupList,t,"gm/goods")}function g(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.goodsGroupAdd,t,"gm/goods")}function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.goodsGroupMod,t,"gm/goods")}function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.goodsGroupDel,t,"gm/goods")}function v(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.goodsAdd,t,"gm/goods")}function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.goodsGroupTree,t,"gm/goods")}function _(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.goodsMod,t,"gm/goods")}function y(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.goodsDel,t,"gm/goods")}function w(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.goodsAttrSet,t,"gm/goods")}function S(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.goodsSkuSet,t,"gm/goods")}function A(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.goodsSkuGet,t,"gm/goods")}function k(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.goodsRun,t,"gm/goods")}function x(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.goodsStop,t,"gm/goods")}function L(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].get(i.topList,t,"gm/goods")}function $(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].get(i.setTop,t,"gm/goods")}function V(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].get(i.topCancel,t,"gm/goods")}function G(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.applyList,t,"gm/goods")}function D(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.applyPool,t,"gm/goods")}function C(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.applyCalc,t,"gm/goods")}function I(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.applyPut,t,"gm/goods")}function O(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.fixPut,t,"gm/goods")}function T(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.fixList,t,"gm/goods")}function j(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.setGoodsTop,t,"gm/goods")}function P(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.draftGet,t,"gm/goods")}function M(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.draftSet,t,"gm/goods")}function R(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.profitList,t,"gm/goods")}function E(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.groupList,t,"gm/goods")}function B(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.groupAdd,t,"gm/goods")}function N(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.groupMod,t,"gm/goods")}function q(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(i.groupDel,t,"gm/goods")}},c68a:function(t,e,a){},c933:function(t,e,a){"use strict";var r=a("c68a"),i=a.n(r);i.a},ca8e:function(t,e,a){"use strict";var r=a("9a15"),i=a.n(r);i.a},cb77:function(t,e,a){"use strict";a.r(e);var r=a("ae1a");e["default"]=r["default"]},d566:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("aio-vdo-file-livrary",{ref:"aiovio",attrs:{appendToBody:!0,type:"视频"},on:{getData:t.getData}}),a("el-link",{attrs:{type:"primary",underline:!1},on:{click:function(e){return t.$refs.aiovio.open("video")}}},[t.video?a("span",[t._v(t._s(t.video))]):a("span",[t._v("选择视频")])])],1)},i=[],n=(a("c5f6"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"aiovio"},[a("el-dialog",{attrs:{title:t.type,visible:t.dialogVisible,width:"80vw","append-to-body":t.appendToBody,"before-close":t.handleClose,top:"20px"},on:{"update:visible":function(e){t.dialogVisible=e}}},["视频"==t.type?a("div",{staticClass:"pageContent"},t._l(t.pageData.list,function(e,r){return a("div",{key:r,staticClass:"box-card"},[a("div",{staticClass:"pic",on:{click:function(a){return t.toPre(e.file)}}},[a("el-image",{staticStyle:{width:"100%",height:"160px"},attrs:{src:t.base_img+e.cover,fit:"cover"}}),a("div",{staticClass:"name"},[t._v("\n            "+t._s(e.file_name)+"\n          ")])],1),a("div",{staticClass:"controlBtn iconStyel",on:{click:function(a){return t.select(e)}}},[a("i",{staticClass:"el-icon-check"}),t._v("选择\n        ")])])}),0):t._e(),""==t.type?a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.pageData.list}},[a("el-table-column",{attrs:{prop:"title",label:"标题",width:"150"}}),a("el-table-column",{attrs:{prop:"file_name",label:"文件名称"}}),a("el-table-column",{attrs:{prop:"file_size",label:"文件大小",width:"80"}}),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间",width:"150"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.select(e.row)}}},[t._v("选择")])]}}],null,!1,767485717)})],1):t._e(),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next",total:t.pageData.total_count,"page-count":t.pageData.page_count,"page-size":t.pageData.page_size},on:{"current-change":t.getPageData}})],1)],1)],1)}),o=[],s=a("cebc"),d=a("d1eb"),l=a("2f62"),u={getAudioList:d["l"],getVideoList:d["r"],getFileList:d["m"]},c={props:{type:{type:String,required:!0},appendToBody:{type:Boolean,default:function(){return!1}}},data:function(){return{dialogVisible:!1,pageData:{}}},computed:Object(s["a"])({},Object(l["b"])(["base_img"]),{mtd:function(){switch(this.type){case"音频":return"getAudioList";case"视频":return"getVideoList";default:return"getFileList"}}}),methods:{toPre:function(t){window.open(this.base_img+t,"_blank")},select:function(t){this.$emit("getData",t),this.dialogVisible=!1},open:function(){var t=this;this.dialogVisible=!0,this.$nextTick(function(){t.getPageData(1)})},handleClose:function(){this.dialogVisible=!1,this.pageData={}},getPageData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;u[this.mtd]({group_id:0,page:e}).then(function(e){0==e.code&&(t.pageData=e.data)},function(t){})}}},f=c,p=(a("ca8e"),a("2877")),g=Object(p["a"])(f,n,o,!1,null,"57c985d2",null),h=g.exports,m={components:{AioVdoFileLivrary:h},props:{video:{type:[String,Number]}},data:function(){return{}},methods:{getData:function(t){console.log(t),this.$emit("update:video",t.file)}}},v=m,b=Object(p["a"])(v,r,i,!1,null,null,null);e["default"]=b.exports},e1e4:function(t,e,a){"use strict";var r=a("9833"),i=a.n(r);i.a},e436:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("picture-library",{ref:"pic",attrs:{appendToBody:!0},on:{getData:t.getData}}),a("div",{staticClass:"img-wrap"},[t._l(t.imgs,function(e,r){return a("div",{key:r,staticClass:"img-item"},[a("i",{staticClass:"el-icon-close img-close",on:{click:function(e){return t.del_imgs(r)}}}),a("BaseElImage",{attrs:{custom_src:e,previewList:t.imgs,fit:"cover"}})],1)}),a("div",{staticClass:"img-add",on:{click:function(e){return t.$refs.pic.open(!1)}}},[a("i",{staticClass:"el-icon-plus img-add-icon"})])],2)],1)},i=[],n=a("0bba"),o={components:{PictureLibrary:n["a"]},props:{imgs:{type:Array,default:function(){return[]}}},data:function(){return{}},methods:{getData:function(t){this.imgs.push(t.src_file),this.$emit("update:imgs",this.imgs)},del_imgs:function(t){this.imgs.splice(t,1),console.log(this.imgs,t),this.$emit("update:imgs",this.imgs)}}},s=o,d=(a("ffc8"),a("2877")),l=Object(d["a"])(s,r,i,!1,null,"dfc7a16a",null);e["default"]=l.exports},ed85:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.hasAttrs,expression:"hasAttrs"}],attrs:{icon:"el-icon-plus",type:"primary",size:"mini"},on:{click:t.showAddStandardAttr}},[t._v('"参数选择"定义属性')]),a("el-popover",{attrs:{placement:"right",width:"400",trigger:"click"},model:{value:t.ShowAdd,callback:function(e){t.ShowAdd=e},expression:"ShowAdd"}},[a("div",{staticClass:"addAttrWrap"},[a("el-input",{attrs:{size:"mini",width:"100px",placeholder:"请输入规格名称"},model:{value:t.attr_item.attr_name,callback:function(e){t.$set(t.attr_item,"attr_name",e)},expression:"attr_item.attr_name"}}),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",size:"mini"},on:{click:t.addAttrItem}},[t._v("添加")])],1),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{slot:"reference",icon:"el-icon-plus",type:"primary",size:"mini"},slot:"reference"},[t._v('"文字描述"定义属性')])],1),a("el-table",{staticStyle:{"margin-top":"10px"},attrs:{data:t.attr,border:""}},[a("el-table-column",{attrs:{prop:"attr_name",label:"规格名称",width:"200"}}),a("el-table-column",{attrs:{prop:"attr_value",label:"规格值"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._l(e.row.values,function(r,i){return a("el-tag",{key:r.attr_value,staticClass:"tag",attrs:{name:r.attr_value,type:"info","disable-transitions":!0,closable:""},on:{click:function(a){return t.editAttrValue(r,e.$index,i)},close:function(a){return t.delAttrValue(e.$index,i)}}},[t._v("\n          "+t._s(r.attr_value)+"\n        ")])}),t.haveStandardValue(e.row.attr_name)?a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini",plain:""},on:{click:function(a){return t.addStandardValueDialog(e.$index,e.row.attr_name)}}},[t._v('"参数选择"定义属性值')]):t._e(),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini",plain:""},on:{click:function(a){return t.addAttrDialog(e.$index)}}},[t._v('"文字描述"定义属性值')])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-link",{staticClass:"attr_link",attrs:{underline:!1},on:{click:function(a){return t.delAttr(e.$index)}}},[t._v("删除")])]}}])})],1),a("el-dialog",{attrs:{"append-to-body":"",title:"属性值",visible:t.addAttrValueShow,width:"30%"},on:{"update:visible":function(e){t.addAttrValueShow=e},closed:t.closed}},[a("el-form",{ref:"addAttrValueData",attrs:{"label-width":"auto",model:t.attr_value,rules:t.rules}},[a("el-form-item",{attrs:{label:"规格值",prop:"attr_value"}},[a("el-input",{model:{value:t.attr_value.attr_value,callback:function(e){t.$set(t.attr_value,"attr_value",e)},expression:"attr_value.attr_value"}})],1)],1),a("picture-library",{ref:"pic",attrs:{appendToBody:!0},on:{getData:t.getPic}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.addAttrValueShow=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.setAttrValue}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{"append-to-body":"",top:"20px",title:"标准属性值",visible:t.addStandardAttrShow},on:{"update:visible":function(e){t.addStandardAttrShow=e},closed:t.closed}},[a("div",{staticStyle:{"margin-bottom":"20px"}},[a("el-radio-group",{model:{value:t.group_id,callback:function(e){t.group_id=e},expression:"group_id"}},[a("el-radio-button",{attrs:{label:"1"}},[t._v("绿植类")]),a("el-radio-button",{attrs:{label:"2"}},[t._v("非绿植类")])],1)],1),a("el-row",[a("el-col",{staticStyle:{"border-right":"1px solid #ddd"},attrs:{span:6}},[a("div",{staticClass:"scrollBox"},[a("el-radio-group",{model:{value:t.standarAttr,callback:function(e){t.standarAttr=e},expression:"standarAttr"}},t._l(t.attrsNames,function(e,r){return a("el-radio",{key:r,attrs:{label:e},on:{change:t.attrsNameChange}},[t._v(t._s(e))])}),1)],1)]),a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:18}},[a("el-checkbox-group",{model:{value:t.standardValueList,callback:function(e){t.standardValueList=e},expression:"standardValueList"}},t._l(t.valueData,function(t,e){return a("el-checkbox",{key:e,staticStyle:{"margin-bottom":"10px"},attrs:{label:t}})}),1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.standarAttr="",t.standardValueList=[],t.valueData=[],t.addStandardAttrShow=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.addStandardAttrAndValue}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{"append-to-body":"",title:'"参数选择"定义属性值',visible:t.addStandardValueShow},on:{"update:visible":function(e){t.addStandardValueShow=e},closed:t.closed}},[a("el-checkbox-group",{model:{value:t.standardValueList,callback:function(e){t.standardValueList=e},expression:"standardValueList"}},t._l(t.valueData,function(t,e){return a("el-checkbox",{key:e,staticStyle:{"margin-bottom":"10px"},attrs:{label:t}})}),1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.standardValueList=[],t.addStandardValueShow=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.addStandardValue}},[t._v("确 定")])],1)],1)],1)},i=[],n=a("cebc"),o=(a("ac6a"),a("7f7f"),a("7514"),a("0bba")),s=a("c40e"),d={components:{PictureLibrary:o["a"]},watch:{group_id:{handler:function(t){t&&this.getAttrs()},immediate:!0}},props:{attr:{type:[Array,String],required:!0,default:function(){return[]}}},data:function(){return{group_id:"1",ShowAdd:!1,addAttrValueShow:!1,data:[],rowIndex:"",rowIdx:"",attr_item:{attr_name:"",values:[]},attr_value:{attr_value:"",attr_img:"",min_img:""},rules:{attr_value:[{required:!0,message:"请输入规格值",trigger:"blur"}]},addStandardAttrShow:!1,standardAttrList:[],standardRadio:{},attrsData:[],hasAttrs:!1,addStandardValueShow:!1,standardRowName:"",standardValueList:[],valueData:[],attrsNames:[],standarAttr:""}},methods:{addStandardAttrAndValue:function(){if(""!=this.standarAttr)if(0!=this.standardValueList.length){var t=[];this.standardValueList.map(function(e,a){t.push({attr_value:e})}),this.attr.push({attr_name:this.standarAttr,values:t}),this.standarAttr="",this.standardValueList=[],this.valueData=[],this.addStandardAttrShow=!1}else this.$message({message:"请选择属性值",type:"warning"});else this.$message({message:"请选择属性",type:"warning"})},attrsNameChange:function(){var t=this;this.standardValueList=[];var e=this.attrsData.find(function(e){return Array.isArray(e.name)?e.name.some(function(e){return e==t.standarAttr})?e:void 0:e.name==t.standarAttr});this.valueData=e.value},getAttrs:function(){var t=this;Object(s["i"])({group_id:this.group_id}).then(function(e){e.data?(t.hasAttrs=!0,t.attrsData=e.data,t.attrsNames=t.attrsData.flatMap(function(t){return t.name})):t.hasAttrs=!1,t.$emit("changeRim",e.msg)})},handleCheckChange:function(t,e){if(console.log(this.standardRadio[e],!this.standardRadio[e]),1!=e.length)if(t){if(!this.standardRadio[e]){var a=this.standardAttrList.indexOf(e);console.log(a,"下标"),this.standardAttrList.splice(a,1)}}else this.standardRadio[e]=null},handleRadioChange:function(t,e){this.standardAttrList.some(function(t){return t==e})||this.standardAttrList.push(e)},addStandardValue:function(){var t=this;this.standardValueList.map(function(e,a){t.attr[t.rowIndex].values.push({attr_value:e})}),this.standardValueList=[],this.addStandardValueShow=!1},haveStandardValue:function(t){var e=this.attrsData.some(function(e){return Array.isArray(e.name)?e.name.some(function(e){return e==t})?e:void 0:e.name==t});return e},addStandardValueDialog:function(t,e){var a=this;this.standardRowName=e,this.rowIndex=t;var r=this.attrsData.find(function(t){return Array.isArray(t.name)?t.name.some(function(t){return t==a.standardRowName})?t:void 0:t.name==a.standardRowName});console.log(r),r?(this.valueData=r.value,this.addStandardValueShow=!0):this.$message({message:'此规格无"参数选择"定义属性值',type:"warning"})},addStandardAttr:function(){var t=this;this.standardAttrList.map(function(e,a){1!=e.length?t.standardRadio[e]&&t.attr.push({attr_name:t.standardRadio[e],values:[]}):t.attr.push({attr_name:e[0],values:[]})}),this.standardAttrList=[],this.standardRadio={},this.addStandardAttrShow=!1},showAddStandardAttr:function(){this.addStandardAttrShow=!0,this.ShowAdd=!1,console.log(this.group_id)},closed:function(){this.rowIndex="",this.rowIdx="",this.attr_value.min_img="",this.attr_value.attr_img="",this.attr_value.attr_value=""},addAttrItem:function(){this.attr_item.attr_name&&(this.attr.push(Object(n["a"])({},this.attr_item)),this.attr_item={attr_name:"",values:[]},this.ShowAdd=!1,this.updateAttr())},addAttrDialog:function(t){this.rowIndex=t,this.addAttrValueShow=!0},editAttrValue:function(t,e,a){this.attr_value=Object(n["a"])({},t),this.rowIndex=e,this.rowIdx=a,this.addAttrValueShow=!0},selectPic:function(){this.$refs.pic.open()},getPic:function(t){this.attr_value.attr_img=t.src_file,this.attr_value.min_img=t.min_file},setAttrValue:function(){var t=!1;if(this.$refs["addAttrValueData"].validate(function(e){t=e}),t){var e=this.attr_value,a=e.attr_value,r=e.attr_img;"string"==typeof this.rowIdx?this.attr[this.rowIndex].values.push({attr_value:a,attr_img:r}):this.$set(this.attr[this.rowIndex].values,this.rowIdx,{attr_value:a,attr_img:r}),this.updateAttr(),this.addAttrValueShow=!1}},delAttr:function(t){this.attr.splice(t,1),this.updateAttr()},delAttrValue:function(t,e){this.attr[t].values.splice(e,1),this.updateAttr()},updateAttr:function(){this.$emit("update:attr",this.attr)}}},l=d,u=(a("c933"),a("2877")),c=Object(u["a"])(l,r,i,!1,null,"848b9326",null);e["default"]=c.exports},f925:function(t,e,a){"use strict";a.r(e);var r=a("d566");e["default"]=r["default"]},ffc8:function(t,e,a){"use strict";var r=a("91b8"),i=a.n(r);i.a}}]);