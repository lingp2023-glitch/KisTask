(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-35d9416a"],{"0196":function(e,t,i){},"0c99":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"register"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.showSlide,expression:"showSlide"}],staticClass:"slideShadow"},[i("div",{staticClass:"slideSty"},[i("slide-verify",{ref:"slideDiv",attrs:{sliderText:e.text,w:350,h:175},on:{success:e.onSuccess,fail:e.onFail}}),i("div",{staticClass:"iconBtn"},[i("i",{staticClass:"el-icon-circle-close",on:{click:function(t){e.showSlide=!1}}}),i("i",{staticClass:"el-icon-refresh",on:{click:e.refresh}})])],1)]),i("div",{staticClass:"actionBar"},[i("div",{staticClass:"titleLogo"},[i("img",{staticClass:"logo",attrs:{src:e.logo,alt:""},on:{click:e.toLogin}}),i("h1",{staticClass:"title",on:{click:e.toLogin}},[e._v("kisTask")]),i("div",{staticClass:"backLogin"},[i("el-link",{attrs:{type:"primary"},on:{click:e.toLogin}},[e._v("返回登录")])],1)]),i("div",{staticClass:"formBox"},[i("div",{staticStyle:{"font-size":"22px","margin-bottom":"10px"}},[e._v("注册账号")]),i("el-form",{ref:"registerForm",attrs:{rules:e.rules,model:e.ruleForm}},[i("el-form-item",{attrs:{prop:"phone"}},[i("el-input",{attrs:{placeholder:"请输入您的手机号码","prefix-icon":"el-icon-mobile-phone"},model:{value:e.ruleForm.phone,callback:function(t){e.$set(e.ruleForm,"phone",t)},expression:"ruleForm.phone"}})],1),i("el-form-item",{attrs:{prop:"code"}},[i("div",{staticClass:"getCode"},[i("el-input",{attrs:{placeholder:"输入短信验证码","prefix-icon":"el-icon-message"},model:{value:e.ruleForm.code,callback:function(t){e.$set(e.ruleForm,"code",t)},expression:"ruleForm.code"}}),i("div",{staticClass:"getMes"},[i("el-button",{directives:[{name:"show",rawName:"v-show",value:e.canSend,expression:"canSend"}],attrs:{type:"primary"},on:{click:e.getMessage}},[e._v("获取验证码")]),i("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.canSend,expression:"!canSend"}],attrs:{type:"primary",disabled:""}},[e._v(e._s(e.count)+"秒后获取")]),i("a",{staticStyle:{"margin-left":"5px","margin-top":"3px",cursor:"pointer"}},[e._v("收不到短信？")])],1)],1)]),i("el-form-item",{attrs:{prop:"password"}},[i("el-input",{attrs:{placeholder:"设置至少六位密码","prefix-icon":"el-icon-unlock","show-password":""},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),i("el-form-item",{attrs:{prop:"confirmPassword"}},[i("el-input",{attrs:{placeholder:"再次输入以确认密码","prefix-icon":"el-icon-unlock","show-password":""},model:{value:e.ruleForm.confirmPassword,callback:function(t){e.$set(e.ruleForm,"confirmPassword",t)},expression:"ruleForm.confirmPassword"}})],1)],1),i("el-button",{staticClass:"nextBtn",attrs:{type:"primary"},on:{click:function(t){return e.handleRegister()}}},[e._v("提交注册")]),i("div",{staticClass:"clause"},[i("el-checkbox",{model:{value:e.clauseChecked,callback:function(t){e.clauseChecked=t},expression:"clauseChecked"}}),i("span",[e._v("我已阅读并接受")]),i("el-link",{attrs:{type:"primary"}},[e._v("《用户协议》")])],1)],1)])])},r=[],n=i("bf84"),o=i("7ded"),a={data:function(){var e=this,t=function(t,i,s){""===i?s(new Error("请再次输入密码")):i!==e.ruleForm.password?s(new Error("两次输入密码不一致!")):s()};return{canSend:!0,count:0,timer:null,text:"向右滑动",showSlide:!1,logo:i("4ffd"),ruleForm:{phone:"",code:"",password:"",confirmPassword:""},rules:{phone:[{required:!0,message:"请输入您的手机号码",trigger:"blur"},{min:11,max:11,message:"请输入11位手机号",trigger:"blur"}],code:[{required:!0,message:"请输入短信验证码",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"请设置至少六位密码",trigger:"blur"}],confirmPassword:[{validator:t,trigger:"blur"}]},clauseChecked:!1}},mounted:function(){},methods:{onSuccess:function(){var e=this;this.showSlide=!1,console.log("发送验证码"),Object(o["j"])({phone:this.ruleForm.phone}).then((function(t){e.$message({type:"success",message:"短信已发送，请注意查看!"})}));var t=60;this.timer||(this.count=t,this.canSend=!1,this.timer=setInterval((function(){e.count>0&&e.count<=t?e.count--:(e.canSend=!0,clearInterval(e.timer),e.timer=null)}),1e3))},onFail:function(){this.$message.error("验证失败")},refresh:function(){this.$refs.slideDiv.reset()},getMessage:function(){var e=this;console.log("点击了获取验证码"),this.$refs.registerForm.validateField("phone",(function(t){if(0!=t.length)return!1;e.showSlide=!0}))},handleRegister:function(){var e=this;console.log("点击了提交注册"),this.$refs.registerForm.validate((function(t){if(!t)return!1;if(e.clauseChecked){var i=e.ruleForm,s=i.phone,r=i.code,n=i.password;console.log("提交提交"),Object(o["i"])({phone:s,code:r,password:n}).then((function(t){0==t.code&&(e.$message({type:"success",message:"注册成功，返回登录页面!"}),e.toLogin())}))}else e.$message({type:"warning",message:"请先同意用户协议!",offset:570})}))},toLogin:function(){this.$router.push({path:"/login"})}},components:{SlideVerify:n["a"]}},c=a,l=(i("704a"),i("9172"),i("2877")),u=Object(l["a"])(c,s,r,!1,null,"5b1ee867",null);t["default"]=u.exports},"11e9":function(e,t,i){var s=i("52a7"),r=i("4630"),n=i("6821"),o=i("6a99"),a=i("69a8"),c=i("c69a"),l=Object.getOwnPropertyDescriptor;t.f=i("9e1e")?l:function(e,t){if(e=n(e),t=o(t,!0),c)try{return l(e,t)}catch(i){}if(a(e,t))return r(!s.f.call(e,t),e[t])}},"355f":function(e,t,i){e.exports=i.p+"static/img/slide-2.d358243b.jpg"},5492:function(e,t,i){e.exports=i.p+"static/img/slide-3.80666881.jpg"},"59f5":function(e,t,i){},"5dbc":function(e,t,i){var s=i("d3f4"),r=i("8b97").set;e.exports=function(e,t,i){var n,o=t.constructor;return o!==i&&"function"==typeof o&&(n=o.prototype)!==i.prototype&&s(n)&&r&&r(e,n),e}},"69a7":function(e,t,i){e.exports=i.p+"static/img/slide-0.6e5db33c.jpg"},"704a":function(e,t,i){"use strict";var s=i("59f5"),r=i.n(s);r.a},"71c4":function(e,t,i){e.exports=i.p+"static/img/slide-1.a976180d.jpg"},"8b97":function(e,t,i){var s=i("d3f4"),r=i("cb7c"),n=function(e,t){if(r(e),!s(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,s){try{s=i("9b43")(Function.call,i("11e9").f(Object.prototype,"__proto__").set,2),s(e,[]),t=!(e instanceof Array)}catch(r){t=!0}return function(e,i){return n(e,i),t?e.__proto__=i:s(e,i),e}}({},!1):void 0),check:n}},9093:function(e,t,i){var s=i("ce10"),r=i("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return s(e,r)}},9172:function(e,t,i){"use strict";var s=i("ecb3"),r=i.n(s);r.a},a8fb:function(e,t,i){var s={"./slide-0.jpg":"69a7","./slide-1.jpg":"71c4","./slide-2.jpg":"355f","./slide-3.jpg":"5492","./slide-4.jpg":"c017"};function r(e){var t=n(e);return i(t)}function n(e){var t=s[e];if(!(t+1)){var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}return t}r.keys=function(){return Object.keys(s)},r.resolve=n,e.exports=r,r.id="a8fb"},aa77:function(e,t,i){var s=i("5ca1"),r=i("be13"),n=i("79e5"),o=i("fdef"),a="["+o+"]",c="​",l=RegExp("^"+a+a+"*"),u=RegExp(a+a+"*$"),d=function(e,t,i){var r={},a=n((function(){return!!o[e]()||c[e]()!=c})),l=r[e]=a?t(h):o[e];i&&(r[i]=l),s(s.P+s.F*a,"String",r)},h=d.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(u,"")),e};e.exports=d},b047:function(e,t,i){"use strict";var s=i("0196"),r=i.n(s);r.a},bf84:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"slide-verify",attrs:{id:"slideVerify",onselectstart:"return false;"}},[i("canvas",{ref:"canvas",attrs:{width:e.w,height:e.h}}),i("div",{staticClass:"slide-verify-refresh-icon",on:{click:e.refresh}}),i("canvas",{ref:"block",staticClass:"slide-verify-block",attrs:{width:e.w,height:e.h}}),i("div",{staticClass:"slide-verify-slider",class:{"container-active":e.containerActive,"container-success":e.containerSuccess,"container-fail":e.containerFail}},[i("div",{staticClass:"slide-verify-slider-mask",style:{width:e.sliderMaskWidth}},[i("div",{staticClass:"slide-verify-slider-mask-item",style:{left:e.sliderLeft},on:{mousedown:e.sliderDown,touchstart:e.touchStartEvent,touchmove:e.touchMoveEvent,touchend:e.touchEndEvent}},[i("i",{staticClass:"el-icon-arrow-right"})])]),i("span",{staticClass:"slide-verify-slider-text"},[e._v(e._s(e.sliderText))])])])},r=[],n=(i("c5f6"),Math.PI);function o(e,t){return e+t}function a(e){return e*e}var c={name:"SlideVerify",props:{l:{type:Number,default:42},r:{type:Number,default:10},w:{type:Number,default:310},h:{type:Number,default:155},sliderText:{type:String,default:"Slide filled right"}},data:function(){return{containerActive:!1,containerSuccess:!1,containerFail:!1,canvasCtx:null,blockCtx:null,block:null,block_x:void 0,block_y:void 0,L:this.l+2*this.r+3,img:void 0,originX:void 0,originY:void 0,isMouseDown:!1,trail:[],sliderLeft:0,sliderMaskWidth:0}},mounted:function(){this.init()},methods:{init:function(){this.initDom(),this.initImg(),this.bindEvents()},initDom:function(){this.block=this.$refs.block,this.canvasCtx=this.$refs.canvas.getContext("2d"),this.blockCtx=this.block.getContext("2d")},initImg:function(){var e=this,t=this.createImg((function(){e.drawBlock(),e.canvasCtx.drawImage(t,0,0,e.w,e.h),e.blockCtx.drawImage(t,0,0,e.w,e.h);var i=e.block_x,s=e.block_y,r=e.r,n=e.L,o=s-2*r-1,a=e.blockCtx.getImageData(i,o,n,n);e.block.width=n,e.blockCtx.putImageData(a,0,o)}));this.img=t},drawBlock:function(){this.block_x=this.getRandomNumberByRange(this.L+10,this.w-(this.L+10)),this.block_y=this.getRandomNumberByRange(10+2*this.r,this.h-(this.L+10)),this.draw(this.canvasCtx,this.block_x,this.block_y,"fill"),this.draw(this.blockCtx,this.block_x,this.block_y,"clip")},draw:function(e,t,i,s){var r=this.l,o=this.r;e.beginPath(),e.moveTo(t,i),e.arc(t+r/2,i-o+2,o,.72*n,2.26*n),e.lineTo(t+r,i),e.arc(t+r+o-2,i+r/2,o,1.21*n,2.78*n),e.lineTo(t+r,i+r),e.lineTo(t,i+r),e.arc(t+o-2,i+r/2,o+.4,2.76*n,1.24*n,!0),e.lineTo(t,i),e.lineWidth=2,e.fillStyle="rgba(255, 255, 255, 0.8)",e.strokeStyle="rgba(255, 255, 255, 0.8)",e.stroke(),e[s](),e.globalCompositeOperation="xor"},createImg:function(e){var t=this,i=document.createElement("img");return i.crossOrigin="Anonymous",i.onload=e,i.onerror=function(){i.src=t.getRandomImg()},i.src=this.getRandomImg(),i},getRandomImg:function(){return i("a8fb")("./slide-".concat(this.getRandomNumberByRange(0,4),".jpg"))},getRandomNumberByRange:function(e,t){return Math.round(Math.random()*(t-e)+e)},refresh:function(){this.reset(),this.$emit("refresh")},sliderDown:function(e){this.originX=e.clientX,this.originY=e.clientY,this.isMouseDown=!0},touchStartEvent:function(e){this.originX=e.changedTouches[0].pageX,this.originY=e.changedTouches[0].pageY,this.isMouseDown=!0},bindEvents:function(){var e=this;document.addEventListener("mousemove",(function(t){if(!e.isMouseDown)return!1;var i=t.clientX-e.originX,s=t.clientY-e.originY;if(i<0||i+38>=e.w)return!1;e.sliderLeft=i+"px";var r=(e.w-40-20)/(e.w-40)*i;e.block.style.left=r+"px",e.containerActive=!0,e.sliderMaskWidth=i+"px",e.trail.push(s)})),document.addEventListener("mouseup",(function(t){if(!e.isMouseDown)return!1;if(e.isMouseDown=!1,t.clientX===e.originX)return!1;e.containerActive=!1;var i=e.verify(),s=i.spliced,r=i.TuringTest;s?r?(e.containerSuccess=!0,e.$emit("success")):(e.containerFail=!0,e.sliderText="try again",e.reset()):(e.containerFail=!0,e.$emit("fail"),setTimeout((function(){e.reset()}),1e3))}))},touchMoveEvent:function(e){if(!this.isMouseDown)return!1;var t=e.changedTouches[0].pageX-this.originX,i=e.changedTouches[0].pageY-this.originY;if(t<0||t+38>=this.w)return!1;this.sliderLeft=t+"px";var s=(this.w-40-20)/(this.w-40)*t;this.block.style.left=s+"px",this.containerActive=!0,this.sliderMaskWidth=t+"px",this.trail.push(i)},touchEndEvent:function(e){var t=this;if(!this.isMouseDown)return!1;if(this.isMouseDown=!1,e.changedTouches[0].pageX===this.originX)return!1;this.containerActive=!1;var i=this.verify(),s=i.spliced,r=i.TuringTest;s?r?(this.containerSuccess=!0,this.$emit("success")):(this.containerFail=!0,this.sliderText="try again",this.reset()):(this.containerFail=!0,this.$emit("fail"),setTimeout((function(){t.reset()}),1e3))},verify:function(){var e=this.trail,t=e.reduce(o)/e.length,i=e.map((function(e){return e-t})),s=Math.sqrt(i.map(a).reduce(o)/e.length),r=parseInt(this.block.style.left);return{spliced:Math.abs(r-this.block_x)<10,TuringTest:t!==s}},reset:function(){this.containerActive=!1,this.containerSuccess=!1,this.containerFail=!1,this.sliderLeft=0,this.block.style.left=0,this.sliderMaskWidth=0;var e=this.w,t=this.h;this.canvasCtx.clearRect(0,0,e,t),this.blockCtx.clearRect(0,0,e,t),this.block.width=e,this.img.src=this.getRandomImg()}}},l=c,u=(i("b047"),i("2877")),d=Object(u["a"])(l,s,r,!1,null,"46f4fdff",null);t["a"]=d.exports},c017:function(e,t,i){e.exports=i.p+"static/img/slide-4.69bbd474.jpg"},c5f6:function(e,t,i){"use strict";var s=i("7726"),r=i("69a8"),n=i("2d95"),o=i("5dbc"),a=i("6a99"),c=i("79e5"),l=i("9093").f,u=i("11e9").f,d=i("86cc").f,h=i("aa77").trim,f="Number",p=s[f],g=p,m=p.prototype,v=n(i("2aeb")(m))==f,b="trim"in String.prototype,w=function(e){var t=a(e,!1);if("string"==typeof t&&t.length>2){t=b?t.trim():h(t,3);var i,s,r,n=t.charCodeAt(0);if(43===n||45===n){if(i=t.charCodeAt(2),88===i||120===i)return NaN}else if(48===n){switch(t.charCodeAt(1)){case 66:case 98:s=2,r=49;break;case 79:case 111:s=8,r=55;break;default:return+t}for(var o,c=t.slice(2),l=0,u=c.length;l<u;l++)if(o=c.charCodeAt(l),o<48||o>r)return NaN;return parseInt(c,s)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,i=this;return i instanceof p&&(v?c((function(){m.valueOf.call(i)})):n(i)!=f)?o(new g(w(t)),i,p):w(t)};for(var k,y=i("9e1e")?l(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;y.length>x;x++)r(g,k=y[x])&&!r(p,k)&&d(p,k,u(g,k));p.prototype=m,m.constructor=p,i("2aba")(s,f,p)}},ecb3:function(e,t,i){},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);