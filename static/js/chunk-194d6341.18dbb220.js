(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-194d6341"],{"0074":function(t,e,n){"use strict";var r=n("42b8"),o=n.n(r);o.a},"42b8":function(t,e,n){},6886:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rebookOrder"},[n("el-dialog",{attrs:{title:"改签",visible:t.show,top:"10px",width:"80%","close-on-click-modal":!1},on:{"update:visible":function(e){t.show=e},closed:t.closed}},[n("el-card",{staticClass:"anoCard"},[n("div",{staticClass:"headerBox",attrs:{slot:"header"},slot:"header"},[n("el-date-picker",{staticStyle:{"margin-left":"10px"},attrs:{type:"date",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",placeholder:"选择日期"},on:{change:t.dayChange},model:{value:t.activeDay,callback:function(e){t.activeDay=e},expression:"activeDay"}})],1),n("div",{staticStyle:{"margin-top":"20px"}},[n("el-tabs",{attrs:{stretch:""},on:{"tab-click":t.handleTabsClick},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},t._l(t.dayList,(function(t,e){return n("el-tab-pane",{key:e,attrs:{label:t.day+" "+t.week,name:t.day}})})),1)],1),t._l(t.workData,(function(e,r){return n("div",{key:r,staticClass:"orderBox"},[n("div",{staticClass:"orderTime"},[t._v("\n          "+t._s(t.handleTimeText(r))+"\n        ")]),n("el-row",{attrs:{gutter:24}},t._l(e,(function(e,r){return n("el-col",{key:r,attrs:{span:4}},[n("div",{staticClass:"orderItem",class:{activeItem:t.activeWorkId==e.work_id},on:{click:function(n){return t.selectWork(e)}}},[n("div",{staticClass:"time"},[t._v("\n                "+t._s(e.work_time)+"\n              ")]),n("div",{staticClass:"orderInfo"},[t._v("\n                订单："+t._s(e.order_num)+" 工位："+t._s(e.work_num)+"\n              ")]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.order_num>=e.work_num,expression:"innerItem.order_num >= innerItem.work_num"}],staticClass:"fullIcon"},[t._v("\n                满\n              ")]),n("div",{directives:[{name:"show",rawName:"v-show",value:0==e.is_work,expression:"innerItem.is_work == 0"}],staticClass:"closeIcon"},[t._v("\n                关\n              ")])])])})),1)],1)}))],2),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:t.closed}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1)],1)],1)},o=[],i=(n("7f7f"),n("e692")),a=n("9add"),d=n("f8b7"),s={data:function(){return{show:!1,order_id:"",activeDay:"",games_list:[],activeShop:{},workData:[],tipMes:"",activeTab:"",loadingMenu:!1,dayList:[],activeWorkId:""}},components:{},filters:{},onLoad:function(t){},onShow:function(){},mounted:function(){},computed:{},methods:{selectWork:function(t){t.order_num>=t.work_num||(this.activeWorkId=t.work_id)},shopScroll:function(){var t=this.$refs["dropMenuRef"].scrollHeight-this.$refs["dropMenuRef"].scrollTop<=this.$refs["dropMenuRef"].clientHeight;t&&this.page<this.page_count&&(this.page=this.page+1,this.getShopList())},handleTabsClick:function(t){this.dayChange(t.name)},dayChange:function(t){this.activeDay=t,this.getWeekList(t),this.activeOrder="",this.activeWorkId=""},changeShop:function(t){this.activeShop=t,this.getWeekList(),this.activeOrder="",this.activeWorkId=""},getNowFormatDate:function(){var t=new Date,e=t.getFullYear(),n=t.getMonth()+1,r=t.getDate();n<10&&(n="0".concat(n)),r<10&&(r="0".concat(r)),this.activeDay="".concat(e,"-").concat(n,"-").concat(r)},getShopList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.loadingMenu=!0,Object(i["j"])({page:e}).then((function(e){0==e.code&&(t.page_count=e.data.page_count,1==t.page?t.games_list=e.data.list:t.games_list=t.games_list.concat(e.data.list),"{}"==JSON.stringify(t.activeShop)&&(t.activeShop=t.games_list[0]),t.getWeekList())})).finally((function(){t.loadingMenu=!1}))},handleTimeText:function(t){switch(t){case 0:return"上午时段";case 1:return"下午时段";case 2:return"晚上时段";default:break}},handleActiveOrder:function(t){return this.activeOrder==t},formatterDay:function(t){var e=t.getFullYear(),n=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,r=t.getDate()<10?"0"+t.getDate():t.getDate(),o=t.getDay();switch(o){case 0:return{day:e+"-"+n+"-"+r,dayText:n+"月"+r+"日",week:"星期日"};case 1:return{day:e+"-"+n+"-"+r,dayText:n+"月"+r+"日",week:"星期一"};case 2:return{day:e+"-"+n+"-"+r,dayText:n+"月"+r+"日",week:"星期二"};case 3:return{day:e+"-"+n+"-"+r,dayText:n+"月"+r+"日",week:"星期三"};case 4:return{day:e+"-"+n+"-"+r,dayText:n+"月"+r+"日",week:"星期四"};case 5:return{day:e+"-"+n+"-"+r,dayText:n+"月"+r+"日",week:"星期五"};case 6:return{day:e+"-"+n+"-"+r,dayText:n+"月"+r+"日",week:"星期六"};default:return{day:e+"-"+n+"-"+r,dayText:n+"月"+r+"日",week:"星期日"}}},getWeekList:function(t){var e=null;e=t?new Date(t).getTime():this.activeDay?new Date(this.activeDay).getTime():(new Date).getTime();var n=new Date(e-3456e5);console.log(e,n);for(var r=[],o=0;o<7;o++){n.setDate(n.getDate()+1);var i=this.formatterDay(n);r.push(i)}this.dayList=r,this.activeTab=r[3].day,this.getWorkData()},getWorkData:function(t){var e=this;Object(a["g"])({shop_id:this.activeShop.shop_id,day:t||this.activeDay}).then((function(t){console.log(t),e.workData=t.data,e.tipMes=t.msg}))},submit:function(){var t=this;""==this.activeWorkId?this.$message({message:"请选择改签时间",type:"error"}):Object(d["p"])({order_id:this.order_id,work_id:this.activeWorkId}).then((function(e){0==e.code&&(t.$message({message:"改签成功",type:"success"}),t.$parent.refresh(),t.show=!1)}))},open:function(t,e){this.show=!0,this.order_id=t,this.activeWorkId=e,this.getNowFormatDate(),this.getShopList()},closed:function(){this.order_id="",this.activeWorkId="",this.show=!1}}},c=s,u=(n("0074"),n("2877")),l=Object(u["a"])(c,r,o,!1,null,"1868fd70",null);e["default"]=l.exports},"9add":function(t,e,n){"use strict";n.d(e,"d",(function(){return i})),n.d(e,"a",(function(){return a})),n.d(e,"n",(function(){return d})),n.d(e,"p",(function(){return s})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return u})),n.d(e,"e",(function(){return l})),n.d(e,"o",(function(){return h})),n.d(e,"g",(function(){return f})),n.d(e,"f",(function(){return p})),n.d(e,"h",(function(){return v})),n.d(e,"j",(function(){return g})),n.d(e,"l",(function(){return m})),n.d(e,"k",(function(){return k})),n.d(e,"m",(function(){return y})),n.d(e,"i",(function(){return b}));var r=n("365c"),o={brandList:"list",addBrand:"add",runBrand:"run",stopBrand:"stop",editBrand:"mod",getAppBindUrl:"getAppBindUrl",getGhMes:"getAppBindInfo",setBookConfig:"bookConfig",brandMod:"mod",getBookConfig:"getBookConfig",getWorkData:"workData",getReport:"report",setTemplate:"setTemplate",mchInfoAdd:"mchInfoAdd",mchInfoMod:"mchInfoMod",mchInfoStepGet:"mchInfoStepGet",mchInfoSave:"mchInfoSave",mchInfoSubmit:"mchInfoSubmit",mchInfoGet:"mchInfoGet"};function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(o.brandList,t,"api/brand")}function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(o.addBrand,t,"api/brand")}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(o.runBrand,t,"api/brand")}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(o.stopBrand,t,"api/brand")}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(o.editBrand,t,"api/brand")}function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(o.getAppBindUrl,t,"api/brand")}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(o.getGhMes,t,"api/brand")}function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(o.setBookConfig,t,"api/brand")}function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(o.getWorkData,t,"api/brand")}function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(o.getReport,t,"api/brand")}function v(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(o.mchInfoAdd,t,"api/brand")}function g(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(o.mchInfoMod,t,"api/brand")}function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(o.mchInfoStepGet,t,"api/brand")}function k(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(o.mchInfoSave,t,"api/brand")}function y(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(o.mchInfoSubmit,t,"api/brand")}function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(o.mchInfoGet,t,"api/brand")}},f8b7:function(t,e,n){"use strict";n.d(e,"i",(function(){return i})),n.d(e,"h",(function(){return a})),n.d(e,"b",(function(){return d})),n.d(e,"m",(function(){return s})),n.d(e,"o",(function(){return c})),n.d(e,"e",(function(){return u})),n.d(e,"c",(function(){return l})),n.d(e,"g",(function(){return h})),n.d(e,"k",(function(){return f})),n.d(e,"l",(function(){return p})),n.d(e,"d",(function(){return v})),n.d(e,"f",(function(){return g})),n.d(e,"n",(function(){return m})),n.d(e,"p",(function(){return k})),n.d(e,"a",(function(){return y})),n.d(e,"j",(function(){return b})),n.d(e,"q",(function(){return w}));var r=n("365c"),o={list:"list",setAddress:"setAddress",getShipComs:"getShipComs",setShip:"setShip",getOrderInfo:"info",contactMod:"contactMod",noticeMod:"noticeMod",priceReduce:"reduce",priceCredit:"credit",getCreditList:"creditList",creditDel:"creditDel",getOGoodsList:"goodsList",goodsAdd:"goodsAdd",goodsDel:"goodsDel",finishOrder:"finish",listWork:"listWork",orderAdd:"add",reBook:"reBook",cancelOrder:"cancel",getShipList:"express",setShiping:"setShiping"};function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(o.list,t,"api/order")}function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(o.getOrderInfo,t,"api/order")}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(o.contactMod,t,"api/order")}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(o.noticeMod,t,"api/order")}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(o.priceCredit,t,"api/order")}function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(o.getCreditList,t,"api/order")}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(o.creditDel,t,"api/order")}function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(o.getOGoodsList,t,"api/order")}function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(o.goodsAdd,t,"api/order")}function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(o.goodsDel,t,"api/order")}function v(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(o.finishOrder,t,"api/order")}function g(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(o.listWork,t,"api/order")}function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(o.orderAdd,t,"api/order")}function k(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(o.reBook,t,"api/order")}function y(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(o.cancelOrder,t,"api/order")}function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(o.getShipList,t,"api/order")}function w(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(o.setShiping,t,"api/order")}}}]);