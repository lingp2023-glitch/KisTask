(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-420d654e"],{"0c12":function(i,t,e){},"8f2e":function(i,t,e){"use strict";e.r(t);var s=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"adm"},[e("el-dialog",{attrs:{title:"管理员",visible:i.dialog,width:"500px"},on:{"update:visible":function(t){i.dialog=t},closed:i.closedDialog}},[e("el-form",{directives:[{name:"loading",rawName:"v-loading",value:i.loadingList,expression:"loadingList"}]},i._l(i.managerList,(function(t,s){return e("el-form-item",{key:s,attrs:{prop:"shop_name"}},[e("div",{staticClass:"userItem"},[e("el-radio",{attrs:{label:t.userid},on:{change:i.bindBoss},model:{value:i.userid,callback:function(t){i.userid=t},expression:"userid"}},[e("el-avatar",{staticStyle:{"vertical-align":"middle",margin:"0 10px"},attrs:{size:"medium",src:t.headimg}}),e("span",[i._v(i._s(t.nickname))]),0==t.is_sub?e("span",{staticStyle:{"margin-left":"5px",color:"#f56c6c"}},[i._v("(未关注营养管理商家助手)")]):i._e(),i.userid==t.userid?e("i",{staticClass:"el-icon-user iconClass"}):i._e()],1),e("el-link",{attrs:{title:"解除绑定",underline:!1},on:{click:function(e){return i.showUnbind(t.userid)}}},[e("i",{staticClass:"el-icon-aliun-link",staticStyle:{"font-size":"24px","margin-top":"10px"}})])],1)])})),1),e("span",{attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"success",icon:"el-icon-full-screen"},on:{click:i.onPreview}},[i._v("扫码绑定")])],1)],1),i.showViewer?e("el-image-viewer",{attrs:{"on-close":i.closeViewer,zIndex:9999,"url-list":[i.url]}}):i._e(),e("el-dialog",{attrs:{title:"提示",visible:i.delControl,width:"20%","before-close":i.handleClose},on:{"update:visible":function(t){i.delControl=t}}},[e("span",{staticStyle:{"font-size":"18px"}},[e("i",{staticClass:"el-icon-warning",staticStyle:{color:"#f56c6c"}}),i._v(" 确认解绑？")]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(t){i.delControl=!1}}},[i._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:function(t){return i.unbindMana()}}},[i._v("确 定")])],1)])],1)},n=[],o=e("e692"),l=(e("2f62"),e("08a9")),a={data:function(){return{shop_id:null,qrfile:null,dialog:!1,loadingList:!1,managerList:[],showViewer:!1,url:"",delControl:!1,delShopId:null,userid:null}},components:{ElImageViewer:l["a"]},activated:function(){},watch:{},created:function(){},mounted:function(){},computed:{},methods:{showUnbind:function(i){this.delShopId=i,this.delControl=!0},handleClose:function(){this.delControl=!1},onPreview:function(){this.url=this.qrfile,this.showViewer=!0},closeViewer:function(){this.showViewer=!1},unbindMana:function(){var i=this;Object(o["q"])({shop_id:this.shop_id,userid:this.delShopId}).then((function(t){0==t.code&&(i.$message({message:"解绑成功！",type:"success"}),i.getManagerList(),i.delControl=!1)}))},bindBoss:function(i){var t=this;this.loadingList=!0,Object(o["b"])({shop_id:this.shop_id,userid:i}).then((function(i){0==i.code&&t.$message({message:"设置店主成功！",type:"success"}),t.loadingList=!1}))},open:function(i,t){console.log(i),this.shop_id=i,this.qrfile=t,this.dialog=!0,this.getManagerList()},getManagerList:function(){var i=this;this.loadingList=!0,Object(o["f"])({shop_id:this.shop_id}).then((function(t){0==t.code&&(i.managerList=t.data,i.managerList&&i.managerList.map((function(t){1==t.is_boss&&(i.userid=t.userid)})))})).finally((function(){i.loadingList=!1}))},closedDialog:function(){this.shop_id=null,this.managerList=[],this.url="",this.delShopId=null,this.userid=null},submit:function(){}}},r=a,c=(e("b363"),e("2877")),d=Object(c["a"])(r,s,n,!1,null,"02695fea",null);t["default"]=d.exports},b363:function(i,t,e){"use strict";var s=e("0c12"),n=e.n(s);n.a}}]);